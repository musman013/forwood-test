{"_index":"2000000001.1000000001","_type":"_doc","_id":"2000000001.0443429762.2000000001.TipoDefinition.CreateIncident","_version":1096,"_score":1,"_source":{"___commit_number___":"718c90da-bc03-458a-9d0a-f15fda8d5aae","off_tipo_id":"0083279525","tipo_id":"CreateIncident","application":"0443429762","tipo_meta":{"display_name":"CreateIncident","tipo_type_labels":["Simple Tipo"],"tipo_type":["entity"],"tipo_type_copy_labels":"Simple Tipo","tipo_type_copy":"entity","tipo_name":"CreateIncident","description":"create incident","switch_perspectives":false,"pre_load":true,"hide_create":false,"hide_edit":true,"desktop_max_columns":"3","tablet_max_columns":"2","mobile_max_columns":"1","actions_vertical":false,"grid_max_columns":"10","show_in_wizard":false,"wizard_direction":"Vertical","do_not_enforce_sequence":true},"tipo_fields":[{"sequence":-1,"display_name___token":"TT___INCIDENT_ID","display_name":"Incident ID","field_type_labels":"Text","field_type":"string","list_display":true,"field_name":"tipo_id","read_only":true,"element_style":"{'padding-left': '16px !important'}","hidden_":false,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"_ARRAY_META":{"_HASH":"5895765338"}},{"sequence":0.7,"display_name___token":"TT___APPROVE","display_name":"Approve","field_type_labels":"Action","field_type":"action","field_name":"approve_private","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"element_style":"{'padding-right':'10px'}","tablet_field_width":"1","hidden_label":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"visibility_expression":"$tipo.overview_incident_status___token === 'TT___UNDER_REVIEW' && ($tipo.overview_AllInvestigationFinalisedSelected) && ((($tipo_handle.user_meta.user_attributes.user.site_or_company && $tipo_handle.user_meta.user_attributes.user.site_or_company === $tipo.site) &&  $tipo_handle.user_meta.role === 'Manager' )|| $tipo_handle.user_meta.role.endsWith('SiteAdmin'))","fill_space_invisible":false,"relationship_type":"reference","action_settings_":{"javascript_code":"// code is added to send email notification when investingation finalized\r\ntipoHandle.tipoInternalHandleService.tipoDataService.getTipo('CreateIncident', data_handle.tipo.tipo_id, {}, true, undefined, undefined, true, true).subscribe();\r\nif (data_handle.tipo.overview_incident_status___token === 'TT___UNDER_REVIEW' && data_handle.tipo.confirmations.filter(item => item.Investigation_finalised === true)) {\r\n    data_handle.tipo.overview_incident_status___token = 'TT___FINAL';\r\n    tipoHandle.updateTipo('CreateIncident', data_handle.tipo.tipo_id, data_handle.tipo).then((res) => {\r\n        if (res) {\r\n            tipoHandle.showMessage('' + tipoHandle.getInstantTranslation('TT___THE_REPORTED_INCIDENT_FINALIZED_INCID') + ' ' + data_handle.tipo.tipo_id, '');\r\n            data_handle.formControl.get('overview_incident_status___token').setValue('TT___FINAL');\r\n            // Code is added to send email notification close of any incident\r\n            setTimeout(() => {\r\n                const domain = window.localStorage.getItem('server_url') ? window.localStorage.getItem('server_url') : window.location.origin + '/';\r\n                const INCIDENT_LINK = domain + '#/tipo/CreateIncident/' + data_handle.tipo.tipo_id;\r\n                const APP_LINK = domain + '#/login';\r\n                const Incident_Number = data_handle.tipo.tipo_id;\r\n                const Incident_Status = data_handle.tipo.overview_incident_status;\r\n                const Incident_Type = data_handle.tipo.incident_type_labels.toString();\r\n                const Short_Description = data_handle.tipo.what_briefly_describe_the_incident;\r\n                const Investigation_Completed = data_handle.tipo.investigation_completed_ ? 'Yes' : 'No';\r\n                const Company = data_handle.tipo.client_labels;\r\n                const Region = data_handle.tipo.company_labels;\r\n                const Area = data_handle.tipo.structure_level_1_labels;\r\n                const dt = data_handle.tipo.when_date_and_time_of_incident;\r\n                const Date = dt ? tipoHandle.getDateUtil(dt).toString() : '';\r\n\r\n                // let filter = `(site_or_company:${data_handle.tipo.where_incidentlocn.site[0]} AND status:ACTIVE AND (jobRoleCategory.keyword:(Manager) OR (roles.keyword:SiteAdmin)))`;\r\n                let filter = `(site_or_company:${data_handle.tipo.where_incidentlocn.company[0]} AND status:ACTIVE AND (jobRoleCategory.keyword:(Manager) OR (roles.keyword:SiteAdmin)))`;\r\n                tipoHandle.getTipos('TipoFIDUser', { tipo_filter: filter }).then((res) => {\r\n                    console.log(res, '=====');\r\n                    let updatedUsers, allUsers = [];\r\n                    const users = res.count > 0 ? res.map(t => t.email) : [];\r\n                    if (data_handle.tipo.who_Team.notify_responsible_persons) {\r\n                        updatedUsers = [data_handle.tipo.who_Team.responsible_manager];\r\n                        allUsers = [...users, ...updatedUsers];\r\n                    } else {\r\n                        allUsers = [...users];\r\n                    }\r\n                    let subject = 'An Incident Number ' + Incident_Number + ' is finalized'\r\n                    let body = '<html> <head> <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /> </head> <body> <div> <p style=\"font-size: 11pt; font-family: Calibri, sans-serif; margin: 0\"><h4>Incident Details:</h4> <div> Incident Number: ' + Incident_Number + '</div> <div> Incident Status: ' + Incident_Status + '</div> <div>Incident Type: ' + Incident_Type + '</div><div> Region: ' + Region + '</div><div> Area: ' + Area + '</div> <div>Date: ' + Date + '</div> <div> Description: ' + Short_Description + '</div>   You can view the incident details <a href=\"' + INCIDENT_LINK + '\" target=\"_blank\" rel=\"noopener noreferrer\" data-auth=\"NotApplicable\" data-linkindex=\"5\" >here</a >.</span > </p> <br> <p> <span style=\"color: black; font-size: 9pt; font-family: Tahoma, sans-serif\" >Kind regards,</span > </p> <p> <span style=\"color: black; font-size: 9pt; font-family: Tahoma, sans-serif\" >Forwood Safety Team</span > </p> <p> <span style=\"color: black; font-size: 9pt; font-family: Tahoma, sans-serif\" ><a href=\"' + APP_LINK + '\" target=\"_blank\" rel=\"noopener noreferrer\" data-auth=\"NotApplicable\" data-linkindex=\"6\" >Forwood Safety Portal</a ></span > </p> <br> <hr/> <p style=\"font-size: 11pt; font-family: Calibri, sans-serif; margin: 0\"> <span style=\"color: black\" ><br />Please note that for security reasons <b>you need to be logged into the portal</b> in order to use any direct links presented in this email.<br />After logging into the portal you can click on the link(s) to access the respective page(s).<br /><br />This is an automated message from the Forwood Safety Portal.<br />Please do not reply to this message. </span> </p> </div> </body></html>';\r\n                    sendEmail(allUsers, subject, body);\r\n                });\r\n            }, 5000);\r\n\r\n        }\r\n\r\n    })\r\n}\r\nfunction sendEmail(users, subject, body) {\r\n\r\n    console.log(users, subject, body);\r\n    const recipents_limit = 50;\r\n    var a = _.uniq(users);\r\n    while (a.length) {\r\n        let recipents = a.splice(0, recipents_limit);\r\n        console.log(recipents.toString());\r\n        tipoHandle.sendEmail(recipents.toString(), subject, body);\r\n    }\r\n}\r\nreturn true;"},"_ARRAY_META":{"_HASH":"0042909131"}},{"sequence":1,"display_name___token":"TT___START_INVESTIGATION","display_name":"Start Investigation","field_type_labels":"Action","field_type":"action","field_name":"investigate","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"value_class_labels":"Border success","value_class":"action-button","tablet_field_width":"1","hidden_label":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"visibility_expression":"$tipo.overview_incident_status___token === 'TT___REPORTED' && ($tipo.overview_restricted_access_incident___token === 'TT___UNRESTRICTED')","fill_space_invisible":false,"relationship_type":"reference","action_settings_":{"javascript_code":"data_handle.tipo.overview_incident_status___token = 'TT___UNDER_INVESTIGATION';\r\ntipoHandle.updateTipo('CreateIncident', data_handle.tipo.tipo_id, data_handle.tipo,true, true).then((res) => {\r\n    if (res) {\r\n        setTimeout(() => {\r\n            tipoHandle.showMessage('' + tipoHandle.getInstantTranslation('TT___SUCCESSFULLY_MARKED_AS_UNDER_INVESTIGATI') + data_handle.tipo.tipo_id , '');\r\n            data_handle.formControl.get('overview_incident_status___token').setValue('TT___UNDER_INVESTIGATION');\r\n            tipoHandle.getTipo('CreateIncident', data_handle.tipo.tipo_id).then((res) => {\r\n                tipoHandle.toTipo('edit',data_handle.tipo.tipo_name,data_handle.tipo.tipo_id);\r\n            })\r\n        }, 1000);\r\n        \r\n    }\r\n});\r\n\r\n   return true;"},"_ARRAY_META":{"_HASH":"8093023842"}},{"sequence":1,"display_name___token":"TT___REJECT","display_name":"Reject","field_type_labels":"Action","field_type":"action","field_name":"reject","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"element_style":"{'padding-left':'10px'}","tablet_field_width":"1","hidden_label":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"visibility_expression":"$tipo.overview_incident_status___token === 'TT___UNDER_REVIEW' &&  ($tipo_handle.user_meta.role.endsWith('SiteAdmin') ||(($tipo_handle.user_meta.user_attributes.user.site_or_company && $tipo_handle.user_meta.user_attributes.user.site_or_company === $tipo.site) &&  $tipo_handle.user_meta.role === 'Manager'))","relationship_type":"reference","action_settings_":{"javascript_code":"tipoHandle.tipoInternalHandleService.tipoDataService.getTipo('CreateIncident', data_handle.tipo.tipo_id, {}, true, undefined, undefined, true, true).subscribe();\r\ndata_handle.tipo.overview_incident_status___token = 'TT___UNDER_INVESTIGATION';\r\n\r\ntipoHandle.presentTipoForm(\"Reject Reason\", \"RejectIncident\", \"create\", { tipo: {}, hide_actions: true }, []).then(function (res) {\r\n    console.log('***', res);\r\n    // Success function\r\n    //let subject = 'An Incident submitted has been Rejected';\r\n    tipoHandle.updateTipo('CreateIncident', data_handle.tipo.tipo_id, data_handle.tipo).then((res1) => {\r\n        if (res1) {\r\n            setTimeout(() => {\r\n                tipoHandle.showMessage('' + tipoHandle.getInstantTranslation('TT___INVESTIGATION_REPORT_REJECTED_INCIDENT_I') + data_handle.tipo.tipo_id, '');\r\n                data_handle.formControl.get('overview_incident_status___token').setValue('TT___UNDER_INVESTIGATION');\r\n                tipoHandle.getTipo('CreateIncident', data_handle.tipo.tipo_id);\r\n                setTimeout(() => {\r\n\r\n                    const domain = window.localStorage.getItem('server_url') ? window.localStorage.getItem('server_url') : window.location.origin + '/';\r\n                    const INCIDENT_LINK = domain + '#/tipo/CreateIncident/' + data_handle.tipo.tipo_id;\r\n                    const APP_LINK = domain + '#/login';\r\n                    const Incident_Number = data_handle.tipo.tipo_id;\r\n                    const Incident_Type = data_handle.tipo.incident_type_labels.toString();\r\n                    const Short_Description = data_handle.tipo.what_briefly_describe_the_incident;\r\n                    const Incident_Status = data_handle.tipo.overview_incident_status;\r\n                    const Investigation_Completed = data_handle.tipo.investigation_completed_ ? 'Yes' : 'No';\r\n                    const Company = data_handle.tipo.client_labels;\r\n                    const Region = data_handle.tipo.company_labels;\r\n                    const Area = data_handle.tipo.structure_level_1_labels;\r\n                    const dt = data_handle.tipo.when_date_and_time_of_incident;\r\n                    const Date = dt ? tipoHandle.getDateUtil(dt).toString() : '';\r\n                    const RejectReason = res.reject_reason;\r\n                    let result = (data_handle.tipo.confirmations || []).map(item => item.addperson_PersonDetails);\r\n                    //const users = result.count > 0 ? result.map(t => t.email) : [];\r\n                    // let filter = `(site_or_company:${data_handle.tipo.where_incidentlocn.site[0]} AND status:ACTIVE AND (jobRoleCategory.keyword:(Manager) OR (roles.keyword:SiteAdmin)))`;\r\n                    let filter = `(site_or_company:${data_handle.tipo.where_incidentlocn.company[0]} AND status:ACTIVE AND (jobRoleCategory.keyword:(Manager) OR (roles.keyword:SiteAdmin)))`;\r\n                    tipoHandle.getTipos('TipoFIDUser', { tipo_filter: filter }).then((res2) => {\r\n                        console.log(res, '=====');\r\n                        let updatedUsers, allUsers = [];\r\n                        const users = res2.count > 0 ? res2.map(t => t.email) : [];\r\n                        if (data_handle.tipo.who_Team.notify_responsible_persons) {\r\n                            updatedUsers = [data_handle.tipo.who_Team.responsible_manager];\r\n                            allUsers = [...users, ...updatedUsers];\r\n                        } else {\r\n                            allUsers = [...users];\r\n                        }\r\n                        let subject = 'An Incident Number ' + Incident_Number + ' has been Rejected';\r\n                        let body = '<html> <head> <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /> </head> <body> <div> <p style=\"font-size: 11pt; font-family: Calibri, sans-serif; margin: 0\"><h4>Incident Details:</h4> <div> Incident Number: ' + Incident_Number + '</div> <div> Incident Status: ' + Incident_Status + '</div> <div>Incident Type: ' + Incident_Type + '</div> <div> Region: ' + Region + '</div> <div> Area: ' + Area + '</div> <div>Date: ' + Date + '</div> <div> Description: ' + Short_Description + '</div>  <p> <div>The incident is rejected & reject reason is <b> ' + RejectReason + ' </b>. </div> </p> You can view the incident details <a href=\"' + INCIDENT_LINK + '\" target=\"_blank\" rel=\"noopener noreferrer\" data-auth=\"NotApplicable\" data-linkindex=\"5\" >here</a >.</span > </p> <br> <p> <span style=\"color: black; font-size: 9pt; font-family: Tahoma, sans-serif\" >Kind regards,</span > </p> <p> <span style=\"color: black; font-size: 9pt; font-family: Tahoma, sans-serif\" >Forwood Safety Team</span > </p> <p> <span style=\"color: black; font-size: 9pt; font-family: Tahoma, sans-serif\" ><a href=\"' + APP_LINK + '\" target=\"_blank\" rel=\"noopener noreferrer\" data-auth=\"NotApplicable\" data-linkindex=\"6\" >Forwood Safety Portal</a ></span > </p> <br> <hr/> <p style=\"font-size: 11pt; font-family: Calibri, sans-serif; margin: 0\"> <span style=\"color: black\" ><br />Please note that for security reasons <b>you need to be logged into the portal</b> in order to use any direct links presented in this email.<br />After logging into the portal you can click on the link(s) to access the respective page(s).<br /><br />This is an automated message from the Forwood Safety Portal.<br />Please do not reply to this message. </span> </p> </div> </body></html>';\r\n                        sendEmail(allUsers, subject, body);\r\n                    })\r\n                }, 5000);\r\n\r\n            }, 1000);\r\n        }\r\n    });\r\n});\r\n\r\n\r\nfunction sendEmail(users, subject, body) {\r\n    console.log(users, subject, body);\r\n    const recipents_limit = 50;\r\n    var a = _.uniq(users);\r\n    while (a.length) {\r\n        let recipents = a.splice(0, recipents_limit);\r\n        console.log(recipents.toString());\r\n        tipoHandle.sendEmail(recipents.toString(), subject, body);\r\n    }\r\n}\r\n\r\nreturn true;"},"_ARRAY_META":{"_HASH":"8318902378"}},{"sequence":1,"display_name___token":"TT___CLOSE_59","display_name":"Close","field_type_labels":"Action","field_type":"action","field_name":"close","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"tablet_field_width":"1","hidden_label":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"visibility_expression":"$tipo.overview_incident_status___token === 'TT___FINAL' &&  ($tipo_handle.user_meta.role.endsWith('SiteAdmin') ||(($tipo_handle.user_meta.user_attributes.user.site_or_company && $tipo_handle.user_meta.user_attributes.user.site_or_company === $tipo.site) &&  $tipo_handle.user_meta.role === 'Manager'))","relationship_type":"reference","action_settings_":{"javascript_code":"tipoHandle.tipoInternalHandleService.tipoDataService.getTipo('CreateIncident', data_handle.tipo.tipo_id, {}, true, undefined, undefined, true, true).subscribe();\r\nif (data_handle.tipo.overview_incident_status___token === 'TT___FINAL' && data_handle.tipo.overview_outstanding_actions == 0) {\r\n    data_handle.tipo.overview_incident_status___token = 'TT___CLOSED';\r\n    tipoHandle.updateTipo('CreateIncident', data_handle.tipo.tipo_id, data_handle.tipo).then((res) => {\r\n        if (res) {\r\n            tipoHandle.showMessage('' + tipoHandle.getInstantTranslation('TT___REPORTED_INCIDENT_CLOSED_INCIDENT_ID') + data_handle.tipo.tipo_id, '');\r\n            data_handle.formControl.get('overview_incident_status___token').setValue('TT___CLOSED');\r\n            tipoHandle.getTipo('CreateIncident', data_handle.tipo.tipo_id);\r\n            // Code is added to send email notification close of any incident\r\n            setTimeout(() => {\r\n                const domain = window.localStorage.getItem('server_url') ? window.localStorage.getItem('server_url') : window.location.origin + '/';\r\n                const INCIDENT_LINK = domain + '#/tipo/CreateIncident/' + data_handle.tipo.tipo_id;\r\n                const APP_LINK = domain + '#/login';\r\n                const Incident_Number = data_handle.tipo.tipo_id;\r\n                const Incident_Status = data_handle.tipo.overview_incident_status;\r\n                const Incident_Type = data_handle.tipo.incident_type_labels.toString();\r\n                const Short_Description = data_handle.tipo.what_briefly_describe_the_incident;\r\n                const Investigation_Completed = data_handle.tipo.investigation_completed_ ? 'Yes' : 'No';\r\n                const Company = data_handle.tipo.client_labels;\r\n                const Region = data_handle.tipo.company_labels;\r\n                const Area = data_handle.tipo.structure_level_1_labels;\r\n                const dt = data_handle.tipo.when_date_and_time_of_incident;\r\n                const Date = dt ? tipoHandle.getDateUtil(dt).toString() : '';\r\n\r\n                // let filter = `(site_or_company:${data_handle.tipo.where_incidentlocn.site[0]} AND status:ACTIVE AND (jobRoleCategory.keyword:(Manager) OR (roles.keyword:SiteAdmin)))`;\r\n                let filter = `(site_or_company:${data_handle.tipo.where_incidentlocn.company[0]} AND status:ACTIVE AND (jobRoleCategory.keyword:(Manager) OR (roles.keyword:SiteAdmin)))`;\r\n                tipoHandle.getTipos('TipoFIDUser', { tipo_filter: filter }).then((res) => {\r\n                    console.log(res, '=====');\r\n                    let updatedUsers, allUsers = [];\r\n                    const users = res.count > 0 ? res.map(t => t.email) : [];\r\n                    if (data_handle.tipo.who_Team.notify_responsible_persons) {\r\n                        updatedUsers = [data_handle.tipo.who_Team.responsible_manager];\r\n                        allUsers = [...users, ...updatedUsers];\r\n                    } else {\r\n                        allUsers = [...users];\r\n                    }\r\n                    let subject = 'An Incident Number ' + Incident_Number + ' has been closed';\r\n                    let body = '<html> <head> <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /> </head> <body> <div> <p style=\"font-size: 11pt; font-family: Calibri, sans-serif; margin: 0\"> <h4>Incident Details:</h4> <div> Incident Number: ' + Incident_Number + '</div> <div> Incident Status: ' + Incident_Status + '</div><div>Incident Type: ' + Incident_Type + '</div><div> Region: ' + Region + '</div> <div> Area: ' + Area + '</div> <div>Date: ' + Date + '</div> <div> Description: ' + Short_Description + '</div> <p> <div>The Incident is Closed and has no outstanding actions. </div> </p> You can view the incident details <a href=\"' + INCIDENT_LINK + '\" target=\"_blank\" rel=\"noopener noreferrer\" data-auth=\"NotApplicable\" data-linkindex=\"5\" >here</a >.</span > </p> <br> <p> <span style=\"color: black; font-size: 9pt; font-family: Tahoma, sans-serif\" >Kind regards,</span > </p> <p> <span style=\"color: black; font-size: 9pt; font-family: Tahoma, sans-serif\" >Forwood Safety Team</span > </p> <p> <span style=\"color: black; font-size: 9pt; font-family: Tahoma, sans-serif\" ><a href=\"' + APP_LINK + '\" target=\"_blank\" rel=\"noopener noreferrer\" data-auth=\"NotApplicable\" data-linkindex=\"6\" >Forwood Safety Portal</a ></span > </p> <br> <hr/> <p style=\"font-size: 11pt; font-family: Calibri, sans-serif; margin: 0\"> <span style=\"color: black\" ><br />Please note that for security reasons <b>you need to be logged into the portal</b> in order to use any direct links presented in this email.<br />After logging into the portal you can click on the link(s) to access the respective page(s).<br /><br />This is an automated message from the Forwood Safety Portal.<br />Please do not reply to this message. </span> </p> </div> </body></html>';\r\n                    sendEmail(allUsers, subject, body);\r\n                });\r\n            }, 5000);\r\n        }\r\n\r\n    })\r\n} else {\r\n    const count = data_handle.tipo.confirmations.filter(item => !item.Investigation_finalised).length;\r\n\r\n    tipoHandle.showMessage(`\r\n        ${tipoHandle.getInstantTranslation('TT___THIS_INCIDENT_CANNOT_BE_CLOSED_SINCE_THE')} \r\n        ${data_handle.tipo.overview_outstanding_actions} \r\n        ${tipoHandle.getInstantTranslation('TT___OUTSTANDING_ACTIONS_TO_BE_COMPLETED')} \r\n        `, '');\r\n};\r\n\r\nfunction sendEmail(users, subject, body) {\r\n\r\n    console.log(users, subject, body);\r\n    const recipents_limit = 50;\r\n    var a = _.uniq(users);\r\n    while (a.length) {\r\n        let recipents = a.splice(0, recipents_limit);\r\n        console.log(recipents.toString());\r\n        tipoHandle.sendEmail(recipents.toString(), subject, body);\r\n    }\r\n}\r\nreturn true;"},"_ARRAY_META":{"_HASH":"6293595381"}},{"sequence":1,"display_name___token":"TT___REQUEST_REVIEW","display_name":"Request Review","field_type_labels":"Action","field_type":"action","field_name":"under_review","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"tablet_field_width":"1","hidden_label":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"visibility_expression":"$tipo.overview_incident_status___token === 'TT___UNDER_INVESTIGATION' && $tipo.what_review_required","relationship_type":"reference","action_settings_":{"javascript_code":"tipoHandle.tipoInternalHandleService.tipoDataService.getTipo('CreateIncident', data_handle.tipo.tipo_id, {}, true, undefined, undefined, true, true).subscribe();\r\nif (!data_handle.tipo.confirmations || data_handle.tipo.confirmations.length === 0) {\r\n    tipoHandle.showMessage('' + tipoHandle.getInstantTranslation('TT___PLEASE_ADD_ATLEAST_ONE_REVIEWER'), '');\r\n} else {\r\n    data_handle.tipo.overview_incident_status___token = 'TT___UNDER_REVIEW';\r\n\r\n    tipoHandle.updateTipo('CreateIncident', data_handle.tipo.tipo_id, data_handle.tipo).then((res) => {\r\n        if (res) {\r\n            setTimeout(() => {\r\n                tipoHandle.showMessage('' + tipoHandle.getInstantTranslation('TT___INVESTIGATION_REPORT_SUBMITTED_FOR_REVIE') + data_handle.tipo.tipo_id, '');\r\n                data_handle.formControl.get('overview_incident_status___token').setValue('TT___UNDER_REVIEW');\r\n                tipoHandle.getTipo('CreateIncident', data_handle.tipo.tipo_id)\r\n                // .then((res1) => {\r\n                    setTimeout(() => {\r\n                        // if (res1) {\r\n                            const domain = window.localStorage.getItem('server_url') ? window.localStorage.getItem('server_url') : window.location.origin + '/';\r\n                            const INCIDENT_LINK = domain + '#/tipo/CreateIncident/' + data_handle.tipo.tipo_id;\r\n                            const APP_LINK = domain + '#/login';\r\n                            const Incident_Number = data_handle.tipo.tipo_id;\r\n                            const Incident_Status = data_handle.tipo.overview_incident_status;\r\n                            const Incident_Type = data_handle.tipo.incident_type_labels.toString();\r\n                            const Short_Description = data_handle.tipo.what_briefly_describe_the_incident;\r\n                            const Investigation_Completed = data_handle.tipo.investigation_completed_ ? 'Yes' : 'No';\r\n                            const Company = data_handle.tipo.client_labels;\r\n                            const Region = data_handle.tipo.company_labels;\r\n                            const Area = data_handle.tipo.structure_level_1_labels;\r\n                            const dt = data_handle.tipo.when_date_and_time_of_incident;\r\n                            const Date = dt ? tipoHandle.getDateUtil(dt).toString() : '';\r\n                            let result = (data_handle.tipo.confirmations || []).map(item => item.addperson_PersonDetails);\r\n                            //const users = result.count > 0 ? result.map(t => t.email) : [];\r\n\r\n                            // let filter = `(site_or_company:${data_handle.tipo.where_incidentlocn.site[0]} AND status:ACTIVE AND (jobRoleCategory.keyword:(Manager) OR (roles.keyword:SiteAdmin)))`;\r\n                            let filter = `(site_or_company:${data_handle.tipo.where_incidentlocn.company[0]} AND status:ACTIVE AND (jobRoleCategory.keyword:(Manager) OR (roles.keyword:SiteAdmin)))`;\r\n                            tipoHandle.getTipos('TipoFIDUser', { tipo_filter: filter }).then((res) => {\r\n                                console.log(res, '=====');\r\n                                let updatedUsers, allUsers = [];\r\n                                let subject, subject_approver;\r\n                                const users = res.count > 0 ? res.map(t => t.email) : [];\r\n                                if (data_handle.tipo.who_Team.notify_responsible_persons) {\r\n                                    updatedUsers = [data_handle.tipo.who_Team.responsible_manager];\r\n                                    allUsers = [...users, ...updatedUsers, ...result];\r\n                                } else {\r\n                                    allUsers = [...users, ...result];\r\n                                }\r\n                                subject = 'An Incident Number ' + Incident_Number + ' is under review';\r\n                                let body = '<html> <head> <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /> </head> <body> <div> <p style=\"font-size: 11pt; font-family: Calibri, sans-serif; margin: 0\"><h4>Incident Details:</h4> <div> Incident Number: ' + Incident_Number + '</div> <div> Incident Status: ' + Incident_Status + '</div><div>Incident Type: ' + Incident_Type + '</div> <div> Region: ' + Region + '</div> <div> Area: ' + Area + '</div> <div>Date: ' + Date + '</div> <div> Description: ' + Short_Description + '</div> <p> <div>Review the incident and update if required. </div> </p> You can view the incident details <a href=\"' + INCIDENT_LINK + '\" target=\"_blank\" rel=\"noopener noreferrer\" data-auth=\"NotApplicable\" data-linkindex=\"5\" >here</a >.</span > </p> <br> <p> <span style=\"color: black; font-size: 9pt; font-family: Tahoma, sans-serif\" >Kind regards,</span > </p> <p> <span style=\"color: black; font-size: 9pt; font-family: Tahoma, sans-serif\" >Forwood Safety Team</span > </p> <p> <span style=\"color: black; font-size: 9pt; font-family: Tahoma, sans-serif\" ><a href=\"' + APP_LINK + '\" target=\"_blank\" rel=\"noopener noreferrer\" data-auth=\"NotApplicable\" data-linkindex=\"6\" >Forwood Safety Portal</a ></span > </p> <br> <hr/> <p style=\"font-size: 11pt; font-family: Calibri, sans-serif; margin: 0\"> <span style=\"color: black\" ><br />Please note that for security reasons <b>you need to be logged into the portal</b> in order to use any direct links presented in this email.<br />After logging into the portal you can click on the link(s) to access the respective page(s).<br /><br />This is an automated message from the Forwood Safety Portal.<br />Please do not reply to this message. </span> </p> </div> </body></html>';\r\n                                sendEmail(allUsers, subject, body);\r\n                                //Notification for Approver\r\n                                if (result.length > 0) {\r\n                                    if (data_handle.tipo.high_potential) {\r\n                                        subject_approver = 'A high potential incident ' + Incident_Number + ' is ready for your review and approval';\r\n                                    }\r\n                                    else {\r\n                                        subject_approver = 'An incident ' + Incident_Number + ' is ready for your review and approval';\r\n                                    }\r\n                                    let body_approver = '<html> <head> <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /> </head> <body> <div> <p style=\"font-size: 11pt; font-family: Calibri, sans-serif; margin: 0\"><h4>Incident Details:</h4> <div> Incident Number: ' + Incident_Number + '</div> <div> Incident Status: ' + Incident_Status + '</div><div>Incident Type: ' + Incident_Type + '</div> <div> Region: ' + Region + '</div> <div> Area: ' + Area + '</div> <div>Date: ' + Date + '</div> <div> Description: ' + Short_Description + '</div> <p> <div>You have been requested to review and approve the incident investigation. </div> </p> You can view the incident details <a href=\"' + INCIDENT_LINK + '\" target=\"_blank\" rel=\"noopener noreferrer\" data-auth=\"NotApplicable\" data-linkindex=\"5\" >here</a >.</span > </p> <br> <p> <span style=\"color: black; font-size: 9pt; font-family: Tahoma, sans-serif\" >Kind regards,</span > </p> <p> <span style=\"color: black; font-size: 9pt; font-family: Tahoma, sans-serif\" >Forwood Safety Team</span > </p> <p> <span style=\"color: black; font-size: 9pt; font-family: Tahoma, sans-serif\" ><a href=\"' + APP_LINK + '\" target=\"_blank\" rel=\"noopener noreferrer\" data-auth=\"NotApplicable\" data-linkindex=\"6\" >Forwood Safety Portal</a ></span > </p> <br> <hr/> <p style=\"font-size: 11pt; font-family: Calibri, sans-serif; margin: 0\"> <span style=\"color: black\" ><br />Please note that for security reasons <b>you need to be logged into the portal</b> in order to use any direct links presented in this email.<br />After logging into the portal you can click on the link(s) to access the respective page(s).<br /><br />This is an automated message from the Forwood Safety Portal.<br />Please do not reply to this message. </span> </p> </div> </body></html>';\r\n                                    sendEmail(result, subject_approver, body_approver);\r\n                                }\r\n\r\n                            });\r\n                        // }\r\n                    }, 3000);\r\n                // });\r\n            }, 1000);\r\n\r\n        }\r\n    });\r\n\r\n    // Code is added to send notification on request review\r\n    //  const domain = window.localStorage.getItem('server_url') ? window.localStorage.getItem('server_url') : window.location.origin +'/';\r\n    //    const INCIDENT_LINK = domain +'#/tipo/CreateIncident/'+ data_handle.tipo.tipo_id;\r\n    //    const APP_LINK = domain +'#/login';\r\n    //    const Incident_Number = data_handle.tipo.tipo_id;\r\n    //    const Incident_Status = data_handle.tipo.overview_incident_status;\r\n    //    const Incident_Type = data_handle.tipo.incident_type_labels.toString();\r\n    //    const Short_Description = data_handle.tipo.what_briefly_describe_the_incident;\r\n    //    const Investigation_Completed = data_handle.tipo.investigation_completed_ ? 'Yes' : 'No';\r\n    //    const Company = data_handle.tipo.client_labels;\r\n    //    const Region = data_handle.tipo.company_labels;\r\n    //    const Area = data_handle.tipo.structure_level_1_labels;\r\n    //    const dt = data_handle.tipo.when_date_and_time_of_incident;\r\n    //    const Date = dt ? tipoHandle.getDateUtil(dt).toString() : '';\r\n    //    let result = (data_handle.tipo.confirmations||[]).map(item => item.addperson_PersonDetails); \r\n    //    //const users = result.count > 0 ? result.map(t => t.email) : [];\r\n\r\n    //     // let filter = `(site_or_company:${data_handle.tipo.where_incidentlocn.site[0]} AND status:ACTIVE AND (jobRoleCategory.keyword:(Manager) OR (roles.keyword:SiteAdmin)))`;\r\n    //       let filter = `(site_or_company:${data_handle.tipo.where_incidentlocn.company[0]} AND status:ACTIVE AND (jobRoleCategory.keyword:(Manager) OR (roles.keyword:SiteAdmin)))`;\r\n    //     tipoHandle.getTipos('TipoFIDUser', { tipo_filter: filter }).then((res) => {\r\n    //         console.log(res, '=====');\r\n    //         let  updatedUsers, allUsers= [];\r\n    //         let subject,subject_approver;\r\n    //         const users = res.count > 0 ? res.map(t => t.email) : [];\r\n    //         if (data_handle.tipo.who_Team.notify_responsible_persons ) {\r\n    //                updatedUsers = [ data_handle.tipo.who_Team.responsible_manager];\r\n    //                 allUsers = [...users, ...updatedUsers, ...result];\r\n    //         } else {\r\n    //                 allUsers = [...users, ...result];\r\n    //         }\r\n    //         subject = 'An Incident Number '+Incident_Number+' is under review';\r\n    //                 let body = '<html> <head> <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /> </head> <body> <div> <p style=\"font-size: 11pt; font-family: Calibri, sans-serif; margin: 0\"><h4>Incident Details:</h4> <div> Incident Number: '+ Incident_Number+'</div> <div> Incident Status: '+ Incident_Status+'</div><div>Incident Type: '+Incident_Type+'</div> <div> Region: '+ Region+'</div> <div> Area: '+ Area+'</div> <div>Date: '+ Date+'</div> <div> Description: '+Short_Description+'</div> <p> <div>Review the incident and update if required. </div> </p> You can view the incident details <a href=\"'+ INCIDENT_LINK +'\" target=\"_blank\" rel=\"noopener noreferrer\" data-auth=\"NotApplicable\" data-linkindex=\"5\" >here</a >.</span > </p> <br> <p> <span style=\"color: black; font-size: 9pt; font-family: Tahoma, sans-serif\" >Kind regards,</span > </p> <p> <span style=\"color: black; font-size: 9pt; font-family: Tahoma, sans-serif\" >Forwood Safety Team</span > </p> <p> <span style=\"color: black; font-size: 9pt; font-family: Tahoma, sans-serif\" ><a href=\"'+APP_LINK+'\" target=\"_blank\" rel=\"noopener noreferrer\" data-auth=\"NotApplicable\" data-linkindex=\"6\" >Forwood Safety Portal</a ></span > </p> <br> <hr/> <p style=\"font-size: 11pt; font-family: Calibri, sans-serif; margin: 0\"> <span style=\"color: black\" ><br />Please note that for security reasons <b>you need to be logged into the portal</b> in order to use any direct links presented in this email.<br />After logging into the portal you can click on the link(s) to access the respective page(s).<br /><br />This is an automated message from the Forwood Safety Portal.<br />Please do not reply to this message. </span> </p> </div> </body></html>';\r\n    //                 sendEmail(allUsers, subject, body);\r\n    //                 //Notification for Approver\r\n    //                 if(result.length > 0) {\r\n    //                     if(data_handle.tipo.high_potential) {\r\n    //                         subject_approver = 'A high potential incident '+Incident_Number+' is ready for your review and approval';\r\n    //                     }\r\n    //                     else {\r\n    //                         subject_approver = 'An incident '+Incident_Number+' is ready for your review and approval';\r\n    //                     }\r\n    //                     let body_approver = '<html> <head> <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /> </head> <body> <div> <p style=\"font-size: 11pt; font-family: Calibri, sans-serif; margin: 0\"><h4>Incident Details:</h4> <div> Incident Number: '+ Incident_Number+'</div> <div> Incident Status: '+ Incident_Status+'</div><div>Incident Type: '+Incident_Type+'</div> <div> Region: '+ Region+'</div> <div> Area: '+ Area+'</div> <div>Date: '+ Date+'</div> <div> Description: '+Short_Description+'</div> <p> <div>You have been requested to review and approve the incident investigation. </div> </p> You can view the incident details <a href=\"'+ INCIDENT_LINK +'\" target=\"_blank\" rel=\"noopener noreferrer\" data-auth=\"NotApplicable\" data-linkindex=\"5\" >here</a >.</span > </p> <br> <p> <span style=\"color: black; font-size: 9pt; font-family: Tahoma, sans-serif\" >Kind regards,</span > </p> <p> <span style=\"color: black; font-size: 9pt; font-family: Tahoma, sans-serif\" >Forwood Safety Team</span > </p> <p> <span style=\"color: black; font-size: 9pt; font-family: Tahoma, sans-serif\" ><a href=\"'+APP_LINK+'\" target=\"_blank\" rel=\"noopener noreferrer\" data-auth=\"NotApplicable\" data-linkindex=\"6\" >Forwood Safety Portal</a ></span > </p> <br> <hr/> <p style=\"font-size: 11pt; font-family: Calibri, sans-serif; margin: 0\"> <span style=\"color: black\" ><br />Please note that for security reasons <b>you need to be logged into the portal</b> in order to use any direct links presented in this email.<br />After logging into the portal you can click on the link(s) to access the respective page(s).<br /><br />This is an automated message from the Forwood Safety Portal.<br />Please do not reply to this message. </span> </p> </div> </body></html>';\r\n    //                     sendEmail(result, subject_approver, body_approver);\r\n    //                 }\r\n\r\n    //     });\r\n\r\n    function sendEmail(users, subject, body) {\r\n        console.log(users, subject, body);\r\n        const recipents_limit = 50;\r\n        var a = _.uniq(users);\r\n        while (a.length) {\r\n            let recipents = a.splice(0, recipents_limit);\r\n            console.log(recipents.toString());\r\n            tipoHandle.sendEmail(recipents.toString(), subject, body);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nreturn true;"},"_ARRAY_META":{"_HASH":"9046928372"}},{"sequence":1,"display_name___token":"TT___RE_OPEN","display_name":"Re-Open","field_type_labels":"Action","field_type":"action","field_name":"re_open","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"tablet_field_width":"1","hidden_label":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"visibility_expression":"$tipo.overview_incident_status___token === 'TT___CLOSED'","relationship_type":"reference","action_settings_":{"javascript_code":"data_handle.tipo.overview_incident_status___token = 'TT___UNDER_INVESTIGATION';\r\ntipoHandle.updateTipo('CreateIncident', data_handle.tipo.tipo_id, data_handle.tipo).then((res) => {\r\n    if (res) {\r\n        setTimeout(() => {\r\n            tipoHandle.showMessage('' + tipoHandle.getInstantTranslation('TT___INCIDENT_IS_RE_OPENED_AND_SUCCESSFULLY_M') + data_handle.tipo.tipo_id , '');\r\n            data_handle.formControl.get('overview_incident_status___token').setValue('TT___UNDER_INVESTIGATION');\r\n            tipoHandle.getTipo('CreateIncident', data_handle.tipo.tipo_id);\r\n        }, 1000);\r\n    }\r\n});\r\n\r\nreturn true;"},"_ARRAY_META":{"_HASH":"7046233354"}},{"sequence":20,"display_name___token":"TT___STEPPER","display_name":"Stepper","field_type_labels":"parent","field_type":"FieldGroup.parent","field_name":"parentttttttttt","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"sizing":"4","hidden_hyperlink":true,"do_not_nest_data":true,"hide_header":true,"show_in_wizard":true,"wizard_direction":"Vertical","do_not_enforce_sequence":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"8659251919"}}],"tipo_field_groups":[{"tipo_group_name":"PEEPOAnalysis","tipo_fields":[{"sequence":1,"display_name":"PeepoAnalysisSection","field_type_labels":"PEEPO Analysis","field_type":"Tipo.PEEPOAnalysis","field_name":"peepoanalysissection","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"desktop_width":"100","tablet_width":"100","mobile_width":"100","hidden_label":true,"hidden_hyperlink":true,"relationship_type":"embed_reference","_ARRAY_META":{"_HASH":"4024490103"}}],"custom_template_css":"KiB7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IH0gYm9keSB7bWFyZ2luOiAwO30=","custom_template_config":"W10=","_ARRAY_META":{"_HASH":"0254472719"}},{"tipo_group_name":"Analysis","tipo_fields":[{"sequence":2,"display_name___token":"TT___INVESTIGATION_EVIDENCE","display_name":"Investigation Evidence","field_type_labels":"InvestigationAttachments","field_type":"FieldGroup.InvestigationAttachments","field_name":"investigation_evidence","show_question_no":true,"tipo_array":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"label_style_labels":"Font size small","label_style":"{'font-size' : '16px'}","hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"4535925669"}},{"sequence":4,"display_name___token":"TT___DEFINITIONS_FOR_DETERMINING_ACTUAL_AND_P","display_name":"Definitions for determining actual and potential severity","field_type_labels":"Divider","field_type":"divider","field_name":"divider_analysis_definitions","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_view":false,"relationship_type":"reference","_ARRAY_META":{"_HASH":"7260396339"}},{"sequence":5,"display_name___token":"TT___DEFINITIONS","display_name":"Definitions","field_type_labels":"Rich Text","field_type":"richstring","field_name":"analysis_definitions","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","form_text":true,"default_value___token":"TT___ACTUAL_IMPACT_AND_POTENTIAL_IMPACT_HEALT","default_value":"<p><strong>Actual Impact and Potential Impact</strong></p><p><strong>Health.&nbsp;</strong>Employee well-being and health.</p><p><strong>Safety.</strong> Physical safety and safety incidents.</p><p><strong>Environment.</strong> Environmental impact and conservation.</p><p><strong>Community.</strong> Building and maintaining relationships.</p><p><strong>Reputation.&nbsp;</strong>Reputation protection.</p><p><strong>Legal.&nbsp;</strong>Legal compliance and standards.</p><p><strong>Financial.&nbsp;</strong>Financial integrity and compliance.</p><p><strong>Process Safety.&nbsp;</strong>Industrial process safety.</p><p><strong>Security.&nbsp;</strong>Physical asset security.</p><p><strong>Cyber.</strong> Cybersecurity and data protection.</p><p><strong>Actual Consequence and Maximum Reasonable Outcome</strong></p><p><strong>1 - MINOR.&nbsp;</strong>No injury or Illness. Impact of &lt;1$K. Loss of up to 1 hour of production.</p><p><strong>2 - MEDIUM.&nbsp;</strong>First Aid treatment. No Lost time. Impact of $1K - $10K. Loss of 1 to 6 hours of production.</p><p><strong>3 - SERIOUS.&nbsp;</strong>Temporary disability: lost-time injury or illness. Impact of $10K - $100K. loss of 6 &ndash; 12 hours of production.</p><p><strong>4 - MAJOR.&nbsp;</strong>Serious event: critical injury or critical illness. Impact of $100K - $1M. Loss of 3 &ndash; 7 days of production.</p><p><strong>5 - CATASTROPHIC.</strong> Fatality or permanent disability. Impact of over 1$M. Loss of more than 7 days of production.</p>","short_display":true,"disable_expansion":true,"desktop_width":"100","tablet_width":"100","hidden_label":false,"hidden_hyperlink":true,"hide_in_view":false,"relationship_type":"reference","_ARRAY_META":{"_HASH":"9711754656"}},{"sequence":6,"display_name___token":"TT___ACTUAL_SEVERITY","display_name":"Actual Severity","field_type_labels":"Actual","field_type":"FieldGroup.Actual","field_name":"actual_severity","show_question_no":true,"tipo_array":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"label_style":"{'font-size' : '16px'}","hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"5338510489"}},{"sequence":7,"display_name___token":"TT___POTENTIAL_SEVERITY","display_name":"Potential Severity","field_type_labels":"Potential","field_type":"FieldGroup.Potential","field_name":"analysis_potential_severity","show_question_no":true,"tipo_array":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"label_style_labels":"Font size small","label_style":"{'font-size' : '16px'}","hidden_hyperlink":true,"show_in_expansion_panel":false,"relationship_type":"reference","_ARRAY_META":{"_HASH":"2207655040"}},{"sequence":8,"display_name___token":"TT___CRITICAL_CONTROLS","display_name":"Critical Controls","field_type_labels":"CriticalRisk","field_type":"FieldGroup.CriticalRisk","field_name":"analysis_critical_risk_group","show_question_no":true,"tipo_array":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"label_style_labels":"Font size small","label_style":"{'font-size' : '16px'}","hidden_hyperlink":true,"hide_header":false,"show_in_expansion_panel":false,"relationship_type":"reference","_ARRAY_META":{"_HASH":"6514877474"}},{"sequence":9,"display_name___token":"TT___PEEPO_ANALYSIS","display_name":"PEEPO Analysis","field_type_labels":"PEEPOAnalysis","field_type":"FieldGroup.PEEPOAnalysis","field_name":"peepo_analysis","show_question_no":true,"tipo_array":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"label_style":"{'font-size' : '16px'}","desktop_width":"100","tablet_width":"100","mobile_width":"100","hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"0730369173"}},{"sequence":10,"display_name___token":"TT___ROOT_CAUSE_ANALYSIS","display_name":"Root Cause Analysis","field_type_labels":"RootCauseAnalysis","field_type":"FieldGroup.RootCauseAnalysis","field_name":"Divider_rca","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"label_style":"{'font-size' : '16px'}","hidden_hyperlink":true,"hide_in_view":false,"do_not_nest_data":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"8812262157"}}],"_ARRAY_META":{"_HASH":"0291920264"}},{"tipo_group_name":"InvestigationAttachments","tipo_fields":[{"sequence":2,"display_name___token":"TT___TYPE_OF_EVIDENCE","display_name":"Type of Evidence","field_type_labels":"Text","field_type":"string","field_name":"type_of_evidence","show_question_no":true,"tipo_array":false,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"9621214896"}},{"sequence":3,"display_name___token":"TT___ATTACHMENTS_23","display_name":"Attachments","field_type_labels":"File","field_type":"file","field_name":"evidence_attachment","show_question_no":true,"field_description___token":"TT___ATTACH_INVESTIGATION_EVIDENCE","field_description":"Attach investigation evidence","tipo_array":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"5798443273"}},{"sequence":4,"display_name___token":"TT___COMMENT","display_name":"Comment","field_type_labels":"Multiline Text","field_type":"longstring","field_name":"comment_investigation_attachment","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"tablet_field_width":"1","desktop_width":"100","tablet_width":"100","mobile_width":"100","hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"8010631629"}}],"_ARRAY_META":{"_HASH":"1183892681"}},{"tipo_group_name":"RootCauseAnalysis","tipo_fields":[{"sequence":1,"display_name___token":"TT___ROOT_CAUSE_ANALYSIS_SUMMARY","display_name":"Root Cause Analysis Summary","field_type_labels":"RootCausePlugin","field_type":"FieldGroup.RootCausePlugin","field_name":"analysis_root_cause_analysis_smy","show_question_no":true,"tipo_array":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"desktop_width":"100","tablet_width":"100","hidden_label":true,"hidden_hyperlink":true,"do_not_nest_data":false,"hide_header":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"7401397473"}}],"_ARRAY_META":{"_HASH":"1276958331"}},{"tipo_group_name":"root_cause_analysis","tipo_fields":[{"sequence":1,"display_name":"Problem Statement","field_type_labels":"Text","field_type":"string","field_name":"problem_statement","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"1349733746"}},{"sequence":2,"display_name":"Whys","field_type_labels":"Text","field_type":"string","field_name":"whys","show_question_no":true,"tipo_array":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"5279835113"}}],"_ARRAY_META":{"_HASH":"1448858086"}},{"tipo_group_name":"Actions","tipo_fields":[{"sequence":1,"display_name___token":"TT___ACTION_PLAN","display_name":"Action Plan","field_type_labels":"ActionPlan","field_type":"Tipo.ActionPlan","field_name":"action_plan","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"sizing":"3","tablet_field_width":"2","mobile_field_width":"1","hidden_label":true,"hidden_hyperlink":true,"relationship_type":"embed_reference","transient":true,"_ARRAY_META":{"_HASH":"6992351732"}}],"_ARRAY_META":{"_HASH":"2069221693"}},{"tipo_group_name":"Potential","tipo_fields":[{"sequence":3,"display_name___token":"TT___POTENTIAL_IMPACT","display_name":"Potential Impact","field_type_labels":"Safety Master Data","field_type":"Tipo.SafetyMasterData","field_name":"potential_impact","show_question_no":true,"enable_multilanguage_input":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"relationship_type":"reference","relationship_filter":"type.keyword:(incident_categories) AND tipo_id:($tipo_root.incidentcategoryfilter)","query_params":[{"param_name":"tipo_sort_fields","param_value":"sequence,asc","_ARRAY_META":{"_HASH":"9618549002"}}],"_ARRAY_META":{"_HASH":"4096486796"}},{"sequence":3,"display_name":"potential_impact","field_type_labels":"Text","field_type":"string","field_name":"potential_impact_labels","show_question_no":true,"enable_multilanguage_input":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"6333747250"}},{"sequence":3,"display_name":"potential_impact","field_type_labels":"Text","field_type":"string","field_name":"potential_impact_labels___token","show_question_no":true,"enable_multilanguage_input":false,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"5857219643"}},{"sequence":4,"display_name___token":"TT___MAXIMUM_REASONABLE_OUTCOME","display_name":"Maximum Reasonable Outcome","field_type_labels":"Safety Master Data","field_type":"Tipo.SafetyMasterData","field_name":"potential_maximum_reasonable_outcome","show_question_no":true,"enable_multilanguage_input":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"relationship_type":"reference","relationship_filter":"type.keyword:(consequence)","query_params":[{"param_name":"tipo_sort_fields","param_value":"sequence,asc","_ARRAY_META":{"_HASH":"9855137676"}}],"_ARRAY_META":{"_HASH":"2026006267"}},{"sequence":4,"display_name":"potential_maximum_reasonable_outcome_labels","field_type_labels":"Text","field_type":"string","field_name":"potential_maximum_reasonable_outcome_labels","show_question_no":true,"enable_multilanguage_input":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"1786059264"}},{"sequence":4,"display_name":"potential_maximum_reasonable_outcome_labels","field_type_labels":"Text","field_type":"string","field_name":"potential_maximum_reasonable_outcome_labels___token","show_question_no":true,"enable_multilanguage_input":false,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"8124800285"}},{"sequence":5,"display_name___token":"TT___WARNING_MESSAGE_1","display_name":"Warning Message 1","field_type_labels":"Rich Text","field_type":"richstring","field_name":"warning_message","show_question_no":true,"enable_multilanguage_input":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","default_value___token":"TT___A_5_WHY_ROOT_CAUSE_ANALYSIS_SHOULD_BE_CO","default_value":"<p>A 5-Why Root Cause Analysis should be completed for an incident with this potential severity level.</p>","read_only":true,"short_display":true,"disable_expansion":true,"value_style":"(($tipo.potential_maximum_reasonable_outcome === \"1788071037\" || $tipo.potential_maximum_reasonable_outcome === \"7578649534\") && {color : 'red'})","hidden_":true,"hidden_label":true,"hidden_hyperlink":true,"visibility_expression":"$tipo.potential_maximum_reasonable_outcome === \"1788071037\" || $tipo.potential_maximum_reasonable_outcome === \"7578649534\"","relationship_type":"reference","_ARRAY_META":{"_HASH":"6555894125"}},{"sequence":6,"display_name___token":"TT___WARNING_MESSAGE_2","display_name":"Warning Message 2","field_type_labels":"Rich Text","field_type":"richstring","field_name":"warning_message_2","show_question_no":true,"enable_multilanguage_input":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","default_value___token":"TT___AN_ESSENTIAL_FACTORS_ROOT_CAUSE_ANALYSIS","default_value":"<p>An Essential Factors Root Cause Analysis should be completed for an incident with this potential severity level.</p>","read_only":true,"short_display":true,"disable_expansion":true,"value_style":"($tipo.potential_maximum_reasonable_outcome === \"9090947874\" && {color : 'red'})","hidden_":true,"hidden_label":true,"hidden_hyperlink":true,"visibility_expression":"$tipo.potential_maximum_reasonable_outcome === \"9090947874\"","relationship_type":"reference","_ARRAY_META":{"_HASH":"0451016170"}}],"_ARRAY_META":{"_HASH":"2118855661"}},{"tipo_group_name":"Confirmations","tipo_fields":[{"sequence":1,"display_name___token":"TT___CONFIRMATIONS","display_name":"Potwierdzenia","field_type_labels":"Signoff","field_type":"FieldGroup.Signoff","field_name":"confirmations","show_question_no":true,"enable_multilanguage_input":false,"tipo_array":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_header":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"4308488249"}}],"_ARRAY_META":{"_HASH":"2550023599"}},{"tipo_group_name":"Responsible","tipo_fields":[{"sequence":1,"display_name___token":"TT___JOB_ROLE","display_name":"Job Role","field_type_labels":"Safety Master Data","field_type":"Tipo.SafetyMasterData","field_name":"job_role","show_question_no":true,"enable_multilanguage_input":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"relationship_type":"reference","relationship_filter":"type.keyword:(forwood_job_role)","select_label_field_labels":"Name","select_label_field":"name","select_key_field_labels":"Name","select_key_field":"name","query_params":[{"param_name":"tipo_sort_fields","param_value":"sequence,asc","_ARRAY_META":{"_HASH":"3350458617"}}],"_ARRAY_META":{"_HASH":"2764695718"}},{"sequence":3,"display_name___token":"TT___RESPONSIBLE_PERSON","display_name":"Responsible Person","field_type_labels":"TipoFIDUser","field_type":"Tipo.TipoFIDUser","list_display":false,"field_name":"responsible_manager","show_question_no":true,"tipo_array":false,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":false,"mandatory":true,"relationship_type":"reference","relationship_filter":"status:ACTIVE","select_label_field_labels":"Long Display Name","select_label_field":"longDisplayName","select_key_field_labels":"Email","select_key_field":"email","_ARRAY_META":{"_HASH":"7603372530"}},{"sequence":4,"display_name___token":"TT___NOTIFY_RESPONSIBLE_PERSONS","display_name":"Notify Responsible Person","field_type_labels":"True/False","field_type":"boolean","field_name":"notify_responsible_persons","show_question_no":true,"field_description___token":"TT___WHEN_SET_TO_YES_A_NOTIFICATION_WILL_BE_S_27","field_description":"When set to 'Yes' a notification will be sent to the selected Responsible person","enable_multilanguage_input":false,"true_alternate_label_str___token":"TT___YES","true_alternate_label_str":"Yes","false_alternate_label_str___token":"TT___NO","false_alternate_label_str":"No","default_value":true,"short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_edit":false,"relationship_type":"reference","_ARRAY_META":{"_HASH":"7247210077"}},{"sequence":5,"display_name":"job_role_labels","field_type_labels":"Text","field_type":"string","field_name":"job_role_labels","show_question_no":true,"enable_multilanguage_input":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"4849920116"}},{"sequence":6,"display_name":"job_role_labels","field_type_labels":"Text","field_type":"string","field_name":"job_role_labels___token","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"6004888261"}}],"_ARRAY_META":{"_HASH":"2995329502"}},{"tipo_group_name":"Where","tipo_fields":[{"sequence":1,"display_name___token":"TT___PROJECT","display_name":"Project","field_type_labels":"Text","field_type":"string","list_display":false,"field_name":"where_project","show_question_no":true,"dd_field":true,"allowed_values":["Cementation Canada","Cementation USA","Terra Nova Technologies"],"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"0334196975"}},{"sequence":4,"display_name___token":"TT___CHOOSE_LOCATION","display_name":"Choose Location","field_type_labels":"TipoSSStructureMasterData","field_type":"Tipo.TipoSSStructureMasterData","list_display":false,"field_name":"where_incidentlocn","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_label":true,"hidden_hyperlink":true,"hide_in_view":true,"mandatory":true,"relationship_type":"hierarchy","tipo_field_event_js":[{"event_name":"OnChange (data_handle)","javascript_code":"const new_val = data_handle.new_value;\ndata_handle.tipo.hierarchy_key = new_val.__all__hierarchy__keys && new_val.__all__hierarchy__keys[0];\ndata_handle.tipo.site = new_val.site && new_val.site[0];\ndata_handle.tipo.site_labels = new_val.site_labels && new_val.site_labels[0];\ndata_handle.tipo.site_level_1 = new_val.site_level_1 && new_val.site_level_1[0];\ndata_handle.tipo.site_level_1_labels = new_val.site_level_1_labels && new_val.site_level_1_labels[0];\ndata_handle.tipo.site_level_2 = new_val.site_level_2 && new_val.site_level_2[0];\ndata_handle.tipo.site_level_2_labels = new_val.site_level_2_labels && new_val.site_level_2_labels[0];\ndata_handle.tipo.site_level_3 = new_val.site_level_3 && new_val.site_level_3[0];\ndata_handle.tipo.site_level_3_labels = new_val.site_level_3_labels && new_val.site_level_3_labels[0];\ndata_handle.tipo.site_level_4 = new_val.site_level_4 && new_val.site_level_4[0];\ndata_handle.tipo.site_level_4_labels = new_val.site_level_4_labels && new_val.site_level_4_labels[0];\ndata_handle.tipo.site_level_5 = new_val.site_level_5 && new_val.site_level_5[0];\ndata_handle.tipo.site_level_5_labels = new_val.site_level_5_labels && new_val.site_level_5_labels[0];\ndata_handle.tipo.client = new_val.client && new_val.client[0];\ndata_handle.tipo.client_labels = new_val.client_labels && new_val.client_labels[0];\ndata_handle.tipo.company = new_val.company && new_val.company[0];\ndata_handle.tipo.company_labels = new_val.company_labels && new_val.company_labels[0];\ndata_handle.tipo.forwood_level = new_val.forwood_level && new_val.forwood_level[0];\ndata_handle.tipo.forwood_level_labels = new_val.forwood_level_labels && new_val.forwood_level_labels[0];\ndata_handle.tipo.structure = new_val.structure && new_val.structure[0];\ndata_handle.tipo.structure_labels = new_val.structure_labels && new_val.structure_labels[0];\ndata_handle.tipo.structure_level_1 = new_val.structure_level_1 && new_val.structure_level_1[0];\ndata_handle.tipo.structure_level_1_labels = new_val.structure_level_1_labels && new_val.structure_level_1_labels[0];\ndata_handle.tipo.structure_level_2 = new_val.structure_level_2 && new_val.structure_level_2[0];\ndata_handle.tipo.structure_level_2_labels = new_val.structure_level_2_labels && new_val.structure_level_2_labels[0];\ndata_handle.tipo.structure_level_3 = new_val.structure_level_3 && new_val.structure_level_3[0];\ndata_handle.tipo.structure_level_3_labels = new_val.structure_level_3_labels && new_val.structure_level_3_labels[0];\ndata_handle.tipo.structure_level_4 = new_val.structure_level_4 && new_val.structure_level_4[0];\ndata_handle.tipo.structure_level_4_labels = new_val.structure_level_4_labels && new_val.structure_level_4_labels[0];","_ARRAY_META":{"_HASH":"9198883694"}}],"_ARRAY_META":{"_HASH":"8691002610"}},{"sequence":4.4,"display_name___token":"TT___COMPANY","display_name":"Company","field_type_labels":"Text","field_type":"string","field_name":"client_labels","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","read_only":true,"short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"8276150115"}},{"sequence":4.5,"display_name___token":"TT___SITE_40","display_name":"Region","field_type_labels":"Text","field_type":"string","list_display":true,"field_name":"company_labels","show_question_no":true,"show_as_filter":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","read_only":true,"short_display":true,"disable_expansion":true,"hidden_":false,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"6835755833"}},{"sequence":4.6,"display_name___token":"TT___WORK_LOCATION","display_name":"Area","field_type_labels":"Text","field_type":"string","list_display":true,"field_name":"structure_level_1_labels","show_question_no":true,"show_as_filter":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","read_only":true,"read_only_in_edit":false,"short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"mandatory":false,"relationship_type":"reference","_ARRAY_META":{"_HASH":"5738260670"}},{"sequence":4.7,"display_name___token":"TT___WORK_LOCATION","display_name":"Area","field_type_labels":"Text","field_type":"string","field_name":"structure_level_1_labels","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"4105123289"}},{"sequence":5,"display_name":"Goe description","field_type_labels":"Rich Text","field_type":"richstring","field_name":"goe_description","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","form_text":true,"default_value___token":"TT___PLEASE_SELECT_THE_GEO_LOCATION_TO_PROCEE","default_value":"<p><strong><span style=\"font-size: 14px; color: rgb(209, 72, 65);\">Please select the Geo Location to Proceed further</span></strong></p>","short_display":true,"disable_expansion":true,"desktop_width":"100","tablet_width":"100","mobile_width":"100","hidden_label":true,"hidden_hyperlink":true,"hide_in_view":true,"visibility_expression":"$tipo_handle.tipoInternalHandleService.isOnline && !$tipo.where_incidentlocn","fill_space_invisible":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"9280556293"}},{"sequence":5,"display_name":"Geo description","field_type_labels":"Rich Text","field_type":"richstring","field_name":"geo_description","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","form_text":true,"default_value___token":"TT___PLEASE_ENTER_THE_ADDRESS_TO_PROCEED_FURT","default_value":"<p><strong><span style=\"font-size: 14px; color: rgb(209, 72, 65);\">Please enter the Address to proceed further</span></strong></p>","short_display":true,"disable_expansion":true,"hidden_label":true,"hidden_hyperlink":true,"hide_in_view":true,"visibility_expression":"!$tipo_handle.tipoInternalHandleService.isOnline && !$tipo.where_incidentlocn","relationship_type":"reference","_ARRAY_META":{"_HASH":"8462004796"}},{"sequence":6,"display_name___token":"TT___GEO_LOCATION","display_name":"Geo Location","field_type_labels":"Geo Location","field_type":"location","field_name":"geo_locn","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"desktop_width":"100","tablet_width":"100","mobile_width":"100","hidden_label":false,"hidden_hyperlink":true,"visibility_expression":"$tipo_handle.tipoInternalHandleService.isOnline","mandatory":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"2248229993"}},{"sequence":8,"display_name":"hierarchy_key","field_type_labels":"Text","field_type":"string","field_name":"hierarchy_key","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"0283388259"}},{"sequence":9,"display_name":"Client","field_type_labels":"Text","field_type":"string","field_name":"client_labels","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","read_only":true,"short_display":true,"disable_expansion":true,"hidden_":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"2348660076"}},{"sequence":10,"display_name___token":"TT___ADDRESS","display_name":"Address","field_type_labels":"Text","field_type":"string","field_name":"geo_locn","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"desktop_width":"100","tablet_width":"100","mobile_width":"100","hidden_hyperlink":true,"visibility_expression":"!$tipo_handle.tipoInternalHandleService.isOnline","relationship_type":"reference","_ARRAY_META":{"_HASH":"0725473693"}}],"_ARRAY_META":{"_HASH":"4366038676"}},{"tipo_group_name":"Overview","tipo_fields":[{"sequence":0.1,"display_name___token":"TT___INCIDENT_STATUS","display_name":"Incident Status","field_type_labels":"Text","field_type":"string","list_display":true,"field_name":"overview_incident_status","show_question_no":true,"show_as_filter":false,"enable_multilanguage_input":true,"tipo_array":false,"dd_field":false,"multiple_choice":true,"allowed_values":["Reported Pending Approval","Reported","Under Investigation","Under Final Review","Final","Closed","Re-Opened"],"allowed_values_with_colour":[{"sequence":2,"value___token":"TT___REPORTED","value":"Reported","colour":"#6680B3","_ARRAY_META":{"_HASH":"3382061302"}},{"sequence":3,"value___token":"TT___UNDER_INVESTIGATION","value":"Under Investigation","colour":"#3366E6","_ARRAY_META":{"_HASH":"6628282735"}},{"sequence":4,"value___token":"TT___UNDER_REVIEW","value":"Under Review","colour":"#E4B336","_ARRAY_META":{"_HASH":"3178191590"}},{"sequence":5,"value___token":"TT___FINAL","value":"Final","colour":"#80B300","_ARRAY_META":{"_HASH":"4568952785"}},{"sequence":6,"value___token":"TT___CLOSED","value":"Closed","colour":"#66994D","_ARRAY_META":{"_HASH":"4851740554"}},{"sequence":7,"value___token":"TT___RE_OPENED","value":"Re-Opened","colour":"#B33300","_ARRAY_META":{"_HASH":"7459099279"}}],"true_alternate_label_str":"Yes","false_alternate_label_str":"No","form_text":false,"default_value___token":"TT___REPORTED","default_value":"Reported","read_only":true,"short_display":true,"disable_expansion":true,"label_style_labels":"Border-Black","hidden_label":false,"hidden_hyperlink":true,"hide_in_create":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"2588956354"}},{"sequence":0.2,"display_name___token":"TT___RESTRICTED_ACCESS_INCIDENT","display_name":"Restricted Access Incident","field_type_labels":"Text","field_type":"string","field_name":"overview_restricted_access_incident","show_question_no":true,"show_as_filter":false,"enable_multilanguage_input":true,"multiple_choice":true,"values_as_buttons":true,"allowed_values_with_colour":[{"sequence":1,"value___token":"TT___RESTRICTED_ACCESS","value":"Restricted Access","colour":"#B33300","_ARRAY_META":{"_HASH":"7940129276"}},{"sequence":2,"value___token":"TT___UNRESTRICTED","value":"Unrestricted","colour":"#66994D","_ARRAY_META":{"_HASH":"6919748815"}}],"true_alternate_label":{"sequence":1,"value":"Restricted Access","colour":"#FF4200","icon_labels":"zoom out","icon":"zoom_out"},"false_alternate_label":{"sequence":2,"value":"Unrestricted","colour":"#66991A","icon_labels":"visibility","icon":"visibility"},"true_alternate_label_str":"Yes","false_alternate_label_str":"No","default_value___token":"TT___UNRESTRICTED","default_value":"Unrestricted","read_only":false,"short_display":true,"disable_expansion":true,"desktop_width":"40","hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"8492922805"}},{"sequence":1,"display_name___token":"TT___INCIDENT_TYPE","display_name":"Incident Type","field_type_labels":"Safety Master Data","field_type":"Tipo.SafetyMasterData","list_display":true,"field_name":"incident_type","show_question_no":true,"show_as_filter":false,"enable_multilanguage_input":false,"tipo_array":true,"dd_field":false,"multiple_choice":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","read_only":true,"short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"relationship_type":"reference","relationship_filter":"type.keyword:(incident_type)","select_label_field_labels":"Name","select_label_field":"name","select_key_field_labels":"Safety Master Data ID","select_key_field":"tipo_id","query_params":[{"param_name":"tipo_sort_fields","param_value":"sequence,asc","_ARRAY_META":{"_HASH":"2330824446"}}],"_ARRAY_META":{"_HASH":"1303019697"}},{"sequence":2,"display_name___token":"TT___INCIDENT_CATEGORIES","display_name":"Incident Categories","field_type_labels":"Safety Master Data","field_type":"Tipo.SafetyMasterData","list_display":true,"field_name":"incident_categories","show_question_no":true,"enable_multilanguage_input":false,"tipo_array":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","read_only":true,"short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"relationship_type":"reference","relationship_filter":"type.keyword:(incident_categories) AND parent_labels:($tipo.incident_type)","select_label_field_labels":"Name","select_label_field":"name","select_key_field_labels":"Safety Master Data ID","select_key_field":"tipo_id","query_params":[{"param_name":"tipo_sort_fields","param_value":"sequence,asc","_ARRAY_META":{"_HASH":"3061534229"}}],"_ARRAY_META":{"_HASH":"0583518252"}},{"sequence":3,"display_name___token":"TT___SEVERITY_LEVEL","display_name":"Severity Level","field_type_labels":"Safety Master Data","field_type":"Tipo.SafetyMasterData","list_display":false,"field_name":"severity_level","show_question_no":true,"enable_multilanguage_input":false,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","read_only":true,"short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"relationship_type":"reference","relationship_filter":"type.keyword: (severity_level)","select_label_field_labels":"Name","select_label_field":"name","select_key_field_labels":"Safety Master Data ID","select_key_field":"tipo_id","query_params":[{"param_name":"tipo_sort_fields","param_value":"sequence,asc","_ARRAY_META":{"_HASH":"6450779292"}}],"_ARRAY_META":{"_HASH":"3460571530"}},{"sequence":4,"display_name___token":"TT___INCIDENT_DETAILS","display_name":"Incident Details","field_type_labels":"Text","field_type":"string","field_name":"what_event_description","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","read_only":true,"short_display":true,"disable_expansion":true,"desktop_width":"100","tablet_width":"100","mobile_width":"100","hidden_":true,"hidden_hyperlink":true,"relationship_type":"reference","transient":true,"_ARRAY_META":{"_HASH":"2713087014"}},{"sequence":4,"display_name___token":"TT___EVENT_SHORT_DESCRIPTION","display_name":"Event Short Description","field_type_labels":"Text","field_type":"string","field_name":"what_briefly_describe_the_incident","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","read_only":true,"short_display":true,"disable_expansion":true,"desktop_width":"100","tablet_width":"100","mobile_width":"100","hidden_hyperlink":true,"relationship_type":"reference","transient":true,"_ARRAY_META":{"_HASH":"7659539205"}},{"sequence":5,"display_name___token":"TT___TOTAL_ACTIONS","display_name":"Total Actions","field_type_labels":"Text","field_type":"string","list_display":true,"field_name":"overview_total_actions","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","read_only":true,"short_display":true,"disable_expansion":true,"value_style":"{'border-radius': '5px' , 'color': '#ECC33C', 'font-size' : '30px', 'font-weight': 'bold'}","value_class":"{'count-stats': $tipo.overview_total_actions == 0}","hidden_hyperlink":true,"hide_in_create":false,"hide_in_edit":false,"relationship_type":"reference","reports":{"report_type":"Number","tipo_name_labels":"ActionPlan","tipo_name":"ActionPlan","data_filters":[{"display_name":"Action count","filter_expression":"parent_tipo_id:$tipo_handle.tipoInternalHandleService.getCurrentState().tipo_id","_ARRAY_META":{"_HASH":"8180803366"}}],"xaxis":{"metric":true}},"_ARRAY_META":{"_HASH":"4482206971"}},{"sequence":5,"display_name___token":"TT___ACCESS","display_name":"Access","field_type_labels":"True/False","field_type":"boolean","field_name":"overview_access_private","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","default_value":true,"short_display":true,"disable_expansion":true,"hidden_":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"7272928332"}},{"sequence":6,"display_name___token":"TT___INCOMPLETE_ACTIONS","display_name":"Incomplete Actions","field_type_labels":"Text","field_type":"string","list_display":true,"field_name":"overview_outstanding_actions","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","read_only":true,"short_display":true,"disable_expansion":true,"value_style":"{'border-radius': '5px' , 'color': '#F73838', 'font-size' : '30px', 'font-weight': 'bold' }","value_class":"{'count-stats': $tipo.overview_outstanding_actions == 0}","hidden_hyperlink":true,"relationship_type":"reference","reports":{"report_type":"Number","tipo_name_labels":"ActionPlan","tipo_name":"ActionPlan","data_filters":[{"display_name":"action_plan_imcomplete","filter_expression":"parent_tipo_id:$tipo_context.current_tipo.tipo_id AND status_ap___token:TT___INCOMPLETE","_ARRAY_META":{"_HASH":"2742028661"}}],"xaxis":{"metric":true}},"_ARRAY_META":{"_HASH":"1441500701"}},{"sequence":7,"display_name___token":"TT___COMPLETED_ACTIONS","display_name":"Completed Actions","field_type_labels":"Text","field_type":"string","list_display":true,"field_name":"completed_actions","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","read_only":true,"short_display":true,"disable_expansion":true,"value_style":"{'border-radius': '5px' , 'color': '#14822d', 'font-size' : '30px', 'font-weight': 'bold'}","value_class":"{'count-stats': $tipo.completed_actions == 0}","hidden_hyperlink":true,"hide_in_create":false,"relationship_type":"reference","_ARRAY_META":{"_HASH":"3309927737"}},{"sequence":8,"display_name___token":"TT___COMPANY","display_name":"Company","field_type_labels":"Text","field_type":"string","field_name":"company_labels","show_question_no":true,"show_as_filter":false,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","read_only":true,"short_display":true,"disable_expansion":true,"hidden_":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"8183681039"}},{"sequence":8,"display_name___token":"TT___LOCATION","display_name":"Location","field_type_labels":"Text","field_type":"string","list_display":true,"field_name":"physical_loc","show_question_no":true,"show_as_filter":false,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","read_only":true,"short_display":true,"disable_expansion":true,"hidden_":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"8626728449"}},{"sequence":9,"display_name___token":"TT___SITE","display_name":"Site","field_type_labels":"Text","field_type":"string","field_name":"site_labels","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","read_only":true,"short_display":true,"disable_expansion":true,"hidden_":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"0884123587"}},{"sequence":10,"display_name___token":"TT___WORK_LOCATION","display_name":"Area","field_type_labels":"Text","field_type":"string","list_display":false,"field_name":"structure_level_1_labels","show_question_no":true,"show_as_filter":false,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","read_only":true,"short_display":true,"disable_expansion":true,"value_style":"{'background-color': $tipo_handle.mode === 'list' ? 'orange' : ' ' , 'border-radius': '3px', 'color': $tipo_handle.mode === 'list' ? 'white' : '',  'flex-direction': 'row', 'box-sizing': 'border-box', 'display': 'flex', 'place-content': 'center flex-start', 'align-items': 'center',  'padding': $tipo_handle.mode === 'list' ? '5px':'', 'width':'70%'}","hidden_":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"6790299621"}},{"sequence":16,"display_name___token":"TT___INCIDENT_STATUS","display_name":"Incident Status","field_type_labels":"Text","field_type":"string","field_name":"overview_incident_status___token","show_question_no":true,"show_as_filter":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","default_value":"TT___REPORTED","short_display":true,"disable_expansion":true,"hidden_":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"7761756898"}},{"sequence":17,"display_name___token":"TT___INCIDENT_TYPE","display_name":"Incident Type","field_type_labels":"Text","field_type":"string","field_name":"incident_type___token","show_question_no":true,"show_as_filter":false,"tipo_array":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"8491890316"}},{"sequence":19,"display_name___token":"TT___SITE","display_name":"Site","field_type_labels":"Text","field_type":"string","field_name":"site","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"4382124598"}},{"sequence":19,"display_name___token":"TT___CREATED_DATE_04","display_name":"Created Date","field_type_labels":"Date/Time","field_type":"date_time","field_name":"created_date","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","read_only":true,"short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"9122049919"}},{"sequence":20,"display_name___token":"TT___DATE_LAST_UPDATED","display_name":"Date Last Updated","field_type_labels":"Date/Time","field_type":"date_time","field_name":"updated_date","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","read_only":true,"short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_mobile":true,"hide_in_tablet":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"7719796915"}},{"sequence":20,"display_name___token":"TT___CREATED_DATE_PLEASE_SELECT_RANGE","display_name":"Fecha creada (seleccione Rango)","field_type_labels":"Date/Time","field_type":"date_time","field_name":"created_date","show_question_no":true,"show_as_filter":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","read_only":true,"short_display":true,"disable_expansion":true,"hidden_":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"1095327389"}},{"sequence":22,"display_name___token":"TT___LAST_UPDATED_BY","display_name":"Last Updated by","field_type_labels":"Text","field_type":"string","field_name":"updated_by","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","read_only":true,"short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_mobile":true,"hide_in_tablet":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"5208158654"}},{"sequence":23,"display_name":"AllInvestigationFinalisedSelected","field_type_labels":"True/False","field_type":"boolean","field_name":"overview_AllInvestigationFinalisedSelected","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"0660595858"}},{"sequence":24,"display_name":"Approver Lists","field_type_labels":"Text","field_type":"string","field_name":"approver_lists","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"7015207361"}},{"sequence":25,"display_name":"incident_categories_labels","field_type_labels":"Text","field_type":"string","field_name":"incident_categories_labels","show_question_no":true,"tipo_array":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_label":false,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"3815747075"}},{"sequence":26,"display_name":"incident_categories_labels___token","field_type_labels":"Text","field_type":"string","field_name":"incident_categories_labels___token","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_":false,"hidden_label":false,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"3018118729"}},{"sequence":26,"display_name":"severity_level_labels","field_type_labels":"Text","field_type":"string","field_name":"severity_level_labels","show_question_no":true,"enable_multilanguage_input":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"2887864701"}},{"sequence":26,"display_name":"severity_level_labels","field_type_labels":"Text","field_type":"string","field_name":"severity_level_labels___token","show_question_no":true,"enable_multilanguage_input":false,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"7404413218"}}],"_ARRAY_META":{"_HASH":"4457349076"}},{"tipo_group_name":"DataCategoryAndCollection","tipo_fields":[{"sequence":1,"display_name":"Data Category","field_type_labels":"Multiline Text","field_type":"longstring","field_name":"data_category","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"1747471806"}},{"sequence":2,"display_name":"Collection Methods","field_type_labels":"Multiline Text","field_type":"longstring","field_name":"collection_methods","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"7556713336"}}],"_ARRAY_META":{"_HASH":"4511767874"}},{"tipo_group_name":"Actual","tipo_fields":[{"sequence":1,"display_name___token":"TT___ACTUAL_IMPACT","display_name":"Actual Impact","field_type_labels":"Safety Master Data","field_type":"Tipo.SafetyMasterData","field_name":"actual_impact","show_question_no":true,"enable_multilanguage_input":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"relationship_type":"reference","relationship_filter":"type.keyword:(incident_categories) AND tipo_id:($tipo_root.incidentcategoryfilter)","select_label_field_labels":"Name","select_label_field":"name","query_params":[{"param_name":"tipo_sort_fields","param_value":"sequence,asc","_ARRAY_META":{"_HASH":"8497959139"}}],"_ARRAY_META":{"_HASH":"8215620051"}},{"sequence":1,"display_name":"actual_impact_labels","field_type_labels":"Text","field_type":"string","field_name":"actual_impact_labels","show_question_no":true,"enable_multilanguage_input":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"6998265168"}},{"sequence":1,"display_name":"actual_impact_labels","field_type_labels":"Text","field_type":"string","field_name":"actual_impact_labels___token","show_question_no":true,"enable_multilanguage_input":false,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"7001689448"}},{"sequence":2,"display_name___token":"TT___ACTUAL_CONSEQUENCE","display_name":"Rzeczywista konsekwencja","field_type_labels":"Safety Master Data","field_type":"Tipo.SafetyMasterData","field_name":"actual_consequence","show_question_no":true,"enable_multilanguage_input":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"relationship_type":"reference","relationship_filter":"type.keyword:(consequence)","select_label_field_labels":"Name","select_label_field":"name","query_params":[{"param_name":"tipo_sort_fields","param_value":"sequence,asc","_ARRAY_META":{"_HASH":"1264822490"}}],"_ARRAY_META":{"_HASH":"4911567878"}},{"sequence":2,"display_name":"actual_consequence_labels","field_type_labels":"Text","field_type":"string","field_name":"actual_consequence_labels","show_question_no":true,"enable_multilanguage_input":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"0467268284"}},{"sequence":2,"display_name":"actual_consequence_labels","field_type_labels":"Text","field_type":"string","field_name":"actual_consequence_labels___token","show_question_no":true,"enable_multilanguage_input":false,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"4766066981"}}],"_ARRAY_META":{"_HASH":"4560135424"}},{"tipo_group_name":"When","tipo_fields":[{"sequence":1,"display_name___token":"TT___DATE_AND_TIME_RANGE","display_name":"Date and time of Incident","field_type_labels":"Date/Time","field_type":"date_time","list_display":true,"field_name":"when_date_and_time_of_incident","show_question_no":true,"show_as_filter":false,"enable_multilanguage_input":true,"date_format":"F j, Y,  h:i K","true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"mandatory":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"9681367867"}},{"sequence":1,"display_name___token":"TT___DATE_AND_TIME_OF_INCIDENT_PLEASE_SELECT_","display_name":"Date and time of Incident(Please Select Range)","field_type_labels":"Date/Time","field_type":"date_time","field_name":"when_date_and_time_of_incident","show_question_no":true,"show_as_filter":true,"date_format":"F j, Y,  h:i K","true_alternate_label_str":"Yes","false_alternate_label_str":"No","read_only":true,"short_display":true,"disable_expansion":true,"hidden_":false,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"2481407963"}}],"_ARRAY_META":{"_HASH":"5091396252"}},{"tipo_group_name":"What","tipo_fields":[{"sequence":1,"display_name___token":"TT___INCIDENT_TYPE","display_name":"Incident Type","field_type_labels":"Safety Master Data","field_type":"Tipo.SafetyMasterData","list_display":false,"field_name":"incident_categories","show_question_no":true,"show_as_filter":false,"enable_multilanguage_input":false,"tipo_array":true,"dd_field":false,"multiple_choice":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"value_class":"bottom-line","hidden_":false,"hidden_hyperlink":true,"hide_in_view":true,"mandatory":true,"relationship_type":"reference","relationship_filter":"type.keyword:(incident_categories) AND parent:(*) AND (tipo_id:(*) OR name:(*))","select_label_field_labels":"Name","select_label_field":"name","select_key_field_labels":"Safety Master Data ID","select_key_field":"tipo_id","query_params":[{"param_name":"tipo_fields","param_value":"parent_labels,parent","_ARRAY_META":{"_HASH":"6615023598"}},{"param_name":"tipo_sort_fields","param_value":"sequence,asc","_ARRAY_META":{"_HASH":"8281538915"}}],"allow_grouping":true,"tipo_field_event_js":[{"event_name":"OnChange (data_handle)","javascript_code":"// if(data_handle.tipo.incident_type && data_handle.tipo.incident_type.length > 0){\r\n//     data_handle.tipo.incidenttypefilter = data_handle.tipo.incident_type.join(' OR ');\r\n// }\r\n// else if (!data_handle.tipo.incident_type || (data_handle.tipo.incident_type && data_handle.tipo.incident_type.length == 0)){\r\n//     data_handle.tipo.incidenttypefilter = 'NA';\r\n//     data_handle.tipo.incident_type_labels___token.length = 0;\r\n//     data_handle.formControl.controls.incident_type_labels___token.reset();\r\n//     data_handle.formControl.controls.incidenttypefilter.reset();\r\n//     if(data_handle.tipo.incident_categories && data_handle.tipo.incident_categories.length > 0){\r\n//         data_handle.tipo.incident_categories.length = 0;\r\n//         data_handle.tipo.incident_categories_labels.length = 0;\r\n//         data_handle.tipo.incident_categories_labels___token.length = 0;\r\n//         data_handle.formControl.controls.incident_categories.reset();\r\n//         data_handle.formControl.controls.incident_categories_labels.reset();\r\n//         data_handle.formControl.controls.incident_categories_labels___token.reset();\r\n//     }\r\n    \r\n// }\r\n\r\n\r\nconsole.log(\"data_handle in app\", data_handle);\r\n\r\nif(data_handle.lookup_options){\r\n\r\n   if(data_handle.mode == 'create') {\r\n        const selectedTipoIds = data_handle.tipo.incident_categories;\r\n\r\n    // Filter the lookup_options based on the selected tipo_id values\r\n    const filteredOptions = data_handle.lookup_options.filter(option => selectedTipoIds.includes(option.tipo_id));\r\n\r\n    // Map the filtered options to populate the respective arrays in data_handle.tipo\r\n    data_handle.tipo.incident_categories = filteredOptions.map(val => val.tipo_id);\r\n    data_handle.tipo.incident_categories_labels = filteredOptions.map(val => val.name);\r\n    data_handle.tipo.incident_type = [...new Set(filteredOptions.map(val => val.parent))];\r\n    data_handle.tipo.incident_type_labels = [...new Set(filteredOptions.map(val => val.parent_labels))];\r\n    data_handle.tipo.incident_categories_labels___token = filteredOptions.map(val => val.name___token);\r\n    data_handle.tipo.incident_type___token = [...new Set(filteredOptions.map(val => `TT___${val.parent_labels}`))];\r\n    data_handle.tipo.incidenttypefilter = data_handle.tipo.incident_type.join(' OR ');\r\n    data_handle.tipo.incidentcategoryfilter = data_handle.tipo.incident_categories.join(' OR ');\r\n   }\r\n\r\n      if(data_handle.mode == 'edit') {\r\n          const selectedTipoIds = data_handle.tipo.incident_categories;\r\n\r\n    // Filter the lookup_options based on the selected tipo_id values\r\n    const filteredOptions = data_handle.lookup_options.filter(option => selectedTipoIds.includes(option.tipo_id));\r\n        \r\n    // Map the filtered options to populate the respective arrays in data_handle.tipo\r\n    data_handle.tipo.incident_categories = data_handle.tipo.incident_categories;\r\n    data_handle.tipo.incident_categories_labels = data_handle.tipo.incident_categories_labels;\r\n    data_handle.tipo.incident_type = data_handle.tipo.incident_type;\r\n    data_handle.tipo.incident_type_labels = data_handle.tipo.incident_type_labels;\r\n    data_handle.tipo.incident_categories_labels___token = data_handle.tipo.incident_categories_labels___token;\r\n    data_handle.tipo.incident_type___token = data_handle.tipo.incident_type___token;\r\n    // data_handle.tipo.incidenttypefilter = data_handle.tipo.incident_type.join(' OR ');\r\n    // data_handle.tipo.incidentcategoryfilter = data_handle.tipo.incident_categories.join(' OR ');\r\n   }\r\n}\r\n\r\nelse if (!data_handle.tipo.incident_type || (data_handle.tipo.incident_type && data_handle.tipo.incident_type.length == 0)){\r\n    data_handle.tipo.incidenttypefilter = 'NA';\r\n    data_handle.tipo.incident_type_labels___token.length = 0;\r\n    data_handle.formControl.controls.incident_type_labels___token.reset();\r\n    data_handle.formControl.controls.incidenttypefilter.reset();\r\n    if(data_handle.tipo.incident_categories && data_handle.tipo.incident_categories.length > 0){\r\n        data_handle.tipo.incident_categories.length = 0;\r\n        data_handle.tipo.incident_categories_labels.length = 0;\r\n        data_handle.tipo.incident_categories_labels___token.length = 0;\r\n        data_handle.formControl.controls.incident_categories.reset();\r\n        data_handle.formControl.controls.incident_categories_labels.reset();\r\n        data_handle.formControl.controls.incident_categories_labels___token.reset();\r\n    }\r\n    \r\n}\r\n\r\n\r\n\r\n// if(data_handle.tipo.incident_type && data_handle.tipo.incident_type.length > 0){\r\n//     const data = data_handle.tipo.incident_type;\r\n//     data_handle.tipo.incident_categories = Array.from(new Set(data.map(item => item.tipo_id)));\r\n//     data_handle.tipo.incident_type_labels = Array.from(new Set(data.map(item => item.parent_labels)));\r\n//     data_handle.tipo.incident_categories_labels = Array.from(new Set(data.map(item => item.name)));\r\n//     data_handle.tipo.incident_categories_labels_token = Array.from(new Set(data.map(item => item.name___token)));\r\n//     data_handle.tipo.incident_type___token = Array.from(new Set(data.map(item => `TT___${item.parent_labels}`)));\r\n//     data_handle.tipo.incident_type = Array.from(new Set(data.map(item => item.parent)));\r\n\r\n//     data_handle.tipo.incidenttypefilter = data_handle.tipo.incident_type.join(' OR ');\r\n// }\r\n// else if (!data_handle.tipo.incident_type || (data_handle.tipo.incident_type && data_handle.tipo.incident_type.length == 0)){\r\n//     data_handle.tipo.incidenttypefilter = 'NA';\r\n//     data_handle.tipo.incident_type_labels___token.length = 0;\r\n//     data_handle.formControl.controls.incident_type_labels___token.reset();\r\n//     data_handle.formControl.controls.incidenttypefilter.reset();\r\n//     if(data_handle.tipo.incident_categories && data_handle.tipo.incident_categories.length > 0){\r\n//         data_handle.tipo.incident_categories.length = 0;\r\n//         data_handle.tipo.incident_categories_labels.length = 0;\r\n//         data_handle.tipo.incident_categories_labels___token.length = 0;\r\n//         data_handle.formControl.controls.incident_categories.reset();\r\n//         data_handle.formControl.controls.incident_categories_labels.reset();\r\n//         data_handle.formControl.controls.incident_categories_labels___token.reset();\r\n//     }\r\n    \r\n// }","_ARRAY_META":{"_HASH":"0701058610"}}],"_ARRAY_META":{"_HASH":"7807049790"}},{"sequence":1,"display_name___token":"TT___INCIDENT_TYPE","display_name":"Incident Type","field_type_labels":"Safety Master Data","field_type":"Tipo.SafetyMasterData","list_display":false,"field_name":"incident_type","show_question_no":true,"show_as_filter":false,"enable_multilanguage_input":false,"tipo_array":true,"dd_field":false,"multiple_choice":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"value_class":"bottom-line","hidden_":false,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"mandatory":true,"relationship_type":"reference","relationship_filter":"type.keyword:(incident_categories) AND parent:(*) AND (tipo_id:(*) OR name:(*))","select_label_field_labels":"Name","select_label_field":"name","select_key_field_labels":"Safety Master Data ID","select_key_field":"tipo_id","query_params":[{"param_name":"tipo_fields","param_value":"parent_labels,parent","_ARRAY_META":{"_HASH":"6615023598"}},{"param_name":"tipo_sort_fields","param_value":"sequence,asc","_ARRAY_META":{"_HASH":"8281538915"}}],"allow_grouping":true,"tipo_field_event_js":[{"event_name":"OnChange (data_handle)","javascript_code":"// if(data_handle.tipo.incident_type && data_handle.tipo.incident_type.length > 0){\r\n//     const data = data_handle.tipo.incident_type;\r\n//     data_handle.tipo.incident_categories = Array.from(new Set(data.map(item => item.tipo_id)));\r\n//     data_handle.tipo.incident_type_labels = Array.from(new Set(data.map(item => item.parent_labels)));\r\n//     data_handle.tipo.incident_categories_labels = Array.from(new Set(data.map(item => item.name)));\r\n//     data_handle.tipo.incident_categories_labels_token = Array.from(new Set(data.map(item => item.name___token)));\r\n//     data_handle.tipo.incident_type___token = Array.from(new Set(data.map(item => `TT___${item.parent_labels}`)));\r\n//     data_handle.tipo.incident_type = Array.from(new Set(data.map(item => item.parent)));\r\n\r\n//     data_handle.tipo.incidenttypefilter = data_handle.tipo.incident_type.join(' OR ');\r\n// }\r\n// else if (!data_handle.tipo.incident_type || (data_handle.tipo.incident_type && data_handle.tipo.incident_type.length == 0)){\r\n//     data_handle.tipo.incidenttypefilter = 'NA';\r\n//     data_handle.tipo.incident_type_labels___token.length = 0;\r\n//     data_handle.formControl.controls.incident_type_labels___token.reset();\r\n//     data_handle.formControl.controls.incidenttypefilter.reset();\r\n//     if(data_handle.tipo.incident_categories && data_handle.tipo.incident_categories.length > 0){\r\n//         data_handle.tipo.incident_categories.length = 0;\r\n//         data_handle.tipo.incident_categories_labels.length = 0;\r\n//         data_handle.tipo.incident_categories_labels___token.length = 0;\r\n//         data_handle.formControl.controls.incident_categories.reset();\r\n//         data_handle.formControl.controls.incident_categories_labels.reset();\r\n//         data_handle.formControl.controls.incident_categories_labels___token.reset();\r\n//     }\r\n    \r\n// }\r\n\r\n\r\n// if(data_handle.tipo.incident_type && data_handle.tipo.incident_type.length > 0){\r\n//     data_handle.tipo.incidenttypefilter = data_handle.tipo.incident_type.join(' OR ');\r\n// }\r\n// else if (!data_handle.tipo.incident_type || (data_handle.tipo.incident_type && data_handle.tipo.incident_type.length == 0)){\r\n//     data_handle.tipo.incidenttypefilter = 'NA';\r\n//     data_handle.tipo.incident_type_labels___token.length = 0;\r\n//     data_handle.formControl.controls.incident_type_labels___token.reset();\r\n//     data_handle.formControl.controls.incidenttypefilter.reset();\r\n//     if(data_handle.tipo.incident_categories && data_handle.tipo.incident_categories.length > 0){\r\n//         data_handle.tipo.incident_categories.length = 0;\r\n//         data_handle.tipo.incident_categories_labels.length = 0;\r\n//         data_handle.tipo.incident_categories_labels___token.length = 0;\r\n//         data_handle.formControl.controls.incident_categories.reset();\r\n//         data_handle.formControl.controls.incident_categories_labels.reset();\r\n//         data_handle.formControl.controls.incident_categories_labels___token.reset();\r\n//     }\r\n    \r\n// }\r\n\r\n\r\nconsole.log(\"data_handle in app\", data_handle);\r\n\r\nif(data_handle.lookup_options){\r\n\r\n    const selectedTipoIds = data_handle.tipo.incident_categories;\r\n\r\n    // Filter the lookup_options based on the selected tipo_id values\r\n    const filteredOptions = data_handle.lookup_options.filter(option => selectedTipoIds.includes(option.tipo_id));\r\n\r\n    // Map the filtered options to populate the respective arrays in data_handle.tipo\r\n    data_handle.tipo.incident_categories = filteredOptions.map(val => val.tipo_id);\r\n    data_handle.tipo.incident_categories_labels = filteredOptions.map(val => val.name);\r\n    data_handle.tipo.incident_type = [...new Set(filteredOptions.map(val => val.parent))];\r\n    data_handle.tipo.incident_type_labels = [...new Set(filteredOptions.map(val => val.parent_labels))];\r\n    data_handle.tipo.incident_categories_labels___token = filteredOptions.map(val => val.name___token);\r\n    data_handle.tipo.incident_type___token = [...new Set(filteredOptions.map(val => `TT___${val.parent_labels}`))];\r\n}\r\n\r\nelse if (!data_handle.tipo.incident_type || (data_handle.tipo.incident_type && data_handle.tipo.incident_type.length == 0)){\r\n    data_handle.tipo.incidenttypefilter = 'NA';\r\n    data_handle.tipo.incident_type_labels___token.length = 0;\r\n    data_handle.formControl.controls.incident_type_labels___token.reset();\r\n    data_handle.formControl.controls.incidenttypefilter.reset();\r\n    if(data_handle.tipo.incident_categories && data_handle.tipo.incident_categories.length > 0){\r\n        data_handle.tipo.incident_categories.length = 0;\r\n        data_handle.tipo.incident_categories_labels.length = 0;\r\n        data_handle.tipo.incident_categories_labels___token.length = 0;\r\n        data_handle.formControl.controls.incident_categories.reset();\r\n        data_handle.formControl.controls.incident_categories_labels.reset();\r\n        data_handle.formControl.controls.incident_categories_labels___token.reset();\r\n    }\r\n    \r\n}","_ARRAY_META":{"_HASH":"0701058610"}}],"_ARRAY_META":{"_HASH":"7381615344"}},{"sequence":1,"display_name___token":"TT___INCIDENT_CATEGORIES","display_name":"Incident Categories","field_type_labels":"Safety Master Data","field_type":"Tipo.SafetyMasterData","list_display":false,"field_name":"incident_categories","show_question_no":true,"show_as_filter":false,"enable_multilanguage_input":false,"tipo_array":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"visibility_expression":"$tipo.incident_type.length !== 0","mandatory":true,"relationship_type":"reference","relationship_filter":"type.keyword:(incident_categories) AND parent_labels:($tipo.incident_type)","select_label_field_labels":"Name","select_label_field":"name","select_key_field_labels":"Safety Master Data ID","select_key_field":"tipo_id","query_params":[{"param_name":"tipo_sort_fields","param_value":"sequence,asc","_ARRAY_META":{"_HASH":"1197459708"}},{"param_name":"tipo_fields","param_value":"parent_labels,parent","_ARRAY_META":{"_HASH":"6715991051"}}],"allow_grouping":true,"tipo_field_event_js":[{"event_name":"AfterLookup(data_handle)","javascript_code":"console.log(data_handle);\n var data = {\n     \"name\": \"Environment\",\n     \"name___token\": \"TT___ENVIRONMENT\",\n     \"tipo_id\": \"3060123360\"\n }\nconsole.log(data_handle.context.incident_type_labels.length > 0);\nif((data_handle.root.incident_type_labels && data_handle.root.incident_type_labels.length > 0) && !(_.includes(_.map(data_handle.tipo_list,'name___token'),'TT___ENVIRONMENT')) && !(data_handle.root.incident_type_labels && data_handle.root.incident_type_labels.includes('ESG'))){\n    data_handle.tipo_list.push(data);\n}","_ARRAY_META":{"_HASH":"5061984579"}},{"event_name":"OnChange (data_handle)","javascript_code":"if(data_handle.tipo.incident_categories && data_handle.tipo.incident_categories.length > 0) {\n    data_handle.tipo.incidentcategoryfilter = data_handle.tipo.incident_categories.join(' OR ');\n}","_ARRAY_META":{"_HASH":"5374931235"}}],"_ARRAY_META":{"_HASH":"2548906146"}},{"sequence":1.1,"display_name___token":"TT___INCIDENT_TYPE","display_name":"Incident Type","field_type_labels":"Text","field_type":"string","field_name":"incident_type_labels___token","show_question_no":true,"show_as_filter":false,"tipo_array":false,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"6648000663"}},{"sequence":1.2,"display_name___token":"TT___INCIDENT_CATEGORIES","display_name":"Incident Categories","field_type_labels":"Text","field_type":"string","list_display":true,"field_name":"incident_categories_labels___token","show_question_no":true,"show_as_filter":true,"tipo_array":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"6713300919"}},{"sequence":1.5,"display_name___token":"TT___INCIDENT_CATEGORIES","display_name":"Incident Categories","field_type_labels":"Safety Master Data","field_type":"Tipo.SafetyMasterData","list_display":false,"field_name":"incident_categories","show_question_no":true,"show_as_filter":false,"enable_multilanguage_input":false,"tipo_array":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"visibility_expression":"$tipo.incident_type.length !== 0","mandatory":true,"relationship_type":"reference","relationship_filter":"type.keyword:(incident_categories) AND parent:(*) AND (tipo_id:(*) OR name:(*))","select_label_field_labels":"Name","select_label_field":"name","select_key_field_labels":"Safety Master Data ID","select_key_field":"tipo_id","query_params":[{"param_name":"tipo_sort_fields","param_value":"sequence,asc","_ARRAY_META":{"_HASH":"1197459708"}},{"param_name":"tipo_fields","param_value":"parent_labels,parent","_ARRAY_META":{"_HASH":"7211420967"}}],"allow_grouping":true,"tipo_field_event_js":[{"event_name":"AfterLookup(data_handle)","javascript_code":"console.log(data_handle);\n var data = {\n     \"name\": \"Environment\",\n     \"name___token\": \"TT___ENVIRONMENT\",\n     \"tipo_id\": \"3060123360\"\n }\nconsole.log(data_handle.context.incident_type_labels.length > 0);\nif((data_handle.root.incident_type_labels && data_handle.root.incident_type_labels.length > 0) && !(_.includes(_.map(data_handle.tipo_list,'name___token'),'TT___ENVIRONMENT')) && !(data_handle.root.incident_type_labels && data_handle.root.incident_type_labels.includes('ESG'))){\n    data_handle.tipo_list.push(data);\n}","_ARRAY_META":{"_HASH":"5061984579"}},{"event_name":"OnChange (data_handle)","javascript_code":"if(data_handle.tipo.incident_categories && data_handle.tipo.incident_categories.length > 0) {\n    data_handle.tipo.incidentcategoryfilter = data_handle.tipo.incident_categories.join(' OR ');\n}","_ARRAY_META":{"_HASH":"5374931235"}}],"_ARRAY_META":{"_HASH":"2486252708"}},{"sequence":1.6,"display_name___token":"TT___SEVERITY_LEVEL","display_name":"Severity Level","field_type_labels":"Safety Master Data","field_type":"Tipo.SafetyMasterData","list_display":true,"field_name":"severity_level","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"relationship_type":"reference","relationship_filter":"type.keyword:(severity_level)","select_label_field_labels":"Name","select_label_field":"name","select_key_field_labels":"Safety Master Data ID","select_key_field":"tipo_id","query_params":[{"param_name":"tipo_sort_fields","param_value":"sequence,asc","_ARRAY_META":{"_HASH":"7021258300"}}],"_ARRAY_META":{"_HASH":"4230997241"}},{"sequence":2,"display_name___token":"TT___INCIDENT_TYPE","display_name":"Incident Type","field_type_labels":"Text","field_type":"string","list_display":false,"field_name":"injured_injury_classification","show_question_no":true,"show_as_filter":false,"enable_multilanguage_input":true,"multiple_choice":true,"allowed_values_with_colour":[{"sequence":1,"value___token":"TT___FIRST_AID","value":"First Aid","_ARRAY_META":{"_HASH":"1543181455"}},{"sequence":2,"value___token":"TT___RECORDABLE_REPORTABLE_MEDICAL_AID","value":"Recordable/Reportable Medical Aid","_ARRAY_META":{"_HASH":"7564284597"}},{"sequence":3,"value___token":"TT___LOST_TIME","value":"Lost Time","_ARRAY_META":{"_HASH":"3658715314"}},{"sequence":4,"value___token":"TT___RESTRICTED_WORK_DUTY","value":"Restricted Work Duty","_ARRAY_META":{"_HASH":"2966669063"}}],"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_":true,"hidden_hyperlink":true,"mandatory":false,"relationship_type":"reference","_ARRAY_META":{"_HASH":"8402748966"}},{"sequence":3,"display_name___token":"TT___HIGH_POTENTIAL","display_name":"High Potential","field_type_labels":"True/False","field_type":"boolean","field_name":"high_potential","show_question_no":true,"enable_multilanguage_input":false,"true_alternate_label_str___token":"TT___YES","true_alternate_label_str":"Yes","false_alternate_label_str___token":"TT___NO","false_alternate_label_str":"No","default_value":false,"short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"visibility_expression":"$tipo_root.incident_type___token === 'TT___WORK_ACCIDENTS'","relationship_type":"reference","_ARRAY_META":{"_HASH":"4092757366"}},{"sequence":4,"display_name___token":"TT___EVENT_SHORT_DESCRIPTION","display_name":"Event Short Description","field_type_labels":"Text","field_type":"string","list_display":true,"field_name":"what_briefly_describe_the_incident","show_question_no":true,"field_description___token":"TT___ENTER_A_SHORT_DESCRIPTION_OF_THE_INCIDEN","field_description":"Enter a short description of the incident","true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"desktop_width":"100","tablet_width":"100","hidden_hyperlink":true,"mandatory":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"1390152590"}},{"sequence":18,"display_name":"IncidentTypeFilter","field_type_labels":"Text","field_type":"string","field_name":"incidenttypefilter","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","default_value":"NA","short_display":true,"disable_expansion":true,"hidden_":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"5961680363"}},{"sequence":19,"display_name":"IncidentCategoryFilter","field_type_labels":"Text","field_type":"string","field_name":"incidentcategoryfilter","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","default_value":"NA","short_display":true,"disable_expansion":true,"hidden_":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"4618800442"}},{"sequence":42,"display_name___token":"TT___CRITICAL_RISKS","display_name":"Critical Risks","field_type_labels":"Safety Master Data","field_type":"Tipo.SafetyMasterData","field_name":"what_critical_risks_present_","show_question_no":true,"tipo_array":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"visibility_expression":"$tipo.what_critical_risks_present","fill_space_invisible":true,"relationship_type":"reference","relationship_filter":"type.keyword:(critical_risk)","select_label_field_labels":"Name","select_label_field":"name","query_params":[{"param_name":"tipo_sort_fields","param_value":"sequence,asc","_ARRAY_META":{"_HASH":"2256274735"}}],"_ARRAY_META":{"_HASH":"2801012734"}},{"sequence":90,"display_name___token":"TT___RESTRICTED_ACCESS_INCIDENT","display_name":"Restricted Access Incident","field_type_labels":"True/False","field_type":"boolean","field_name":"what_restricted_access_incident1","show_question_no":true,"values_as_buttons":true,"true_alternate_label":{"sequence":1,"value___token":"TT___RESTRICTED_ACCESS","value":"Restricted Access","colour":"#B33300"},"false_alternate_label":{"sequence":2,"value___token":"TT___UNRESTRICTED","value":"Unrestricted","colour":"#3366E6"},"true_alternate_label_str":"Yes","false_alternate_label_str":"No","default_value":true,"short_display":true,"disable_expansion":true,"hidden_":true,"hidden_hyperlink":true,"hide_in_create":true,"mandatory":false,"relationship_type":"reference","_ARRAY_META":{"_HASH":"0808300093"}},{"sequence":100,"display_name___token":"TT___EVENT_DESCRIPTION","display_name":"opis wydarzenia","field_type_labels":"Multiline Text","field_type":"longstring","list_display":false,"field_name":"what_event_description","show_question_no":true,"field_description___token":"TT___THIS_DESCRIPTION_WILL_BE_UPDATED_IN_THE_","field_description":"This description will be updated in the overview section as well.","true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"desktop_width":"100","hidden_hyperlink":true,"mandatory":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"9238022341"}},{"sequence":110,"display_name___token":"TT___IMMEDIATE_ACTIONS_TAKEN","display_name":"Immediate Actions Taken","field_type_labels":"Multiline Text","field_type":"longstring","field_name":"what_immediate_actions_taken","show_question_no":true,"field_description___token":"TT___DESCRIBE_ANY_IMMEDIATE_ACTIONS_TAKEN_FOL","field_description":"Describe any immediate actions taken following the incident","true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"desktop_width":"100","hidden_hyperlink":true,"mandatory":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"1182100693"}},{"sequence":120,"display_name___token":"TT___EVIDENCE_ATTACH","display_name":"Evidence (attach)","field_type_labels":"File","field_type":"file","field_name":"what_evidence_attach_","show_question_no":true,"field_description___token":"TT___PROVIDE_ANY_EVIDENCE_E_G_PICTURES_OTHER_","field_description":"Provide any evidence e.g. pictures/other to help convey information regarding the incident","tipo_array":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"mandatory":false,"relationship_type":"reference","_ARRAY_META":{"_HASH":"2160520442"}},{"sequence":121,"display_name___token":"TT___ANALYSIS_REQUIRED","display_name":"Analysis Required","field_type_labels":"True/False","field_type":"boolean","list_display":false,"field_name":"analysis_required","show_question_no":true,"show_as_filter":false,"enable_multilanguage_input":false,"true_alternate_label_str___token":"TT___YES","true_alternate_label_str":"Yes","false_alternate_label_str___token":"TT___NO","false_alternate_label_str":"No","default_value":false,"short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_edit":false,"hide_in_view":false,"visibility_expression":"!$tipo.analysis_required || $tipo.analysistoggle","relationship_type":"reference","tipo_field_event_js":[{"event_name":"OnChange (data_handle)","javascript_code":"if(data_handle.tipo.analysis_required){\n    // let cdate = new Date();\n    // cdate.setDate(cdate.getDate() + 28);\n    // data_handle.tipo.analysis_due = cdate;\n    // data_handle.selected_tipo.analysis_due = cdate;\n    // data_handle.formControl.get('analysis_due').setValue(cdate);\n    // data_handle.tipo.analysistoggle = true;\n\n    let currentdate = new Date();\n    currentdate.setDate(currentdate.getDate() + 28);\n    let newdate = currentdate.toISOString()\n    data_handle.tipo.analysis_due = newdate;\n    data_handle.formControl.get('analysis_due').setValue(newdate);\n    data_handle.tipo.analysistoggle = true;\n}","_ARRAY_META":{"_HASH":"8113820734"}}],"_ARRAY_META":{"_HASH":"3207204764"}},{"sequence":121,"display_name___token":"TT___ANALYSIS_REQUIRED","display_name":"Analysis Required","field_type_labels":"True/False","field_type":"boolean","list_display":false,"field_name":"analysis_required","show_question_no":true,"show_as_filter":false,"enable_multilanguage_input":false,"true_alternate_label_str___token":"TT___YES","true_alternate_label_str":"Yes","false_alternate_label_str___token":"TT___NO","false_alternate_label_str":"No","default_value":false,"read_only":true,"short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"visibility_expression":"$tipo.analysis_required && !$tipo.analysistoggle","relationship_type":"reference","_ARRAY_META":{"_HASH":"7017067710"}},{"sequence":121,"display_name___token":"TT___ANALYSIS_REQUIRED","display_name":"Analysis Required","field_type_labels":"True/False","field_type":"boolean","list_display":true,"field_name":"analysis_required","show_question_no":true,"show_as_filter":false,"enable_multilanguage_input":false,"true_alternate_label_str___token":"TT___YES","true_alternate_label_str":"Yes","false_alternate_label_str___token":"TT___NO","false_alternate_label_str":"No","default_value":false,"read_only":true,"short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"6775768037"}},{"sequence":122,"display_name___token":"TT___ANALYSIS_DUE_DATE_08","display_name":"Analysis Due Date","field_type_labels":"Date/Time","field_type":"date_time","field_name":"analysis_due","show_question_no":true,"only_date":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","read_only":false,"short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"visibility_expression":"$tipo.analysis_required","relationship_type":"reference","_ARRAY_META":{"_HASH":"7666409827"}},{"sequence":123,"display_name":"AnalysisToggle","field_type_labels":"True/False","field_type":"boolean","field_name":"analysistoggle","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"8069667039"}},{"sequence":124,"display_name___token":"TT___REVIEW_REQUIRED_95","display_name":"Review Required","field_type_labels":"True/False","field_type":"boolean","field_name":"what_review_required","show_question_no":true,"true_alternate_label_str___token":"TT___YES","true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"visibility_expression":"!$tipo.what_review_required || $tipo.reviewtoggle","relationship_type":"reference","tipo_field_event_js":[{"event_name":"OnChange (data_handle)","javascript_code":"if(data_handle.tipo.what_review_required){\n    data_handle.tipo.reviewtoggle = true;\n}","_ARRAY_META":{"_HASH":"1905114915"}}],"_ARRAY_META":{"_HASH":"4070806354"}},{"sequence":124,"display_name___token":"TT___REVIEW_REQUIRED_95","display_name":"Review Required","field_type_labels":"True/False","field_type":"boolean","field_name":"what_review_required","show_question_no":true,"true_alternate_label_str___token":"TT___YES","true_alternate_label_str":"Yes","false_alternate_label_str":"No","read_only":true,"short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"visibility_expression":"$tipo.what_review_required && !$tipo.reviewtoggle","relationship_type":"reference","tipo_field_event_js":[{"event_name":"OnChange (data_handle)","_ARRAY_META":{"_HASH":"9306918945"}}],"_ARRAY_META":{"_HASH":"6375671770"}},{"sequence":125,"display_name":"ReviewToggle","field_type_labels":"Text","field_type":"string","field_name":"reviewtoggle","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"4399656082"}},{"sequence":126,"display_name___token":"TT___INCIDENT_CATEGORIES","display_name":"Incident Categories","field_type_labels":"Text","field_type":"string","list_display":true,"field_name":"incident_categories_labels","show_question_no":true,"show_as_filter":false,"enable_multilanguage_input":true,"tipo_array":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_":false,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"0000472115"}},{"sequence":127,"display_name___token":"TT___INCIDENT_TYPE","display_name":"Incident Type","field_type_labels":"Text","field_type":"string","field_name":"incident_type_labels","show_question_no":true,"show_as_filter":true,"enable_multilanguage_input":false,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_":false,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"hide_in_mobile":false,"hide_in_tablet":false,"hide_in_desktop":false,"relationship_type":"reference","_ARRAY_META":{"_HASH":"6601925617"}},{"sequence":128,"display_name":"Severity Level","field_type_labels":"Text","field_type":"string","list_display":true,"field_name":"severity_level_labels","show_question_no":true,"enable_multilanguage_input":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"6918528327"}},{"sequence":128,"display_name":"Severity Level","field_type_labels":"Text","field_type":"string","list_display":true,"field_name":"severity_level_labels","show_question_no":true,"enable_multilanguage_input":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"0261965196"}}],"_ARRAY_META":{"_HASH":"5257338634"}},{"tipo_group_name":"Signoff","tipo_fields":[{"sequence":1,"display_name___token":"TT___ROLE","display_name":"Role","field_type_labels":"Safety Master Data","field_type":"Tipo.SafetyMasterData","field_name":"addperson_Reported_by","show_question_no":true,"tipo_array":false,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":false,"relationship_type":"reference","relationship_filter":"type.keyword:(forwood_job_role)","select_label_field_labels":"Name","select_label_field":"name","select_key_field_labels":"Name","select_key_field":"name","query_params":[{"param_name":"tipo_sort_fields","param_value":"sequence,asc","_ARRAY_META":{"_HASH":"2943028967"}}],"_ARRAY_META":{"_HASH":"6417568155"}},{"sequence":1,"display_name":"addperson_Reported_by_labels","field_type_labels":"Text","field_type":"string","field_name":"addperson_Reported_by_labels","show_question_no":true,"enable_multilanguage_input":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_label":false,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"0656191866"}},{"sequence":1,"display_name":"addperson_Reported_by_labels","field_type_labels":"Text","field_type":"string","field_name":"addperson_Reported_by_labels___token","show_question_no":true,"enable_multilanguage_input":false,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_label":false,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"0860950002"}},{"sequence":2,"display_name___token":"TT___PERSON","display_name":"Person","field_type_labels":"TipoFIDUser","field_type":"Tipo.TipoFIDUser","field_name":"addperson_PersonDetails","show_question_no":true,"tipo_array":false,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"mandatory":true,"relationship_type":"reference","relationship_filter":"status:ACTIVE","select_label_field_labels":"Long Display Name","select_label_field":"longDisplayName","select_key_field_labels":"Email","select_key_field":"email","_ARRAY_META":{"_HASH":"7603372530"}},{"sequence":3,"display_name___token":"TT___INVESTIGATION_FINALISED","display_name":"Investigation Finalised?","field_type_labels":"True/False","field_type":"boolean","field_name":"Investigation_finalised","show_question_no":true,"true_alternate_label_str___token":"TT___YES","true_alternate_label_str":"Yes","false_alternate_label_str":"No","default_value":false,"short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"visibility_expression":"($tipo.addperson_PersonDetails === $tipo_handle.user_meta.tipo_id) || ($tipo_handle.user_meta.role.endsWith('SiteAdmin'))","relationship_type":"reference","tipo_field_event_js":[{"event_name":"OnChange (data_handle)","javascript_code":"// if(data_handle.context._ARRAY_META) {\n// _.forEach(data_handle.tipo.confirmations, function(val, index){\n//     if(data_handle.context._ARRAY_META._HASH === val._ARRAY_META._HASH) {\n//         val.date_signed_off = tipoHandle.getDateUtil().utc().format();\n//     }\n// });\n// } else {\n//     //data_handle.tipo.confirmations[data_handle.tipo.confirmations.length -1].date_signed_off = tipoHandle.getDateUtil().utc().format();\n// }","_ARRAY_META":{"_HASH":"6759755815"}}],"_ARRAY_META":{"_HASH":"4039776451"}},{"sequence":4,"display_name___token":"TT___DATE","display_name":"Date","field_type_labels":"Date/Time","field_type":"date_time","field_name":"date_signed_off","show_question_no":true,"only_date":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","default_value_dtnumber":24540,"read_only":true,"short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"visibility_expression":"$tipo.Investigation_finalised","relationship_type":"reference","expression":"$tipo_handle.getDateUtil().format()","_ARRAY_META":{"_HASH":"8880641197"}},{"sequence":5,"display_name___token":"TT___COMMENT","display_name":"Comment","field_type_labels":"Text","field_type":"string","field_name":"comment","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"visibility_expression":"($tipo.Investigation_finalised) && ($tipo_handle.user_meta.role.endsWith('SiteAdmin')) && (!($tipo.addperson_PersonDetails == $tipo_handle.user_meta.tipo_id))","mandatory":true,"relationship_type":"reference","tipo_field_event_js":[{"event_name":"OnChange (data_handle)","javascript_code":"console.log(\"comment\")","_ARRAY_META":{"_HASH":"5013524117"}}],"_ARRAY_META":{"_HASH":"0495336934"}}],"_ARRAY_META":{"_HASH":"5688296157"}},{"tipo_group_name":"Who","tipo_fields":[{"sequence":1,"display_name___token":"TT___INCIDENT_OWNER","display_name":"Incident Owner","field_type_labels":"Responsible","field_type":"FieldGroup.Responsible","field_name":"who_Team","show_question_no":true,"tipo_array":false,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_":false,"hidden_hyperlink":true,"hide_in_create":false,"hide_header":true,"show_in_tab":false,"relationship_type":"reference","_ARRAY_META":{"_HASH":"6417568155"}},{"sequence":2,"display_name___token":"TT___INVOLVED_ROLE","display_name":"Person affected","field_type_labels":"Injured","field_type":"FieldGroup.Injured","field_name":"who_Injured","show_question_no":true,"tipo_array":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":false,"visibility_expression":"$tipo_root.incident_categories && ($tipo_root.incident_categories_labels___token.includes('TT___HEALTH') || $tipo_root.incident_categories_labels___token.includes('TT___SAFETY'))","hide_header":true,"show_in_tab":false,"relationship_type":"reference","_ARRAY_META":{"_HASH":"1507187353"}}],"_ARRAY_META":{"_HASH":"6125329068"}},{"tipo_group_name":"CriticalRisk","tipo_fields":[{"sequence":1,"display_name___token":"TT___CRITICAL_RISKS","display_name":"Critical Risks","field_type_labels":"Safety Master Data","field_type":"Tipo.SafetyMasterData","field_name":"criticalrisk","show_question_no":true,"enable_multilanguage_input":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"relationship_type":"reference","relationship_filter":"type.keyword:(critical_risk)","select_label_field_labels":"Name","select_label_field":"name","query_params":[{"param_name":"tipo_sort_fields","param_value":"sequence,asc","_ARRAY_META":{"_HASH":"0687543444"}}],"_ARRAY_META":{"_HASH":"6973823966"}},{"sequence":1,"display_name":"criticalrisk_labels","field_type_labels":"Text","field_type":"string","field_name":"criticalrisk_labels","show_question_no":true,"enable_multilanguage_input":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"6382485958"}},{"sequence":1,"display_name":"criticalrisk_labels","field_type_labels":"Text","field_type":"string","field_name":"criticalrisk_labels___token","show_question_no":true,"enable_multilanguage_input":false,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"4324775463"}},{"sequence":2,"display_name___token":"TT___CRITICAL_CONTROLS","display_name":"Critical Controls","field_type_labels":"Safety Master Data","field_type":"Tipo.SafetyMasterData","field_name":"criticalcontrol","show_question_no":true,"enable_multilanguage_input":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"visibility_expression":"$tipo.criticalrisk","relationship_type":"reference","relationship_filter":"type.keyword:(critical_control) AND parent: ($tipo.criticalrisk)","select_label_field_labels":"Name","select_label_field":"name","query_params":[{"param_name":"tipo_sort_fields","param_value":"sequence,asc","_ARRAY_META":{"_HASH":"8558595979"}}],"_ARRAY_META":{"_HASH":"5271965318"}},{"sequence":2,"display_name":"criticalcontrol_labels","field_type_labels":"Text","field_type":"string","field_name":"criticalcontrol_labels","show_question_no":true,"enable_multilanguage_input":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"6691906068"}},{"sequence":2,"display_name":"criticalcontrol_labels","field_type_labels":"Text","field_type":"string","field_name":"criticalcontrol_labels___token","show_question_no":true,"enable_multilanguage_input":false,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"2524694200"}},{"sequence":3,"display_name___token":"TT___STATUS","display_name":"Status","field_type_labels":"Safety Master Data","field_type":"Tipo.SafetyMasterData","field_name":"critical_control_status","show_question_no":true,"enable_multilanguage_input":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"relationship_type":"reference","relationship_filter":"type.keyword: (critical_control_status)","query_params":[{"param_name":"tipo_sort_fields","param_value":"sequence,asc","_ARRAY_META":{"_HASH":"8831387947"}}],"_ARRAY_META":{"_HASH":"0783595937"}},{"sequence":3,"display_name":"critical_control_status_labels","field_type_labels":"Text","field_type":"string","field_name":"critical_control_status_labels","show_question_no":true,"enable_multilanguage_input":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"0718716232"}},{"sequence":3,"display_name":"critical_control_status_labels","field_type_labels":"Text","field_type":"string","field_name":"critical_control_status_labels___token","show_question_no":true,"enable_multilanguage_input":false,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"0809207448"}},{"sequence":4,"display_name___token":"TT___CONTROL_TYPE","display_name":"Control Type","field_type_labels":"Safety Master Data","field_type":"Tipo.SafetyMasterData","field_name":"critical_control_control_type","show_question_no":true,"enable_multilanguage_input":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"visibility_expression":"$tipo.critical_control_status === '8208079580'","relationship_type":"reference","relationship_filter":"type.keyword: (control_type)","select_label_field_labels":"Name","select_label_field":"name","query_params":[{"param_name":"tipo_sort_fields","param_value":"sequence,asc","_ARRAY_META":{"_HASH":"4717694897"}}],"_ARRAY_META":{"_HASH":"4026582779"}},{"sequence":4,"display_name":"critical_control_control_type_labels","field_type_labels":"Text","field_type":"string","field_name":"critical_control_control_type_labels","show_question_no":true,"enable_multilanguage_input":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"7808150258"}},{"sequence":4,"display_name":"critical_control_control_type_labels","field_type_labels":"Text","field_type":"string","field_name":"critical_control_control_type_labels___token","show_question_no":true,"enable_multilanguage_input":false,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"8825058223"}},{"sequence":5,"display_name___token":"TT___SECTION","display_name":"Section","field_type_labels":"Safety Master Data","field_type":"Tipo.SafetyMasterData","field_name":"critical_control_section","show_question_no":true,"enable_multilanguage_input":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"visibility_expression":"$tipo.critical_control_status_labels___token === 'TT___ABSENT_OR_FAILING'","relationship_type":"reference","relationship_filter":"type.keyword:(critical_control_section)","query_params":[{"param_name":"tipo_sort_fields","param_value":"sequence,asc","_ARRAY_META":{"_HASH":"8345080493"}}],"_ARRAY_META":{"_HASH":"2842388431"}},{"sequence":5,"display_name":"critical_control_section_labels","field_type_labels":"Text","field_type":"string","field_name":"critical_control_section_labels","show_question_no":true,"enable_multilanguage_input":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"2518634081"}},{"sequence":5,"display_name":"critical_control_section_labels","field_type_labels":"Text","field_type":"string","field_name":"critical_control_section_labels___token","show_question_no":true,"enable_multilanguage_input":false,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"7547497007"}}],"_ARRAY_META":{"_HASH":"6588364647"}},{"tipo_group_name":"Learnings","tipo_fields":[{"sequence":4,"display_name___token":"TT___LESSONS_LEARNT","display_name":"Lessons Learnt","field_type_labels":"Multiline Text","field_type":"longstring","field_name":"investigation_findings_sum","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"desktop_width":"100","tablet_width":"100","mobile_width":"100","hidden_hyperlink":true,"mandatory":false,"relationship_type":"reference","_ARRAY_META":{"_HASH":"4882073414"}},{"sequence":6,"display_name___token":"TT___POTENTIAL_FATAL_INCIDENT_PFI","display_name":"Potential Fatal Incident (PFI)?","field_type_labels":"True/False","field_type":"boolean","list_display":true,"field_name":"analysis_pfi","show_question_no":true,"show_as_filter":false,"field_description___token":"TT___PLEASE_CONSULT_WITH_YOUR_CORPORATE_ADMIN","field_description":"Please consult with your Corporate Administrator when using this classification.","enable_multilanguage_input":false,"values_as_buttons":true,"true_alternate_label":{"sequence":1,"value___token":"TT___YES","value":"Yes","colour":"#D97B5B"},"false_alternate_label":{"sequence":2,"value___token":"TT___NO","value":"No","colour":"#D3DCC6"},"true_alternate_label_str":"Yes","false_alternate_label_str":"No","default_value":false,"short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"8344236154"}},{"sequence":13,"display_name___token":"TT___ATTACHMENTS","display_name":"Archivos adjuntos:","field_type_labels":"File","field_type":"file","field_name":"investigation_attachments","show_question_no":true,"field_description___token":"TT___ATTACH_LEARNINGS_TO_SHARE","field_description":"Attach learnings to share","tipo_array":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"2567661923"}}],"_ARRAY_META":{"_HASH":"6953885674"}},{"tipo_group_name":"Injured","tipo_fields":[{"sequence":1.5,"display_name___token":"TT___ROLE","display_name":"Role","field_type_labels":"Text","field_type":"string","field_name":"injured_Involved_role","show_question_no":true,"tipo_array":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","default_value":"Injured","short_display":true,"disable_expansion":true,"hidden_":true,"hidden_hyperlink":true,"hide_in_create":false,"relationship_type":"reference","_ARRAY_META":{"_HASH":"6417568155"}},{"sequence":2,"display_name___token":"TT___PAYROLL","display_name":"Reference","field_type_labels":"Text","field_type":"string","field_name":"injured_payroll","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","default_value":"0","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"1507187353"}},{"sequence":3,"display_name":"Employment Type","field_type_labels":"Text","field_type":"string","field_name":"employment_type__token","show_question_no":true,"dd_field":true,"allowed_values___token":["TT___EMPLOYEE_60","TT___CONTRACTOR_COMPANY_60","TT___OTHER"],"allowed_values":["Other"],"true_alternate_label_str":"Yes","false_alternate_label_str":"No","default_value___token":"TT___EMPLOYEE_60","default_value":"Employee","short_display":true,"disable_expansion":true,"hidden_":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"2309847181"}},{"sequence":3,"display_name":"Employment Type","field_type_labels":"Text","field_type":"string","field_name":"employment_type","show_question_no":true,"enable_multilanguage_input":true,"dd_field":true,"allowed_values___token":["TT___EMPLOYEE_60","TT___OTHER","TT___CONTRACTOR_06"],"allowed_values":["Other"],"true_alternate_label_str":"Yes","false_alternate_label_str":"No","default_value":"Employee","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"relationship_type":"reference","tipo_field_event_js":[{"event_name":"OnChange (data_handle)","javascript_code":"tipoHandle['hideContractorCompany'] = false;","_ARRAY_META":{"_HASH":"2843522213"}}],"_ARRAY_META":{"_HASH":"8033344943"}},{"sequence":4,"display_name___token":"TT___WAS_EMPLOYEE_TAKEN_TO_AN_OFFSITE_MEDICAL","display_name":"Was Employee Taken to an offsite Medical Provider?","field_type_labels":"True/False","field_type":"boolean","field_name":"injured_was_employee_taken_to_an_offsite_medical_provider_","show_question_no":true,"enable_multilanguage_input":false,"true_alternate_label_str___token":"TT___YES","true_alternate_label_str":"Yes","false_alternate_label_str___token":"TT___NO","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"7642688506"}},{"sequence":4,"display_name___token":"TT___CONTRACTOR_COMPANY_60","display_name":"Contractor Company","field_type_labels":"TipoSSTeams","field_type":"Tipo.TipoSSTeams","field_name":"contractor_company","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"visibility_expression":"$tipo.employment_type___token == 'TT___CONTRACTOR_06'","relationship_type":"reference","select_label_field_labels":"Name","select_label_field":"name","select_key_field_labels":"ID","select_key_field":"tipo_id","allow_create":true,"allow_editting":true,"_ARRAY_META":{"_HASH":"3756780133"}},{"sequence":5,"display_name___token":"TT___OFF_SITE_TAKEN_BY","display_name":"Przejte poza witryn","field_type_labels":"Text","field_type":"string","field_name":"injured_off_site_taken_by","show_question_no":true,"field_description___token":"TT___OFF_SITE_TREATMENT","field_description":"Off-site Treatment","true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"visibility_expression":"$tipo.injured_was_employee_taken_to_an_offsite_medical_provider_","relationship_type":"reference","relationship_filter":"status:ACTIVE","_ARRAY_META":{"_HASH":"1945822116"}},{"sequence":6,"display_name___token":"TT___OFF_SITE_WHEN","display_name":"Off-site When","field_type_labels":"Date/Time","field_type":"date_time","field_name":"injured_off_site_when","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"visibility_expression":"$tipo.injured_was_employee_taken_to_an_offsite_medical_provider_","relationship_type":"reference","_ARRAY_META":{"_HASH":"3813530085"}},{"sequence":7,"display_name___token":"TT___OFF_SITE_MEDICAL_PROVIDER","display_name":"Off-site Medical Provider","field_type_labels":"Text","field_type":"string","field_name":"injured_off_site_medical_provider","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"visibility_expression":"$tipo.injured_was_employee_taken_to_an_offsite_medical_provider_","relationship_type":"reference","_ARRAY_META":{"_HASH":"9036694802"}},{"sequence":8,"display_name___token":"TT___DIVIDER","display_name":"Divider","field_type_labels":"Divider","field_type":"divider","field_name":"divider","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_label":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"2030647571"}},{"sequence":10,"display_name___token":"TT___IS_FOLLOW_UP_MEDICAL_CARE_REQUIRED","display_name":"Is follow-up Medical Care Required?","field_type_labels":"Text","field_type":"string","field_name":"injured_is_follow_up_medical_care_required_","show_question_no":true,"enable_multilanguage_input":true,"multiple_choice":true,"allowed_values_with_colour":[{"value___token":"TT___NOT_APPLICABLE","value":"Not Applicable","_ARRAY_META":{"_HASH":"7852595192"}},{"value___token":"TT___NO","value":"No","_ARRAY_META":{"_HASH":"8097146413"}},{"value___token":"TT___YES","value":"Yes","_ARRAY_META":{"_HASH":"9922409230"}}],"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"5014895106"}},{"sequence":11,"display_name___token":"TT___WAS_WORKER_PROVIDED_WITH_A_FUNCTIONAL_AB","display_name":"Was worker provided with a Functional Abilities Form/Work Release","field_type_labels":"Text","field_type":"string","field_name":"injured_was_worker_provided_with_a_functional_abilities_form_work_release_","show_question_no":true,"enable_multilanguage_input":true,"multiple_choice":true,"allowed_values_with_colour":[{"value___token":"TT___NO","value":"No","_ARRAY_META":{"_HASH":"7022677818"}},{"value___token":"TT___YES","value":"Yes","_ARRAY_META":{"_HASH":"7987654436"}},{"value___token":"TT___NOT_APPLICABLE","value":"Not Applicable","_ARRAY_META":{"_HASH":"9600595805"}}],"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"5872661316"}},{"sequence":12,"display_name___token":"TT___WAS_MODIFIED_WORK_OFFERED_TO_EMPLOYEE","display_name":"Czy pracownikowi zaoferowano zmodyfikowan prac?","field_type_labels":"Text","field_type":"string","field_name":"injured_was_modified_work_offered_to_employee_","show_question_no":true,"enable_multilanguage_input":true,"multiple_choice":true,"allowed_values_with_colour":[{"value___token":"TT___NOT_APPLICABLE","value":"Not Applicable","_ARRAY_META":{"_HASH":"2085534937"}},{"value___token":"TT___NO","value":"No","_ARRAY_META":{"_HASH":"2244931354"}},{"value___token":"TT___YES","value":"Yes","_ARRAY_META":{"_HASH":"2955083791"}}],"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"9921483174"}},{"sequence":49,"display_name":"Divider","field_type_labels":"Divider","field_type":"divider","field_name":"divider","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_label":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"8769386324"}},{"sequence":50,"display_name___token":"TT___BODY_PART","display_name":"Body Part","field_type_labels":"Safety Master Data","field_type":"Tipo.SafetyMasterData","field_name":"injured_body_part","show_question_no":true,"enable_multilanguage_input":true,"dd_field":true,"allowed_values":["Head","Left leg"],"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_label":false,"hidden_hyperlink":true,"relationship_type":"reference","relationship_filter":"type.keyword:(body_part)","select_label_field_labels":"Name","select_label_field":"name","query_params":[{"param_name":"tipo_sort_fields","param_value":"sequence,asc","_ARRAY_META":{"_HASH":"0015950635"}}],"_ARRAY_META":{"_HASH":"1214820881"}},{"sequence":50,"display_name":"injured_body_part_labels","field_type_labels":"Text","field_type":"string","field_name":"injured_body_part_labels","show_question_no":true,"enable_multilanguage_input":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"0952305956"}},{"sequence":50,"display_name":"injured_body_part_labels","field_type_labels":"Text","field_type":"string","field_name":"injured_body_part_labels___token","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"1290872183"}},{"sequence":51,"display_name___token":"TT___MECHANISM_OF_INJURY","display_name":"Mechanism of Injury","field_type_labels":"Safety Master Data","field_type":"Tipo.SafetyMasterData","field_name":"injured_mechanism_of_injury","show_question_no":true,"enable_multilanguage_input":true,"dd_field":true,"allowed_values":["Struck Against","Noise and Pressure","Slips, Trips and Falls"],"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"relationship_type":"reference","relationship_filter":"type.keyword:(mechanism_of_injury)","select_label_field_labels":"Name","select_label_field":"name","query_params":[{"param_name":"tipo_sort_fields","param_value":"sequence,asc","_ARRAY_META":{"_HASH":"8637036047"}}],"_ARRAY_META":{"_HASH":"8564163721"}},{"sequence":51,"display_name":"injured_mechanism_of_injury_labels","field_type_labels":"Text","field_type":"string","field_name":"injured_mechanism_of_injury_labels","show_question_no":true,"enable_multilanguage_input":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"0737488472"}},{"sequence":51,"display_name":"injured_mechanism_of_injury_labels","field_type_labels":"Text","field_type":"string","field_name":"injured_mechanism_of_injury_labels___token","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"7905403345"}},{"sequence":52,"display_name___token":"TT___NATURE_OF_INJURY","display_name":"Nature Of Injury","field_type_labels":"Safety Master Data","field_type":"Tipo.SafetyMasterData","field_name":"injured_nature_of_injury","show_question_no":true,"enable_multilanguage_input":true,"dd_field":true,"allowed_values":["Bleeding","Broken Bone or Dislocation","Fatality"],"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"relationship_type":"reference","relationship_filter":"type.keyword:(nature_of_injury)","select_label_field_labels":"Name","select_label_field":"name","query_params":[{"param_name":"tipo_sort_fields","param_value":"sequence,asc","_ARRAY_META":{"_HASH":"1010002813"}}],"_ARRAY_META":{"_HASH":"3766107639"}},{"sequence":52,"display_name":"injured_nature_of_injury_labels","field_type_labels":"Text","field_type":"string","field_name":"injured_nature_of_injury_labels","show_question_no":true,"enable_multilanguage_input":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"1051251601"}},{"sequence":52,"display_name":"injured_nature_of_injury_labels","field_type_labels":"Text","field_type":"string","field_name":"injured_nature_of_injury_labels___token","show_question_no":true,"enable_multilanguage_input":false,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"hide_in_edit":true,"hide_in_view":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"8138309721"}}],"_ARRAY_META":{"_HASH":"8005368287"}},{"tipo_group_name":"IncidentAction","tipo_fields":[{"sequence":1,"display_name___token":"TT___ACTION_PLANS","display_name":"Action plans","field_type_labels":"Actions","field_type":"FieldGroup.Actions","field_name":"incident_action","show_question_no":true,"tipo_array":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"sizing":"3","tablet_field_width":"2","mobile_field_width":"1","desktop_width":"100","tablet_width":"100","mobile_width":"100","hidden_":false,"hidden_label":true,"hidden_hyperlink":true,"relationship_type":"embed_reference","_ARRAY_META":{"_HASH":"9033729238"}}],"_ARRAY_META":{"_HASH":"8068164151"}},{"tipo_group_name":"parent","tipo_fields":[{"sequence":1,"display_name___token":"TT___OVERVIEW","display_name":"Overview","field_type_labels":"Overview","field_type":"FieldGroup.Overview","field_name":"overview","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"do_not_nest_data":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"2300520936"}},{"sequence":2,"display_name___token":"TT___WHEN","display_name":"When","field_type_labels":"When","field_type":"FieldGroup.When","field_name":"when","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"do_not_nest_data":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"6779915005"}},{"sequence":3,"display_name___token":"TT___WHAT","display_name":"What","field_type_labels":"What","field_type":"FieldGroup.What","field_name":"what","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"do_not_nest_data":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"7440298427"}},{"sequence":4,"display_name___token":"TT___WHERE","display_name":"Where","field_type_labels":"Where","field_type":"FieldGroup.Where","field_name":"where","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"do_not_nest_data":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"8893329802"}},{"sequence":5,"display_name___token":"TT___WHO","display_name":"Who","field_type_labels":"Who","field_type":"FieldGroup.Who","field_name":"who","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"do_not_nest_data":true,"show_in_expansion_panel":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"4989826096"}},{"sequence":6,"display_name___token":"TT___ANALYSIS","display_name":"Analysis","field_type_labels":"Analysis","field_type":"FieldGroup.Analysis","field_name":"analysis","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"visibility_expression":"$tipo.analysis_required","do_not_nest_data":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"9788807258"}},{"sequence":7,"display_name___token":"TT___ACTIONS","display_name":"Actions","field_type_labels":"IncidentAction","field_type":"FieldGroup.IncidentAction","field_name":"actions","show_question_no":true,"tipo_array":false,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"do_not_nest_data":true,"hide_actions":false,"hide_header":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"1363126469"}},{"sequence":8,"display_name___token":"TT___LEARNINGS","display_name":"Learnings","field_type_labels":"Learnings","field_type":"FieldGroup.Learnings","field_name":"learnings","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"3600329602"}},{"sequence":9,"display_name___token":"TT___REVIEW","display_name":"Review","field_type_labels":"Confirmations","field_type":"FieldGroup.Confirmations","field_name":"confirmations","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":true,"visibility_expression":"$tipo.what_review_required","do_not_nest_data":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"0822312969"}}],"_ARRAY_META":{"_HASH":"8190464633"}},{"tipo_group_name":"RootCausePlugin","tipo_fields":[{"sequence":1,"display_name":"RootCausePlugin","field_type_labels":"Root Cause Analysis","field_type":"Tipo.RootCauseAnalysis","field_name":"root_cause_plugin","show_question_no":true,"tipo_array":false,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"desktop_width":"100","tablet_width":"100","hidden_label":true,"hidden_hyperlink":true,"relationship_type":"embed_reference","_ARRAY_META":{"_HASH":"4626732016"}},{"sequence":2,"display_name":"root_cause_analysis","field_type_labels":"root_cause_analysis","field_type":"FieldGroup.root_cause_analysis","field_name":"root_cause_analysis","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_":true,"hidden_hyperlink":true,"do_not_nest_data":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"7900257689"}}],"_ARRAY_META":{"_HASH":"9456543230"}},{"tipo_group_name":"InvolvedOther","tipo_fields":[{"sequence":15,"display_name___token":"TT___ROLE","display_name":"Role","field_type_labels":"Text","field_type":"string","field_name":"Involved_other_role","show_question_no":true,"tipo_array":false,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"hide_in_create":false,"relationship_type":"reference","relationship_filter":"type: (involved_role)","select_label_field_labels":"Name","select_label_field":"name","query_params":[{"param_name":"tipo_sort_fields","param_value":"sequence,asc","_ARRAY_META":{"_HASH":"7062139630"}}],"_ARRAY_META":{"_HASH":"6417568155"}},{"sequence":20,"display_name___token":"TT___PAYROLL","display_name":"Payroll","field_type_labels":"Text","field_type":"string","field_name":"involved_other_person_team","show_question_no":true,"tipo_array":false,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"relationship_type":"reference","select_label_field_labels":"Long Display Name","select_label_field":"longDisplayName","select_key_field_labels":"Email","select_key_field":"email","_ARRAY_META":{"_HASH":"7603372530"}},{"sequence":23,"display_name___token":"TT___EXTERNAL_PERSON","display_name":"External Person","field_type_labels":"Text","field_type":"string","field_name":"involved_other_external_person","show_question_no":true,"true_alternate_label_str":"Yes","false_alternate_label_str":"No","short_display":true,"disable_expansion":true,"hidden_hyperlink":true,"relationship_type":"reference","_ARRAY_META":{"_HASH":"8471724744"}}],"_ARRAY_META":{"_HASH":"9659762837"}}],"tipo_list":{"filters":[{"display_name___token":"TT___ANALYSIS_AVAILABLE","display_name":"Analysis Available","filter_expression":"analysis_required:(true)","_ARRAY_META":{"_HASH":"0180478757"}},{"display_name___token":"TT___ANALYSIS_NOT_AVAILABLE","display_name":"Analysis Not Available","filter_expression":"analysis_required:(false)","_ARRAY_META":{"_HASH":"1076171454"}}],"multi_filter":false,"desktop_grid":false,"show_maps":true,"map_field_name":"geo_locn_location","enable_pagination":true,"default_page_size":50,"allow_search":true,"custom_card_template":"PGRpdiBpZD0iaTk5NiIgY2xhc3M9InJvdyI+PGRpdiBpZD0iaTBmNCIgY2xhc3M9ImNlbGwiPjxkaXYgaWQ9ImlkbGYiIGNsYXNzPSJyb3ciPjxkaXYgaWQ9ImloenUiIGNsYXNzPSJjZWxsIj48ZGl2IGlkPSJpMHJzIiBjbGFzcz0icm93Ij48ZGl2IGlkPSJpdXo5IiBjbGFzcz0iY2VsbCI+PGRpdiBkYXRhLWluZGV4PSIwIiBmaWVsZF90eXBlPSJzdHJpbmciIGlkPSJpYWkzaCI+PCQgZmllbGRXcmFwcGVyLmZpZWxkd3JhcHBlcihkZWZpbml0aW9uX2N1c3RvbS50aXBvX2ZpZWxkc1swXSwKICAgICAgICAgICAgbW9kZSwgJycsICcnLCBkZWZpbml0aW9uX2N1c3RvbS50aXBvX21ldGEpICQ+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz0iY2VsbCI+PGRpdiBkYXRhLWluZGV4PSIxIiBmaWVsZF90eXBlPSJzdHJpbmciIGlkPSJpbnl0Ij48JCBmaWVsZFdyYXBwZXIuZmllbGR3cmFwcGVyKGRlZmluaXRpb25fY3VzdG9tLnRpcG9fZmllbGRzWzFdLAogICAgICAgICAgICBtb2RlLCAnJywgJycsIGRlZmluaXRpb25fY3VzdG9tLnRpcG9fbWV0YSkgJD48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48ZGl2IGlkPSJpZmhuIiBjbGFzcz0iY2VsbCI+PGRpdiBpZD0iaWllMmsiIGNsYXNzPSJyb3ciPjxkaXYgaWQ9Imlsc2QxIiBjbGFzcz0iY2VsbCI+PGRpdiBkYXRhLWluZGV4PSIyIiBmaWVsZF90eXBlPSJUaXBvLlNhZmV0eU1hc3RlckRhdGEiPjwkIGZpZWxkV3JhcHBlci5maWVsZHdyYXBwZXIoZGVmaW5pdGlvbl9jdXN0b20udGlwb19maWVsZHNbMl0sCiAgICAgICAgICAgIG1vZGUsICcnLCAnJywgZGVmaW5pdGlvbl9jdXN0b20udGlwb19tZXRhKSAkPjwvZGl2PjwvZGl2PjxkaXYgaWQ9Imk0cWJrIiBjbGFzcz0iY2VsbCI+PGRpdiBkYXRhLWluZGV4PSIzIiBmaWVsZF90eXBlPSJUaXBvLlNhZmV0eU1hc3RlckRhdGEiPjwkIGZpZWxkV3JhcHBlci5maWVsZHdyYXBwZXIoZGVmaW5pdGlvbl9jdXN0b20udGlwb19maWVsZHNbM10sCiAgICAgICAgICAgIG1vZGUsICcnLCAnJywgZGVmaW5pdGlvbl9jdXN0b20udGlwb19tZXRhKSAkPjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9ImNlbGwiIGlkPSJpM3h1ZyI+PGRpdiBkYXRhLWluZGV4PSIxNSIgZmllbGRfdHlwZT0ic3RyaW5nIj48JCBmaWVsZFdyYXBwZXIuZmllbGR3cmFwcGVyKGRlZmluaXRpb25fY3VzdG9tLnRpcG9fZmllbGRzWzE1XSwKICAgICAgICAgICAgbW9kZSwgJycsICcnLCBkZWZpbml0aW9uX2N1c3RvbS50aXBvX21ldGEpICQ+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PGRpdiBpZD0iaTJkZCIgY2xhc3M9ImNlbGwiPjxkaXYgaWQ9Iml2OTcyIiBjbGFzcz0icm93Ij48ZGl2IGNsYXNzPSJjZWxsIj48ZGl2IGRhdGEtaW5kZXg9IjEyIiBmaWVsZF90eXBlPSJib29sZWFuIiBpZD0iaTRvaWkiPjwkIGZpZWxkV3JhcHBlci5maWVsZHdyYXBwZXIoZGVmaW5pdGlvbl9jdXN0b20udGlwb19maWVsZHNbMTJdLAogICAgICAgICAgICBtb2RlLCAnJywgJycsIGRlZmluaXRpb25fY3VzdG9tLnRpcG9fbWV0YSkgJD48L2Rpdj48L2Rpdj48ZGl2IGlkPSJpM3hrMiIgY2xhc3M9ImNlbGwiPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjxkaXYgaWQ9ImloNmlsIiBjbGFzcz0icm93Ij48ZGl2IGlkPSJpczl0aiIgY2xhc3M9ImNlbGwiPjxkaXYgY2xhc3M9InJvdyI+PGRpdiBjbGFzcz0iY2VsbCI+PGRpdiBjbGFzcz0icm93Ij48ZGl2IGNsYXNzPSJjZWxsIj48ZGl2IGRhdGEtaW5kZXg9IjE2IiBmaWVsZF90eXBlPSJzdHJpbmciPjwkIGZpZWxkV3JhcHBlci5maWVsZHdyYXBwZXIoZGVmaW5pdGlvbl9jdXN0b20udGlwb19maWVsZHNbMTZdLAogICAgICAgICAgICBtb2RlLCAnJywgJycsIGRlZmluaXRpb25fY3VzdG9tLnRpcG9fbWV0YSkgJD48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPSJjZWxsIj48ZGl2IGRhdGEtaW5kZXg9IjgiIGZpZWxkX3R5cGU9ImRhdGVfdGltZSI+PCQgZmllbGRXcmFwcGVyLmZpZWxkd3JhcHBlcihkZWZpbml0aW9uX2N1c3RvbS50aXBvX2ZpZWxkc1s4XSwKICAgICAgICAgICAgbW9kZSwgJycsICcnLCBkZWZpbml0aW9uX2N1c3RvbS50aXBvX21ldGEpICQ+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz0iY2VsbCI+PGRpdiBjbGFzcz0icm93Ij48ZGl2IGNsYXNzPSJjZWxsIj48ZGl2IGRhdGEtaW5kZXg9IjQiIGZpZWxkX3R5cGU9InN0cmluZyI+PCQgZmllbGRXcmFwcGVyLmZpZWxkd3JhcHBlcihkZWZpbml0aW9uX2N1c3RvbS50aXBvX2ZpZWxkc1s0XSwKICAgICAgICAgICAgbW9kZSwgJycsICcnLCBkZWZpbml0aW9uX2N1c3RvbS50aXBvX21ldGEpICQ+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz0iY2VsbCI+PGRpdiBkYXRhLWluZGV4PSI1IiBmaWVsZF90eXBlPSJzdHJpbmciPjwkIGZpZWxkV3JhcHBlci5maWVsZHdyYXBwZXIoZGVmaW5pdGlvbl9jdXN0b20udGlwb19maWVsZHNbNV0sCiAgICAgICAgICAgIG1vZGUsICcnLCAnJywgZGVmaW5pdGlvbl9jdXN0b20udGlwb19tZXRhKSAkPjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9ImNlbGwiPjxkaXYgZGF0YS1pbmRleD0iNiIgZmllbGRfdHlwZT0ic3RyaW5nIj48JCBmaWVsZFdyYXBwZXIuZmllbGR3cmFwcGVyKGRlZmluaXRpb25fY3VzdG9tLnRpcG9fZmllbGRzWzZdLAogICAgICAgICAgICBtb2RlLCAnJywgJycsIGRlZmluaXRpb25fY3VzdG9tLnRpcG9fbWV0YSkgJD48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj4=","custom_card_template_css":"KiB7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IH0gYm9keSB7bWFyZ2luOiAwO30qe2JveC1zaXppbmc6Ym9yZGVyLWJveDt9Ym9keXttYXJnaW4tdG9wOjBweDttYXJnaW4tcmlnaHQ6MHB4O21hcmdpbi1ib3R0b206MHB4O21hcmdpbi1sZWZ0OjBweDt9Kntib3gtc2l6aW5nOmJvcmRlci1ib3g7fWJvZHl7bWFyZ2luLXRvcDowcHg7bWFyZ2luLXJpZ2h0OjBweDttYXJnaW4tYm90dG9tOjBweDttYXJnaW4tbGVmdDowcHg7fSp7Ym94LXNpemluZzpib3JkZXItYm94O31ib2R5e21hcmdpbi10b3A6MHB4O21hcmdpbi1yaWdodDowcHg7bWFyZ2luLWJvdHRvbTowcHg7bWFyZ2luLWxlZnQ6MHB4O30qe2JveC1zaXppbmc6Ym9yZGVyLWJveDt9Ym9keXttYXJnaW4tdG9wOjBweDttYXJnaW4tcmlnaHQ6MHB4O21hcmdpbi1ib3R0b206MHB4O21hcmdpbi1sZWZ0OjBweDt9Kntib3gtc2l6aW5nOmJvcmRlci1ib3g7fWJvZHl7bWFyZ2luLXRvcDowcHg7bWFyZ2luLXJpZ2h0OjBweDttYXJnaW4tYm90dG9tOjBweDttYXJnaW4tbGVmdDowcHg7fSp7Ym94LXNpemluZzpib3JkZXItYm94O31ib2R5e21hcmdpbi10b3A6MHB4O21hcmdpbi1yaWdodDowcHg7bWFyZ2luLWJvdHRvbTowcHg7bWFyZ2luLWxlZnQ6MHB4O30qe2JveC1zaXppbmc6Ym9yZGVyLWJveDt9Ym9keXttYXJnaW4tdG9wOjBweDttYXJnaW4tcmlnaHQ6MHB4O21hcmdpbi1ib3R0b206MHB4O21hcmdpbi1sZWZ0OjBweDt9Kntib3gtc2l6aW5nOmJvcmRlci1ib3g7fWJvZHl7bWFyZ2luLXRvcDowcHg7bWFyZ2luLXJpZ2h0OjBweDttYXJnaW4tYm90dG9tOjBweDttYXJnaW4tbGVmdDowcHg7fSp7Ym94LXNpemluZzpib3JkZXItYm94O31ib2R5e21hcmdpbi10b3A6MHB4O21hcmdpbi1yaWdodDowcHg7bWFyZ2luLWJvdHRvbTowcHg7bWFyZ2luLWxlZnQ6MHB4O30qe2JveC1zaXppbmc6Ym9yZGVyLWJveDt9Ym9keXttYXJnaW4tdG9wOjBweDttYXJnaW4tcmlnaHQ6MHB4O21hcmdpbi1ib3R0b206MHB4O21hcmdpbi1sZWZ0OjBweDt9Kntib3gtc2l6aW5nOmJvcmRlci1ib3g7fWJvZHl7bWFyZ2luLXRvcDowcHg7bWFyZ2luLXJpZ2h0OjBweDttYXJnaW4tYm90dG9tOjBweDttYXJnaW4tbGVmdDowcHg7fSp7Ym94LXNpemluZzpib3JkZXItYm94O31ib2R5e21hcmdpbi10b3A6MHB4O21hcmdpbi1yaWdodDowcHg7bWFyZ2luLWJvdHRvbTowcHg7bWFyZ2luLWxlZnQ6MHB4O30qe2JveC1zaXppbmc6Ym9yZGVyLWJveDt9Ym9keXttYXJnaW4tdG9wOjBweDttYXJnaW4tcmlnaHQ6MHB4O21hcmdpbi1ib3R0b206MHB4O21hcmdpbi1sZWZ0OjBweDt9Kntib3gtc2l6aW5nOmJvcmRlci1ib3g7fWJvZHl7bWFyZ2luLXRvcDowcHg7bWFyZ2luLXJpZ2h0OjBweDttYXJnaW4tYm90dG9tOjBweDttYXJnaW4tbGVmdDowcHg7fSp7Ym94LXNpemluZzpib3JkZXItYm94O31ib2R5e21hcmdpbi10b3A6MHB4O21hcmdpbi1yaWdodDowcHg7bWFyZ2luLWJvdHRvbTowcHg7bWFyZ2luLWxlZnQ6MHB4O30qe2JveC1zaXppbmc6Ym9yZGVyLWJveDt9Ym9keXttYXJnaW4tdG9wOjBweDttYXJnaW4tcmlnaHQ6MHB4O21hcmdpbi1ib3R0b206MHB4O21hcmdpbi1sZWZ0OjBweDt9LnJvd3tkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmZsZXgtc3RhcnQ7YWxpZ24taXRlbXM6c3RyZXRjaDtmbGV4LXdyYXA6bm93cmFwO3BhZGRpbmctdG9wOjEwcHg7cGFkZGluZy1yaWdodDoxMHB4O3BhZGRpbmctYm90dG9tOjEwcHg7cGFkZGluZy1sZWZ0OjEwcHg7fS5jZWxse21pbi1oZWlnaHQ6NzVweDtmbGV4LWdyb3c6MTtmbGV4LWJhc2lzOjEwMCU7fSNpMHJze3BhZGRpbmctdG9wOjEwcHg7cGFkZGluZy1yaWdodDoxMHB4O3BhZGRpbmctYm90dG9tOjEwcHg7cGFkZGluZy1sZWZ0OjEwcHg7dGV4dC1hbGlnbjpqdXN0aWZ5O2ZsZXgtd3JhcDpub3dyYXA7anVzdGlmeS1jb250ZW50OmZsZXgtc3RhcnQ7YWxpZ24taXRlbXM6c3RyZXRjaDt9I2kyZGR7ZmxleC1iYXNpczo3MCU7fSNpM3hrMntmbGV4LWJhc2lzOjUwJTt9I2l1ejl7ZmxleC1iYXNpczo3MCU7fUBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCl7LnJvd3tmbGV4LXdyYXA6d3JhcDt9fQ==","custom_card_template_config":"W3sidGFnTmFtZSI6ImRpdiIsInR5cGUiOiIiLCJuYW1lIjoiUm93IiwicmVtb3ZhYmxlIjp0cnVlLCJkcmFnZ2FibGUiOnRydWUsImRyb3BwYWJsZSI6Ii5jZWxsIiwiYmFkZ2FibGUiOnRydWUsInN0eWxhYmxlIjp0cnVlLCJzdHlsYWJsZS1yZXF1aXJlIjoiIiwic3R5bGUtc2lnbmF0dXJlIjoiIiwidW5zdHlsYWJsZSI6IiIsImhpZ2hsaWdodGFibGUiOnRydWUsImNvcHlhYmxlIjp0cnVlLCJyZXNpemFibGUiOnsidGwiOjAsInRjIjowLCJ0ciI6MCwiY2wiOjAsImNyIjowLCJibCI6MCwiYnIiOjAsIm1pbkRpbSI6MX0sImVkaXRhYmxlIjpmYWxzZSwibGF5ZXJhYmxlIjp0cnVlLCJzZWxlY3RhYmxlIjp0cnVlLCJob3ZlcmFibGUiOnRydWUsInZvaWQiOmZhbHNlLCJzdGF0ZSI6IiIsInN0YXR1cyI6IiIsImNvbnRlbnQiOiIiLCJpY29uIjoiIiwic3R5bGUiOiIiLCJjbGFzc2VzIjpbeyJuYW1lIjoicm93IiwibGFiZWwiOiJyb3ciLCJ0eXBlIjoxLCJhY3RpdmUiOnRydWUsInByaXZhdGUiOjEsInByb3RlY3RlZCI6ZmFsc2V9XSwic2NyaXB0IjoiIiwiYXR0cmlidXRlcyI6eyJpZCI6Imk5OTYifSwicHJvcGFnYXRlIjoiIiwiZG1vZGUiOiIiLCJjb21wb25lbnRzIjpbeyJ0YWdOYW1lIjoiZGl2IiwidHlwZSI6IiIsIm5hbWUiOiJDZWxsIiwicmVtb3ZhYmxlIjp0cnVlLCJkcmFnZ2FibGUiOiIucm93IiwiZHJvcHBhYmxlIjp0cnVlLCJiYWRnYWJsZSI6dHJ1ZSwic3R5bGFibGUiOnRydWUsInN0eWxhYmxlLXJlcXVpcmUiOlsiZmxleC1iYXNpcyJdLCJzdHlsZS1zaWduYXR1cmUiOiIiLCJ1bnN0eWxhYmxlIjpbIndpZHRoIl0sImhpZ2hsaWdodGFibGUiOnRydWUsImNvcHlhYmxlIjp0cnVlLCJyZXNpemFibGUiOnsidGwiOjAsInRjIjowLCJ0ciI6MCwiY2wiOjAsImNyIjoxLCJibCI6MCwiYnIiOjAsIm1pbkRpbSI6MSwiYmMiOjAsImN1cnJlbnRVbml0IjoxLCJzdGVwIjowLjIsImtleVdpZHRoIjoiZmxleC1iYXNpcyJ9LCJlZGl0YWJsZSI6ZmFsc2UsImxheWVyYWJsZSI6dHJ1ZSwic2VsZWN0YWJsZSI6dHJ1ZSwiaG92ZXJhYmxlIjp0cnVlLCJ2b2lkIjpmYWxzZSwic3RhdGUiOiIiLCJzdGF0dXMiOiIiLCJjb250ZW50IjoiIiwiaWNvbiI6IiIsInN0eWxlIjoiIiwiY2xhc3NlcyI6W3sibmFtZSI6ImNlbGwiLCJsYWJlbCI6ImNlbGwiLCJ0eXBlIjoxLCJhY3RpdmUiOnRydWUsInByaXZhdGUiOjEsInByb3RlY3RlZCI6ZmFsc2V9XSwic2NyaXB0IjoiIiwiYXR0cmlidXRlcyI6eyJpZCI6ImkwZjQifSwicHJvcGFnYXRlIjoiIiwiZG1vZGUiOiIiLCJjb21wb25lbnRzIjpbeyJ0YWdOYW1lIjoiZGl2IiwidHlwZSI6IiIsIm5hbWUiOiJSb3ciLCJyZW1vdmFibGUiOnRydWUsImRyYWdnYWJsZSI6dHJ1ZSwiZHJvcHBhYmxlIjoiLmNlbGwiLCJiYWRnYWJsZSI6dHJ1ZSwic3R5bGFibGUiOnRydWUsInN0eWxhYmxlLXJlcXVpcmUiOiIiLCJzdHlsZS1zaWduYXR1cmUiOiIiLCJ1bnN0eWxhYmxlIjoiIiwiaGlnaGxpZ2h0YWJsZSI6dHJ1ZSwiY29weWFibGUiOnRydWUsInJlc2l6YWJsZSI6eyJ0bCI6MCwidGMiOjAsInRyIjowLCJjbCI6MCwiY3IiOjAsImJsIjowLCJiciI6MCwibWluRGltIjoxfSwiZWRpdGFibGUiOmZhbHNlLCJsYXllcmFibGUiOnRydWUsInNlbGVjdGFibGUiOnRydWUsImhvdmVyYWJsZSI6dHJ1ZSwidm9pZCI6ZmFsc2UsInN0YXRlIjoiIiwic3RhdHVzIjoiaG92ZXJlZCIsImNvbnRlbnQiOiIiLCJpY29uIjoiIiwic3R5bGUiOiIiLCJjbGFzc2VzIjpbeyJuYW1lIjoicm93IiwibGFiZWwiOiJyb3ciLCJ0eXBlIjoxLCJhY3RpdmUiOnRydWUsInByaXZhdGUiOjEsInByb3RlY3RlZCI6ZmFsc2V9XSwic2NyaXB0IjoiIiwiYXR0cmlidXRlcyI6eyJpZCI6ImlkbGYifSwicHJvcGFnYXRlIjoiIiwiZG1vZGUiOiIiLCJjb21wb25lbnRzIjpbeyJ0YWdOYW1lIjoiZGl2IiwidHlwZSI6IiIsIm5hbWUiOiJDZWxsIiwicmVtb3ZhYmxlIjp0cnVlLCJkcmFnZ2FibGUiOiIucm93IiwiZHJvcHBhYmxlIjp0cnVlLCJiYWRnYWJsZSI6dHJ1ZSwic3R5bGFibGUiOnRydWUsInN0eWxhYmxlLXJlcXVpcmUiOlsiZmxleC1iYXNpcyJdLCJzdHlsZS1zaWduYXR1cmUiOiIiLCJ1bnN0eWxhYmxlIjpbIndpZHRoIl0sImhpZ2hsaWdodGFibGUiOnRydWUsImNvcHlhYmxlIjp0cnVlLCJyZXNpemFibGUiOnsidGwiOjAsInRjIjowLCJ0ciI6MCwiY2wiOjAsImNyIjoxLCJibCI6MCwiYnIiOjAsIm1pbkRpbSI6MSwiYmMiOjAsImN1cnJlbnRVbml0IjoxLCJzdGVwIjowLjIsImtleVdpZHRoIjoiZmxleC1iYXNpcyJ9LCJlZGl0YWJsZSI6ZmFsc2UsImxheWVyYWJsZSI6dHJ1ZSwic2VsZWN0YWJsZSI6dHJ1ZSwiaG92ZXJhYmxlIjp0cnVlLCJ2b2lkIjpmYWxzZSwic3RhdGUiOiIiLCJzdGF0dXMiOiIiLCJjb250ZW50IjoiIiwiaWNvbiI6IiIsInN0eWxlIjoiIiwiY2xhc3NlcyI6W3sibmFtZSI6ImNlbGwiLCJsYWJlbCI6ImNlbGwiLCJ0eXBlIjoxLCJhY3RpdmUiOnRydWUsInByaXZhdGUiOjEsInByb3RlY3RlZCI6ZmFsc2V9XSwic2NyaXB0IjoiIiwiYXR0cmlidXRlcyI6eyJpZCI6ImloenUifSwicHJvcGFnYXRlIjoiIiwiZG1vZGUiOiIiLCJjb21wb25lbnRzIjpbeyJ0YWdOYW1lIjoiZGl2IiwidHlwZSI6IiIsIm5hbWUiOiJSb3ciLCJyZW1vdmFibGUiOnRydWUsImRyYWdnYWJsZSI6dHJ1ZSwiZHJvcHBhYmxlIjoiLmNlbGwiLCJiYWRnYWJsZSI6dHJ1ZSwic3R5bGFibGUiOnRydWUsInN0eWxhYmxlLXJlcXVpcmUiOiIiLCJzdHlsZS1zaWduYXR1cmUiOiIiLCJ1bnN0eWxhYmxlIjoiIiwiaGlnaGxpZ2h0YWJsZSI6dHJ1ZSwiY29weWFibGUiOnRydWUsInJlc2l6YWJsZSI6eyJ0bCI6MCwidGMiOjAsInRyIjowLCJjbCI6MCwiY3IiOjAsImJsIjowLCJiciI6MCwibWluRGltIjoxfSwiZWRpdGFibGUiOmZhbHNlLCJsYXllcmFibGUiOnRydWUsInNlbGVjdGFibGUiOnRydWUsImhvdmVyYWJsZSI6dHJ1ZSwidm9pZCI6ZmFsc2UsInN0YXRlIjoiIiwic3RhdHVzIjoiIiwiY29udGVudCI6IiIsImljb24iOiIiLCJzdHlsZSI6IiIsImNsYXNzZXMiOlt7Im5hbWUiOiJyb3ciLCJsYWJlbCI6InJvdyIsInR5cGUiOjEsImFjdGl2ZSI6dHJ1ZSwicHJpdmF0ZSI6MSwicHJvdGVjdGVkIjpmYWxzZX1dLCJzY3JpcHQiOiIiLCJhdHRyaWJ1dGVzIjp7ImlkIjoiaTBycyJ9LCJwcm9wYWdhdGUiOiIiLCJkbW9kZSI6IiIsImNvbXBvbmVudHMiOlt7InRhZ05hbWUiOiJkaXYiLCJ0eXBlIjoiIiwibmFtZSI6IkNlbGwiLCJyZW1vdmFibGUiOnRydWUsImRyYWdnYWJsZSI6Ii5yb3ciLCJkcm9wcGFibGUiOnRydWUsImJhZGdhYmxlIjp0cnVlLCJzdHlsYWJsZSI6dHJ1ZSwic3R5bGFibGUtcmVxdWlyZSI6WyJmbGV4LWJhc2lzIl0sInN0eWxlLXNpZ25hdHVyZSI6IiIsInVuc3R5bGFibGUiOlsid2lkdGgiXSwiaGlnaGxpZ2h0YWJsZSI6dHJ1ZSwiY29weWFibGUiOnRydWUsInJlc2l6YWJsZSI6eyJ0bCI6MCwidGMiOjAsInRyIjowLCJjbCI6MCwiY3IiOjEsImJsIjowLCJiciI6MCwibWluRGltIjoxLCJiYyI6MCwiY3VycmVudFVuaXQiOjEsInN0ZXAiOjAuMiwia2V5V2lkdGgiOiJmbGV4LWJhc2lzIn0sImVkaXRhYmxlIjpmYWxzZSwibGF5ZXJhYmxlIjp0cnVlLCJzZWxlY3RhYmxlIjp0cnVlLCJob3ZlcmFibGUiOnRydWUsInZvaWQiOmZhbHNlLCJzdGF0ZSI6IiIsInN0YXR1cyI6IiIsImNvbnRlbnQiOiIiLCJpY29uIjoiIiwic3R5bGUiOiIiLCJjbGFzc2VzIjpbeyJuYW1lIjoiY2VsbCIsImxhYmVsIjoiY2VsbCIsInR5cGUiOjEsImFjdGl2ZSI6dHJ1ZSwicHJpdmF0ZSI6MSwicHJvdGVjdGVkIjpmYWxzZX1dLCJzY3JpcHQiOiIiLCJhdHRyaWJ1dGVzIjp7ImlkIjoiaXV6OSJ9LCJwcm9wYWdhdGUiOiIiLCJkbW9kZSI6IiIsImNvbXBvbmVudHMiOlt7InRhZ05hbWUiOiJkaXYiLCJ0eXBlIjoic3RyaW5nIiwibmFtZSI6IiIsInJlbW92YWJsZSI6dHJ1ZSwiZHJhZ2dhYmxlIjp0cnVlLCJkcm9wcGFibGUiOmZhbHNlLCJiYWRnYWJsZSI6dHJ1ZSwic3R5bGFibGUiOmZhbHNlLCJzdHlsYWJsZS1yZXF1aXJlIjoiIiwic3R5bGUtc2lnbmF0dXJlIjoiIiwidW5zdHlsYWJsZSI6IiIsImhpZ2hsaWdodGFibGUiOnRydWUsImNvcHlhYmxlIjp0cnVlLCJyZXNpemFibGUiOmZhbHNlLCJlZGl0YWJsZSI6ZmFsc2UsImxheWVyYWJsZSI6dHJ1ZSwic2VsZWN0YWJsZSI6dHJ1ZSwiaG92ZXJhYmxlIjpmYWxzZSwidm9pZCI6ZmFsc2UsInN0YXRlIjoiIiwic3RhdHVzIjoiIiwiY29udGVudCI6IjwkIGZpZWxkV3JhcHBlci5maWVsZHdyYXBwZXIoZGVmaW5pdGlvbl9jdXN0b20udGlwb19maWVsZHNbMF0sXG4gICAgICAgICAgICBtb2RlLCAnJywgJycsIGRlZmluaXRpb25fY3VzdG9tLnRpcG9fbWV0YSkgJD4iLCJpY29uIjoiIiwic3R5bGUiOiIiLCJjbGFzc2VzIjpbXSwic2NyaXB0IjoiIiwiYXR0cmlidXRlcyI6eyJkYXRhLWluZGV4IjowLCJmaWVsZF90eXBlIjoic3RyaW5nIiwiZmllbGRfbmFtZSI6IkluY2lkZW50IElEIiwiaWQiOiJpYWkzaCJ9LCJwcm9wYWdhdGUiOiIiLCJkbW9kZSI6IiIsImFjdGl2ZU9uUmVuZGVyIjowLCJjb21wb25lbnRzIjpbXSwib3BlbiI6ZmFsc2V9XSwib3BlbiI6MH0seyJ0YWdOYW1lIjoiZGl2IiwidHlwZSI6IiIsIm5hbWUiOiJDZWxsIiwicmVtb3ZhYmxlIjp0cnVlLCJkcmFnZ2FibGUiOiIucm93IiwiZHJvcHBhYmxlIjp0cnVlLCJiYWRnYWJsZSI6dHJ1ZSwic3R5bGFibGUiOnRydWUsInN0eWxhYmxlLXJlcXVpcmUiOlsiZmxleC1iYXNpcyJdLCJzdHlsZS1zaWduYXR1cmUiOiIiLCJ1bnN0eWxhYmxlIjpbIndpZHRoIl0sImhpZ2hsaWdodGFibGUiOnRydWUsImNvcHlhYmxlIjp0cnVlLCJyZXNpemFibGUiOnsidGwiOjAsInRjIjowLCJ0ciI6MCwiY2wiOjAsImNyIjoxLCJibCI6MCwiYnIiOjAsIm1pbkRpbSI6MSwiYmMiOjAsImN1cnJlbnRVbml0IjoxLCJzdGVwIjowLjIsImtleVdpZHRoIjoiZmxleC1iYXNpcyJ9LCJlZGl0YWJsZSI6ZmFsc2UsImxheWVyYWJsZSI6dHJ1ZSwic2VsZWN0YWJsZSI6dHJ1ZSwiaG92ZXJhYmxlIjp0cnVlLCJ2b2lkIjpmYWxzZSwic3RhdGUiOiIiLCJzdGF0dXMiOiIiLCJjb250ZW50IjoiIiwiaWNvbiI6IiIsInN0eWxlIjoiIiwiY2xhc3NlcyI6W3sibmFtZSI6ImNlbGwiLCJsYWJlbCI6ImNlbGwiLCJ0eXBlIjoxLCJhY3RpdmUiOnRydWUsInByaXZhdGUiOjEsInByb3RlY3RlZCI6ZmFsc2V9XSwic2NyaXB0IjoiIiwiYXR0cmlidXRlcyI6e30sInByb3BhZ2F0ZSI6IiIsImRtb2RlIjoiIiwiY29tcG9uZW50cyI6W3sidGFnTmFtZSI6ImRpdiIsInR5cGUiOiJzdHJpbmciLCJuYW1lIjoiIiwicmVtb3ZhYmxlIjp0cnVlLCJkcmFnZ2FibGUiOnRydWUsImRyb3BwYWJsZSI6ZmFsc2UsImJhZGdhYmxlIjp0cnVlLCJzdHlsYWJsZSI6ZmFsc2UsInN0eWxhYmxlLXJlcXVpcmUiOiIiLCJzdHlsZS1zaWduYXR1cmUiOiIiLCJ1bnN0eWxhYmxlIjoiIiwiaGlnaGxpZ2h0YWJsZSI6dHJ1ZSwiY29weWFibGUiOnRydWUsInJlc2l6YWJsZSI6ZmFsc2UsImVkaXRhYmxlIjpmYWxzZSwibGF5ZXJhYmxlIjp0cnVlLCJzZWxlY3RhYmxlIjp0cnVlLCJob3ZlcmFibGUiOmZhbHNlLCJ2b2lkIjpmYWxzZSwic3RhdGUiOiIiLCJzdGF0dXMiOiIiLCJjb250ZW50IjoiPCQgZmllbGRXcmFwcGVyLmZpZWxkd3JhcHBlcihkZWZpbml0aW9uX2N1c3RvbS50aXBvX2ZpZWxkc1sxXSxcbiAgICAgICAgICAgIG1vZGUsICcnLCAnJywgZGVmaW5pdGlvbl9jdXN0b20udGlwb19tZXRhKSAkPiIsImljb24iOiIiLCJzdHlsZSI6IiIsImNsYXNzZXMiOltdLCJzY3JpcHQiOiIiLCJhdHRyaWJ1dGVzIjp7ImRhdGEtaW5kZXgiOjEsImZpZWxkX3R5cGUiOiJzdHJpbmciLCJmaWVsZF9uYW1lIjoiSW5jaWRlbnQgU3RhdHVzIiwiaWQiOiJpbnl0In0sInByb3BhZ2F0ZSI6IiIsImRtb2RlIjoiIiwiYWN0aXZlT25SZW5kZXIiOjAsImNvbXBvbmVudHMiOltdLCJvcGVuIjpmYWxzZX1dLCJvcGVuIjoxfV0sIm9wZW4iOjF9XSwib3BlbiI6MX0seyJ0YWdOYW1lIjoiZGl2IiwidHlwZSI6IiIsIm5hbWUiOiJDZWxsIiwicmVtb3ZhYmxlIjp0cnVlLCJkcmFnZ2FibGUiOiIucm93IiwiZHJvcHBhYmxlIjp0cnVlLCJiYWRnYWJsZSI6dHJ1ZSwic3R5bGFibGUiOnRydWUsInN0eWxhYmxlLXJlcXVpcmUiOlsiZmxleC1iYXNpcyJdLCJzdHlsZS1zaWduYXR1cmUiOiIiLCJ1bnN0eWxhYmxlIjpbIndpZHRoIl0sImhpZ2hsaWdodGFibGUiOnRydWUsImNvcHlhYmxlIjp0cnVlLCJyZXNpemFibGUiOnsidGwiOjAsInRjIjowLCJ0ciI6MCwiY2wiOjAsImNyIjoxLCJibCI6MCwiYnIiOjAsIm1pbkRpbSI6MSwiYmMiOjAsImN1cnJlbnRVbml0IjoxLCJzdGVwIjowLjIsImtleVdpZHRoIjoiZmxleC1iYXNpcyJ9LCJlZGl0YWJsZSI6ZmFsc2UsImxheWVyYWJsZSI6dHJ1ZSwic2VsZWN0YWJsZSI6dHJ1ZSwiaG92ZXJhYmxlIjp0cnVlLCJ2b2lkIjpmYWxzZSwic3RhdGUiOiIiLCJzdGF0dXMiOiIiLCJjb250ZW50IjoiIiwiaWNvbiI6IiIsInN0eWxlIjoiIiwiY2xhc3NlcyI6W3sibmFtZSI6ImNlbGwiLCJsYWJlbCI6ImNlbGwiLCJ0eXBlIjoxLCJhY3RpdmUiOnRydWUsInByaXZhdGUiOjEsInByb3RlY3RlZCI6ZmFsc2V9XSwic2NyaXB0IjoiIiwiYXR0cmlidXRlcyI6eyJpZCI6ImlmaG4ifSwicHJvcGFnYXRlIjoiIiwiZG1vZGUiOiIiLCJjb21wb25lbnRzIjpbeyJ0YWdOYW1lIjoiZGl2IiwidHlwZSI6IiIsIm5hbWUiOiJSb3ciLCJyZW1vdmFibGUiOnRydWUsImRyYWdnYWJsZSI6dHJ1ZSwiZHJvcHBhYmxlIjoiLmNlbGwiLCJiYWRnYWJsZSI6dHJ1ZSwic3R5bGFibGUiOnRydWUsInN0eWxhYmxlLXJlcXVpcmUiOiIiLCJzdHlsZS1zaWduYXR1cmUiOiIiLCJ1bnN0eWxhYmxlIjoiIiwiaGlnaGxpZ2h0YWJsZSI6dHJ1ZSwiY29weWFibGUiOnRydWUsInJlc2l6YWJsZSI6eyJ0bCI6MCwidGMiOjAsInRyIjowLCJjbCI6MCwiY3IiOjAsImJsIjowLCJiciI6MCwibWluRGltIjoxfSwiZWRpdGFibGUiOmZhbHNlLCJsYXllcmFibGUiOnRydWUsInNlbGVjdGFibGUiOnRydWUsImhvdmVyYWJsZSI6dHJ1ZSwidm9pZCI6ZmFsc2UsInN0YXRlIjoiIiwic3RhdHVzIjoiIiwiY29udGVudCI6IiIsImljb24iOiIiLCJzdHlsZSI6IiIsImNsYXNzZXMiOlt7Im5hbWUiOiJyb3ciLCJsYWJlbCI6InJvdyIsInR5cGUiOjEsImFjdGl2ZSI6dHJ1ZSwicHJpdmF0ZSI6MSwicHJvdGVjdGVkIjpmYWxzZX1dLCJzY3JpcHQiOiIiLCJhdHRyaWJ1dGVzIjp7ImlkIjoiaWllMmsifSwicHJvcGFnYXRlIjoiIiwiZG1vZGUiOiIiLCJjb21wb25lbnRzIjpbeyJ0YWdOYW1lIjoiZGl2IiwidHlwZSI6IiIsIm5hbWUiOiJDZWxsIiwicmVtb3ZhYmxlIjp0cnVlLCJkcmFnZ2FibGUiOiIucm93IiwiZHJvcHBhYmxlIjp0cnVlLCJiYWRnYWJsZSI6dHJ1ZSwic3R5bGFibGUiOnRydWUsInN0eWxhYmxlLXJlcXVpcmUiOlsiZmxleC1iYXNpcyJdLCJzdHlsZS1zaWduYXR1cmUiOiIiLCJ1bnN0eWxhYmxlIjpbIndpZHRoIl0sImhpZ2hsaWdodGFibGUiOnRydWUsImNvcHlhYmxlIjp0cnVlLCJyZXNpemFibGUiOnsidGwiOjAsInRjIjowLCJ0ciI6MCwiY2wiOjAsImNyIjoxLCJibCI6MCwiYnIiOjAsIm1pbkRpbSI6MSwiYmMiOjAsImN1cnJlbnRVbml0IjoxLCJzdGVwIjowLjIsImtleVdpZHRoIjoiZmxleC1iYXNpcyJ9LCJlZGl0YWJsZSI6ZmFsc2UsImxheWVyYWJsZSI6dHJ1ZSwic2VsZWN0YWJsZSI6dHJ1ZSwiaG92ZXJhYmxlIjp0cnVlLCJ2b2lkIjpmYWxzZSwic3RhdGUiOiIiLCJzdGF0dXMiOiIiLCJjb250ZW50IjoiIiwiaWNvbiI6IiIsInN0eWxlIjoiIiwiY2xhc3NlcyI6W3sibmFtZSI6ImNlbGwiLCJsYWJlbCI6ImNlbGwiLCJ0eXBlIjoxLCJhY3RpdmUiOnRydWUsInByaXZhdGUiOjEsInByb3RlY3RlZCI6ZmFsc2V9XSwic2NyaXB0IjoiIiwiYXR0cmlidXRlcyI6eyJpZCI6Imlsc2QxIn0sInByb3BhZ2F0ZSI6IiIsImRtb2RlIjoiIiwiY29tcG9uZW50cyI6W3sidGFnTmFtZSI6ImRpdiIsInR5cGUiOiJ0aXBvZmllbGQiLCJuYW1lIjoiIiwicmVtb3ZhYmxlIjp0cnVlLCJkcmFnZ2FibGUiOnRydWUsImRyb3BwYWJsZSI6ZmFsc2UsImJhZGdhYmxlIjp0cnVlLCJzdHlsYWJsZSI6ZmFsc2UsInN0eWxhYmxlLXJlcXVpcmUiOiIiLCJzdHlsZS1zaWduYXR1cmUiOiIiLCJ1bnN0eWxhYmxlIjoiIiwiaGlnaGxpZ2h0YWJsZSI6dHJ1ZSwiY29weWFibGUiOnRydWUsInJlc2l6YWJsZSI6ZmFsc2UsImVkaXRhYmxlIjpmYWxzZSwibGF5ZXJhYmxlIjp0cnVlLCJzZWxlY3RhYmxlIjp0cnVlLCJob3ZlcmFibGUiOmZhbHNlLCJ2b2lkIjpmYWxzZSwic3RhdGUiOiIiLCJzdGF0dXMiOiIiLCJjb250ZW50IjoiPCQgZmllbGRXcmFwcGVyLmZpZWxkd3JhcHBlcihkZWZpbml0aW9uX2N1c3RvbS50aXBvX2ZpZWxkc1syXSxcbiAgICAgICAgICAgIG1vZGUsICcnLCAnJywgZGVmaW5pdGlvbl9jdXN0b20udGlwb19tZXRhKSAkPiIsImljb24iOiIiLCJzdHlsZSI6IiIsImNsYXNzZXMiOltdLCJzY3JpcHQiOiIiLCJhdHRyaWJ1dGVzIjp7ImRhdGEtaW5kZXgiOjIsImZpZWxkX3R5cGUiOiJUaXBvLlNhZmV0eU1hc3RlckRhdGEiLCJmaWVsZF9uYW1lIjoiSW5jaWRlbnQgVHlwZSJ9LCJwcm9wYWdhdGUiOiIiLCJkbW9kZSI6IiIsImFjdGl2ZU9uUmVuZGVyIjowLCJjb21wb25lbnRzIjpbXX1dLCJvcGVuIjowfSx7InRhZ05hbWUiOiJkaXYiLCJ0eXBlIjoiIiwibmFtZSI6IkNlbGwiLCJyZW1vdmFibGUiOnRydWUsImRyYWdnYWJsZSI6Ii5yb3ciLCJkcm9wcGFibGUiOnRydWUsImJhZGdhYmxlIjp0cnVlLCJzdHlsYWJsZSI6dHJ1ZSwic3R5bGFibGUtcmVxdWlyZSI6WyJmbGV4LWJhc2lzIl0sInN0eWxlLXNpZ25hdHVyZSI6IiIsInVuc3R5bGFibGUiOlsid2lkdGgiXSwiaGlnaGxpZ2h0YWJsZSI6dHJ1ZSwiY29weWFibGUiOnRydWUsInJlc2l6YWJsZSI6eyJ0bCI6MCwidGMiOjAsInRyIjowLCJjbCI6MCwiY3IiOjEsImJsIjowLCJiciI6MCwibWluRGltIjoxLCJiYyI6MCwiY3VycmVudFVuaXQiOjEsInN0ZXAiOjAuMiwia2V5V2lkdGgiOiJmbGV4LWJhc2lzIn0sImVkaXRhYmxlIjpmYWxzZSwibGF5ZXJhYmxlIjp0cnVlLCJzZWxlY3RhYmxlIjp0cnVlLCJob3ZlcmFibGUiOnRydWUsInZvaWQiOmZhbHNlLCJzdGF0ZSI6IiIsInN0YXR1cyI6IiIsImNvbnRlbnQiOiIiLCJpY29uIjoiIiwic3R5bGUiOiIiLCJjbGFzc2VzIjpbeyJuYW1lIjoiY2VsbCIsImxhYmVsIjoiY2VsbCIsInR5cGUiOjEsImFjdGl2ZSI6dHJ1ZSwicHJpdmF0ZSI6MSwicHJvdGVjdGVkIjpmYWxzZX1dLCJzY3JpcHQiOiIiLCJhdHRyaWJ1dGVzIjp7ImlkIjoiaTRxYmsifSwicHJvcGFnYXRlIjoiIiwiZG1vZGUiOiIiLCJjb21wb25lbnRzIjpbeyJ0YWdOYW1lIjoiZGl2IiwidHlwZSI6InRpcG9maWVsZCIsIm5hbWUiOiIiLCJyZW1vdmFibGUiOnRydWUsImRyYWdnYWJsZSI6dHJ1ZSwiZHJvcHBhYmxlIjpmYWxzZSwiYmFkZ2FibGUiOnRydWUsInN0eWxhYmxlIjpmYWxzZSwic3R5bGFibGUtcmVxdWlyZSI6IiIsInN0eWxlLXNpZ25hdHVyZSI6IiIsInVuc3R5bGFibGUiOiIiLCJoaWdobGlnaHRhYmxlIjp0cnVlLCJjb3B5YWJsZSI6dHJ1ZSwicmVzaXphYmxlIjpmYWxzZSwiZWRpdGFibGUiOmZhbHNlLCJsYXllcmFibGUiOnRydWUsInNlbGVjdGFibGUiOnRydWUsImhvdmVyYWJsZSI6ZmFsc2UsInZvaWQiOmZhbHNlLCJzdGF0ZSI6IiIsInN0YXR1cyI6IiIsImNvbnRlbnQiOiI8JCBmaWVsZFdyYXBwZXIuZmllbGR3cmFwcGVyKGRlZmluaXRpb25fY3VzdG9tLnRpcG9fZmllbGRzWzNdLFxuICAgICAgICAgICAgbW9kZSwgJycsICcnLCBkZWZpbml0aW9uX2N1c3RvbS50aXBvX21ldGEpICQ+IiwiaWNvbiI6IiIsInN0eWxlIjoiIiwiY2xhc3NlcyI6W10sInNjcmlwdCI6IiIsImF0dHJpYnV0ZXMiOnsiZGF0YS1pbmRleCI6MywiZmllbGRfdHlwZSI6IlRpcG8uU2FmZXR5TWFzdGVyRGF0YSIsImZpZWxkX25hbWUiOiJJbmNpZGVudCBDYXRlZ29yaWVzIn0sInByb3BhZ2F0ZSI6IiIsImRtb2RlIjoiIiwiYWN0aXZlT25SZW5kZXIiOjAsImNvbXBvbmVudHMiOltdfV0sIm9wZW4iOjB9LHsidGFnTmFtZSI6ImRpdiIsInR5cGUiOiIiLCJuYW1lIjoiQ2VsbCIsInJlbW92YWJsZSI6dHJ1ZSwiZHJhZ2dhYmxlIjoiLnJvdyIsImRyb3BwYWJsZSI6dHJ1ZSwiYmFkZ2FibGUiOnRydWUsInN0eWxhYmxlIjp0cnVlLCJzdHlsYWJsZS1yZXF1aXJlIjpbImZsZXgtYmFzaXMiXSwic3R5bGUtc2lnbmF0dXJlIjoiIiwidW5zdHlsYWJsZSI6WyJ3aWR0aCJdLCJoaWdobGlnaHRhYmxlIjp0cnVlLCJjb3B5YWJsZSI6dHJ1ZSwicmVzaXphYmxlIjp7InRsIjowLCJ0YyI6MCwidHIiOjAsImNsIjowLCJjciI6MSwiYmwiOjAsImJyIjowLCJtaW5EaW0iOjEsImJjIjowLCJjdXJyZW50VW5pdCI6MSwic3RlcCI6MC4yLCJrZXlXaWR0aCI6ImZsZXgtYmFzaXMifSwiZWRpdGFibGUiOmZhbHNlLCJsYXllcmFibGUiOnRydWUsInNlbGVjdGFibGUiOnRydWUsImhvdmVyYWJsZSI6dHJ1ZSwidm9pZCI6ZmFsc2UsInN0YXRlIjoiIiwic3RhdHVzIjoiIiwiY29udGVudCI6IiIsImljb24iOiIiLCJzdHlsZSI6IiIsImNsYXNzZXMiOlt7Im5hbWUiOiJjZWxsIiwibGFiZWwiOiJjZWxsIiwidHlwZSI6MSwiYWN0aXZlIjp0cnVlLCJwcml2YXRlIjoxLCJwcm90ZWN0ZWQiOmZhbHNlfV0sInNjcmlwdCI6IiIsImF0dHJpYnV0ZXMiOnsiaWQiOiJpM3h1ZyJ9LCJwcm9wYWdhdGUiOiIiLCJkbW9kZSI6IiIsImNvbXBvbmVudHMiOlt7InRhZ05hbWUiOiJkaXYiLCJ0eXBlIjoic3RyaW5nIiwibmFtZSI6IiIsInJlbW92YWJsZSI6dHJ1ZSwiZHJhZ2dhYmxlIjp0cnVlLCJkcm9wcGFibGUiOmZhbHNlLCJiYWRnYWJsZSI6dHJ1ZSwic3R5bGFibGUiOmZhbHNlLCJzdHlsYWJsZS1yZXF1aXJlIjoiIiwic3R5bGUtc2lnbmF0dXJlIjoiIiwidW5zdHlsYWJsZSI6IiIsImhpZ2hsaWdodGFibGUiOnRydWUsImNvcHlhYmxlIjp0cnVlLCJyZXNpemFibGUiOmZhbHNlLCJlZGl0YWJsZSI6ZmFsc2UsImxheWVyYWJsZSI6dHJ1ZSwic2VsZWN0YWJsZSI6dHJ1ZSwiaG92ZXJhYmxlIjpmYWxzZSwidm9pZCI6ZmFsc2UsInN0YXRlIjoiIiwic3RhdHVzIjoiIiwiY29udGVudCI6IjwkIGZpZWxkV3JhcHBlci5maWVsZHdyYXBwZXIoZGVmaW5pdGlvbl9jdXN0b20udGlwb19maWVsZHNbMTVdLFxuICAgICAgICAgICAgbW9kZSwgJycsICcnLCBkZWZpbml0aW9uX2N1c3RvbS50aXBvX21ldGEpICQ+IiwiaWNvbiI6IiIsInN0eWxlIjoiIiwiY2xhc3NlcyI6W10sInNjcmlwdCI6IiIsImF0dHJpYnV0ZXMiOnsiZGF0YS1pbmRleCI6MTUsImZpZWxkX3R5cGUiOiJzdHJpbmciLCJmaWVsZF9uYW1lIjoiU2V2ZXJpdHkgTGV2ZWwifSwicHJvcGFnYXRlIjoiIiwiZG1vZGUiOiIiLCJhY3RpdmVPblJlbmRlciI6MCwiY29tcG9uZW50cyI6W119XSwib3BlbiI6MH1dLCJvcGVuIjoxfV0sIm9wZW4iOjF9LHsidGFnTmFtZSI6ImRpdiIsInR5cGUiOiIiLCJuYW1lIjoiQ2VsbCIsInJlbW92YWJsZSI6dHJ1ZSwiZHJhZ2dhYmxlIjoiLnJvdyIsImRyb3BwYWJsZSI6dHJ1ZSwiYmFkZ2FibGUiOnRydWUsInN0eWxhYmxlIjp0cnVlLCJzdHlsYWJsZS1yZXF1aXJlIjpbImZsZXgtYmFzaXMiXSwic3R5bGUtc2lnbmF0dXJlIjoiIiwidW5zdHlsYWJsZSI6WyJ3aWR0aCJdLCJoaWdobGlnaHRhYmxlIjp0cnVlLCJjb3B5YWJsZSI6dHJ1ZSwicmVzaXphYmxlIjp7InRsIjowLCJ0YyI6MCwidHIiOjAsImNsIjowLCJjciI6MSwiYmwiOjAsImJyIjowLCJtaW5EaW0iOjEsImJjIjowLCJjdXJyZW50VW5pdCI6MSwic3RlcCI6MC4yLCJrZXlXaWR0aCI6ImZsZXgtYmFzaXMifSwiZWRpdGFibGUiOmZhbHNlLCJsYXllcmFibGUiOnRydWUsInNlbGVjdGFibGUiOnRydWUsImhvdmVyYWJsZSI6dHJ1ZSwidm9pZCI6ZmFsc2UsInN0YXRlIjoiIiwic3RhdHVzIjoiIiwiY29udGVudCI6IiIsImljb24iOiIiLCJzdHlsZSI6IiIsImNsYXNzZXMiOlt7Im5hbWUiOiJjZWxsIiwibGFiZWwiOiJjZWxsIiwidHlwZSI6MSwiYWN0aXZlIjp0cnVlLCJwcml2YXRlIjoxLCJwcm90ZWN0ZWQiOmZhbHNlfV0sInNjcmlwdCI6IiIsImF0dHJpYnV0ZXMiOnsiaWQiOiJpMmRkIn0sInByb3BhZ2F0ZSI6IiIsImRtb2RlIjoiIiwiY29tcG9uZW50cyI6W3sidGFnTmFtZSI6ImRpdiIsInR5cGUiOiIiLCJuYW1lIjoiUm93IiwicmVtb3ZhYmxlIjp0cnVlLCJkcmFnZ2FibGUiOnRydWUsImRyb3BwYWJsZSI6Ii5jZWxsIiwiYmFkZ2FibGUiOnRydWUsInN0eWxhYmxlIjp0cnVlLCJzdHlsYWJsZS1yZXF1aXJlIjoiIiwic3R5bGUtc2lnbmF0dXJlIjoiIiwidW5zdHlsYWJsZSI6IiIsImhpZ2hsaWdodGFibGUiOnRydWUsImNvcHlhYmxlIjp0cnVlLCJyZXNpemFibGUiOnsidGwiOjAsInRjIjowLCJ0ciI6MCwiY2wiOjAsImNyIjowLCJibCI6MCwiYnIiOjAsIm1pbkRpbSI6MX0sImVkaXRhYmxlIjpmYWxzZSwibGF5ZXJhYmxlIjp0cnVlLCJzZWxlY3RhYmxlIjp0cnVlLCJob3ZlcmFibGUiOnRydWUsInZvaWQiOmZhbHNlLCJzdGF0ZSI6IiIsInN0YXR1cyI6IiIsImNvbnRlbnQiOiIiLCJpY29uIjoiIiwic3R5bGUiOiIiLCJjbGFzc2VzIjpbeyJuYW1lIjoicm93IiwibGFiZWwiOiJyb3ciLCJ0eXBlIjoxLCJhY3RpdmUiOnRydWUsInByaXZhdGUiOjEsInByb3RlY3RlZCI6ZmFsc2V9XSwic2NyaXB0IjoiIiwiYXR0cmlidXRlcyI6eyJpZCI6Iml2OTcyIn0sInByb3BhZ2F0ZSI6IiIsImRtb2RlIjoiIiwiY29tcG9uZW50cyI6W3sidGFnTmFtZSI6ImRpdiIsInR5cGUiOiIiLCJuYW1lIjoiQ2VsbCIsInJlbW92YWJsZSI6dHJ1ZSwiZHJhZ2dhYmxlIjoiLnJvdyIsImRyb3BwYWJsZSI6dHJ1ZSwiYmFkZ2FibGUiOnRydWUsInN0eWxhYmxlIjp0cnVlLCJzdHlsYWJsZS1yZXF1aXJlIjpbImZsZXgtYmFzaXMiXSwic3R5bGUtc2lnbmF0dXJlIjoiIiwidW5zdHlsYWJsZSI6WyJ3aWR0aCJdLCJoaWdobGlnaHRhYmxlIjp0cnVlLCJjb3B5YWJsZSI6dHJ1ZSwicmVzaXphYmxlIjp7InRsIjowLCJ0YyI6MCwidHIiOjAsImNsIjowLCJjciI6MSwiYmwiOjAsImJyIjowLCJtaW5EaW0iOjEsImJjIjowLCJjdXJyZW50VW5pdCI6MSwic3RlcCI6MC4yLCJrZXlXaWR0aCI6ImZsZXgtYmFzaXMifSwiZWRpdGFibGUiOmZhbHNlLCJsYXllcmFibGUiOnRydWUsInNlbGVjdGFibGUiOnRydWUsImhvdmVyYWJsZSI6dHJ1ZSwidm9pZCI6ZmFsc2UsInN0YXRlIjoiIiwic3RhdHVzIjoiIiwiY29udGVudCI6IiIsImljb24iOiIiLCJzdHlsZSI6IiIsImNsYXNzZXMiOlt7Im5hbWUiOiJjZWxsIiwibGFiZWwiOiJjZWxsIiwidHlwZSI6MSwiYWN0aXZlIjp0cnVlLCJwcml2YXRlIjoxLCJwcm90ZWN0ZWQiOmZhbHNlfV0sInNjcmlwdCI6IiIsImF0dHJpYnV0ZXMiOnt9LCJwcm9wYWdhdGUiOiIiLCJkbW9kZSI6IiIsImNvbXBvbmVudHMiOlt7InRhZ05hbWUiOiJkaXYiLCJ0eXBlIjoiYm9vbGVhbiIsIm5hbWUiOiIiLCJyZW1vdmFibGUiOnRydWUsImRyYWdnYWJsZSI6dHJ1ZSwiZHJvcHBhYmxlIjpmYWxzZSwiYmFkZ2FibGUiOnRydWUsInN0eWxhYmxlIjpmYWxzZSwic3R5bGFibGUtcmVxdWlyZSI6IiIsInN0eWxlLXNpZ25hdHVyZSI6IiIsInVuc3R5bGFibGUiOiIiLCJoaWdobGlnaHRhYmxlIjp0cnVlLCJjb3B5YWJsZSI6dHJ1ZSwicmVzaXphYmxlIjpmYWxzZSwiZWRpdGFibGUiOmZhbHNlLCJsYXllcmFibGUiOnRydWUsInNlbGVjdGFibGUiOnRydWUsImhvdmVyYWJsZSI6ZmFsc2UsInZvaWQiOmZhbHNlLCJzdGF0ZSI6IiIsInN0YXR1cyI6IiIsImNvbnRlbnQiOiI8JCBmaWVsZFdyYXBwZXIuZmllbGR3cmFwcGVyKGRlZmluaXRpb25fY3VzdG9tLnRpcG9fZmllbGRzWzEyXSxcbiAgICAgICAgICAgIG1vZGUsICcnLCAnJywgZGVmaW5pdGlvbl9jdXN0b20udGlwb19tZXRhKSAkPiIsImljb24iOiIiLCJzdHlsZSI6IiIsImNsYXNzZXMiOltdLCJzY3JpcHQiOiIiLCJhdHRyaWJ1dGVzIjp7ImRhdGEtaW5kZXgiOjEyLCJmaWVsZF90eXBlIjoiYm9vbGVhbiIsImZpZWxkX25hbWUiOiJBbmFseXNpcyBSZXF1aXJlZCIsImlkIjoiaTRvaWkifSwicHJvcGFnYXRlIjoiIiwiZG1vZGUiOiIiLCJhY3RpdmVPblJlbmRlciI6MCwiY29tcG9uZW50cyI6W10sIm9wZW4iOmZhbHNlfV0sIm9wZW4iOjB9LHsidGFnTmFtZSI6ImRpdiIsInR5cGUiOiIiLCJuYW1lIjoiQ2VsbCIsInJlbW92YWJsZSI6dHJ1ZSwiZHJhZ2dhYmxlIjoiLnJvdyIsImRyb3BwYWJsZSI6dHJ1ZSwiYmFkZ2FibGUiOnRydWUsInN0eWxhYmxlIjp0cnVlLCJzdHlsYWJsZS1yZXF1aXJlIjpbImZsZXgtYmFzaXMiXSwic3R5bGUtc2lnbmF0dXJlIjoiIiwidW5zdHlsYWJsZSI6WyJ3aWR0aCJdLCJoaWdobGlnaHRhYmxlIjp0cnVlLCJjb3B5YWJsZSI6dHJ1ZSwicmVzaXphYmxlIjp7InRsIjowLCJ0YyI6MCwidHIiOjAsImNsIjowLCJjciI6MSwiYmwiOjAsImJyIjowLCJtaW5EaW0iOjEsImJjIjowLCJjdXJyZW50VW5pdCI6MSwic3RlcCI6MC4yLCJrZXlXaWR0aCI6ImZsZXgtYmFzaXMifSwiZWRpdGFibGUiOmZhbHNlLCJsYXllcmFibGUiOnRydWUsInNlbGVjdGFibGUiOnRydWUsImhvdmVyYWJsZSI6dHJ1ZSwidm9pZCI6ZmFsc2UsInN0YXRlIjoiIiwic3RhdHVzIjoiIiwiY29udGVudCI6IiIsImljb24iOiIiLCJzdHlsZSI6IiIsImNsYXNzZXMiOlt7Im5hbWUiOiJjZWxsIiwibGFiZWwiOiJjZWxsIiwidHlwZSI6MSwiYWN0aXZlIjp0cnVlLCJwcml2YXRlIjoxLCJwcm90ZWN0ZWQiOmZhbHNlfV0sInNjcmlwdCI6IiIsImF0dHJpYnV0ZXMiOnsiaWQiOiJpM3hrMiJ9LCJwcm9wYWdhdGUiOiIiLCJkbW9kZSI6IiIsImNvbXBvbmVudHMiOltdLCJvcGVuIjpmYWxzZX1dLCJvcGVuIjowfV0sIm9wZW4iOjB9XSwib3BlbiI6MX1dLCJvcGVuIjoxfV0sIm9wZW4iOjF9LHsidGFnTmFtZSI6ImRpdiIsInR5cGUiOiIiLCJuYW1lIjoiUm93IiwicmVtb3ZhYmxlIjp0cnVlLCJkcmFnZ2FibGUiOnRydWUsImRyb3BwYWJsZSI6Ii5jZWxsIiwiYmFkZ2FibGUiOnRydWUsInN0eWxhYmxlIjp0cnVlLCJzdHlsYWJsZS1yZXF1aXJlIjoiIiwic3R5bGUtc2lnbmF0dXJlIjoiIiwidW5zdHlsYWJsZSI6IiIsImhpZ2hsaWdodGFibGUiOnRydWUsImNvcHlhYmxlIjp0cnVlLCJyZXNpemFibGUiOnsidGwiOjAsInRjIjowLCJ0ciI6MCwiY2wiOjAsImNyIjowLCJibCI6MCwiYnIiOjAsIm1pbkRpbSI6MX0sImVkaXRhYmxlIjpmYWxzZSwibGF5ZXJhYmxlIjp0cnVlLCJzZWxlY3RhYmxlIjp0cnVlLCJob3ZlcmFibGUiOnRydWUsInZvaWQiOmZhbHNlLCJzdGF0ZSI6IiIsInN0YXR1cyI6IiIsImNvbnRlbnQiOiIiLCJpY29uIjoiIiwic3R5bGUiOiIiLCJjbGFzc2VzIjpbeyJuYW1lIjoicm93IiwibGFiZWwiOiJyb3ciLCJ0eXBlIjoxLCJhY3RpdmUiOnRydWUsInByaXZhdGUiOjEsInByb3RlY3RlZCI6ZmFsc2V9XSwic2NyaXB0IjoiIiwiYXR0cmlidXRlcyI6eyJpZCI6ImloNmlsIn0sInByb3BhZ2F0ZSI6IiIsImRtb2RlIjoiIiwiY29tcG9uZW50cyI6W3sidGFnTmFtZSI6ImRpdiIsInR5cGUiOiIiLCJuYW1lIjoiQ2VsbCIsInJlbW92YWJsZSI6dHJ1ZSwiZHJhZ2dhYmxlIjoiLnJvdyIsImRyb3BwYWJsZSI6dHJ1ZSwiYmFkZ2FibGUiOnRydWUsInN0eWxhYmxlIjp0cnVlLCJzdHlsYWJsZS1yZXF1aXJlIjpbImZsZXgtYmFzaXMiXSwic3R5bGUtc2lnbmF0dXJlIjoiIiwidW5zdHlsYWJsZSI6WyJ3aWR0aCJdLCJoaWdobGlnaHRhYmxlIjp0cnVlLCJjb3B5YWJsZSI6dHJ1ZSwicmVzaXphYmxlIjp7InRsIjowLCJ0YyI6MCwidHIiOjAsImNsIjowLCJjciI6MSwiYmwiOjAsImJyIjowLCJtaW5EaW0iOjEsImJjIjowLCJjdXJyZW50VW5pdCI6MSwic3RlcCI6MC4yLCJrZXlXaWR0aCI6ImZsZXgtYmFzaXMifSwiZWRpdGFibGUiOmZhbHNlLCJsYXllcmFibGUiOnRydWUsInNlbGVjdGFibGUiOnRydWUsImhvdmVyYWJsZSI6dHJ1ZSwidm9pZCI6ZmFsc2UsInN0YXRlIjoiIiwic3RhdHVzIjoiIiwiY29udGVudCI6IiIsImljb24iOiIiLCJzdHlsZSI6IiIsImNsYXNzZXMiOlt7Im5hbWUiOiJjZWxsIiwibGFiZWwiOiJjZWxsIiwidHlwZSI6MSwiYWN0aXZlIjp0cnVlLCJwcml2YXRlIjoxLCJwcm90ZWN0ZWQiOmZhbHNlfV0sInNjcmlwdCI6IiIsImF0dHJpYnV0ZXMiOnsiaWQiOiJpczl0aiJ9LCJwcm9wYWdhdGUiOiIiLCJkbW9kZSI6IiIsImNvbXBvbmVudHMiOlt7InRhZ05hbWUiOiJkaXYiLCJ0eXBlIjoiIiwibmFtZSI6IlJvdyIsInJlbW92YWJsZSI6dHJ1ZSwiZHJhZ2dhYmxlIjp0cnVlLCJkcm9wcGFibGUiOiIuY2VsbCIsImJhZGdhYmxlIjp0cnVlLCJzdHlsYWJsZSI6dHJ1ZSwic3R5bGFibGUtcmVxdWlyZSI6IiIsInN0eWxlLXNpZ25hdHVyZSI6IiIsInVuc3R5bGFibGUiOiIiLCJoaWdobGlnaHRhYmxlIjp0cnVlLCJjb3B5YWJsZSI6dHJ1ZSwicmVzaXphYmxlIjp7InRsIjowLCJ0YyI6MCwidHIiOjAsImNsIjowLCJjciI6MCwiYmwiOjAsImJyIjowLCJtaW5EaW0iOjF9LCJlZGl0YWJsZSI6ZmFsc2UsImxheWVyYWJsZSI6dHJ1ZSwic2VsZWN0YWJsZSI6dHJ1ZSwiaG92ZXJhYmxlIjp0cnVlLCJ2b2lkIjpmYWxzZSwic3RhdGUiOiIiLCJzdGF0dXMiOiIiLCJjb250ZW50IjoiIiwiaWNvbiI6IiIsInN0eWxlIjoiIiwiY2xhc3NlcyI6W3sibmFtZSI6InJvdyIsImxhYmVsIjoicm93IiwidHlwZSI6MSwiYWN0aXZlIjp0cnVlLCJwcml2YXRlIjoxLCJwcm90ZWN0ZWQiOmZhbHNlfV0sInNjcmlwdCI6IiIsImF0dHJpYnV0ZXMiOnt9LCJwcm9wYWdhdGUiOiIiLCJkbW9kZSI6IiIsImNvbXBvbmVudHMiOlt7InRhZ05hbWUiOiJkaXYiLCJ0eXBlIjoiIiwibmFtZSI6IkNlbGwiLCJyZW1vdmFibGUiOnRydWUsImRyYWdnYWJsZSI6Ii5yb3ciLCJkcm9wcGFibGUiOnRydWUsImJhZGdhYmxlIjp0cnVlLCJzdHlsYWJsZSI6dHJ1ZSwic3R5bGFibGUtcmVxdWlyZSI6WyJmbGV4LWJhc2lzIl0sInN0eWxlLXNpZ25hdHVyZSI6IiIsInVuc3R5bGFibGUiOlsid2lkdGgiXSwiaGlnaGxpZ2h0YWJsZSI6dHJ1ZSwiY29weWFibGUiOnRydWUsInJlc2l6YWJsZSI6eyJ0bCI6MCwidGMiOjAsInRyIjowLCJjbCI6MCwiY3IiOjEsImJsIjowLCJiciI6MCwibWluRGltIjoxLCJiYyI6MCwiY3VycmVudFVuaXQiOjEsInN0ZXAiOjAuMiwia2V5V2lkdGgiOiJmbGV4LWJhc2lzIn0sImVkaXRhYmxlIjpmYWxzZSwibGF5ZXJhYmxlIjp0cnVlLCJzZWxlY3RhYmxlIjp0cnVlLCJob3ZlcmFibGUiOnRydWUsInZvaWQiOmZhbHNlLCJzdGF0ZSI6IiIsInN0YXR1cyI6IiIsImNvbnRlbnQiOiIiLCJpY29uIjoiIiwic3R5bGUiOiIiLCJjbGFzc2VzIjpbeyJuYW1lIjoiY2VsbCIsImxhYmVsIjoiY2VsbCIsInR5cGUiOjEsImFjdGl2ZSI6dHJ1ZSwicHJpdmF0ZSI6MSwicHJvdGVjdGVkIjpmYWxzZX1dLCJzY3JpcHQiOiIiLCJhdHRyaWJ1dGVzIjp7fSwicHJvcGFnYXRlIjoiIiwiZG1vZGUiOiIiLCJjb21wb25lbnRzIjpbeyJ0YWdOYW1lIjoiZGl2IiwidHlwZSI6IiIsIm5hbWUiOiJSb3ciLCJyZW1vdmFibGUiOnRydWUsImRyYWdnYWJsZSI6dHJ1ZSwiZHJvcHBhYmxlIjoiLmNlbGwiLCJiYWRnYWJsZSI6dHJ1ZSwic3R5bGFibGUiOnRydWUsInN0eWxhYmxlLXJlcXVpcmUiOiIiLCJzdHlsZS1zaWduYXR1cmUiOiIiLCJ1bnN0eWxhYmxlIjoiIiwiaGlnaGxpZ2h0YWJsZSI6dHJ1ZSwiY29weWFibGUiOnRydWUsInJlc2l6YWJsZSI6eyJ0bCI6MCwidGMiOjAsInRyIjowLCJjbCI6MCwiY3IiOjAsImJsIjowLCJiciI6MCwibWluRGltIjoxfSwiZWRpdGFibGUiOmZhbHNlLCJsYXllcmFibGUiOnRydWUsInNlbGVjdGFibGUiOnRydWUsImhvdmVyYWJsZSI6dHJ1ZSwidm9pZCI6ZmFsc2UsInN0YXRlIjoiIiwic3RhdHVzIjoiIiwiY29udGVudCI6IiIsImljb24iOiIiLCJzdHlsZSI6IiIsImNsYXNzZXMiOlt7Im5hbWUiOiJyb3ciLCJsYWJlbCI6InJvdyIsInR5cGUiOjEsImFjdGl2ZSI6dHJ1ZSwicHJpdmF0ZSI6MSwicHJvdGVjdGVkIjpmYWxzZX1dLCJzY3JpcHQiOiIiLCJhdHRyaWJ1dGVzIjp7fSwicHJvcGFnYXRlIjoiIiwiZG1vZGUiOiIiLCJjb21wb25lbnRzIjpbeyJ0YWdOYW1lIjoiZGl2IiwidHlwZSI6IiIsIm5hbWUiOiJDZWxsIiwicmVtb3ZhYmxlIjp0cnVlLCJkcmFnZ2FibGUiOiIucm93IiwiZHJvcHBhYmxlIjp0cnVlLCJiYWRnYWJsZSI6dHJ1ZSwic3R5bGFibGUiOnRydWUsInN0eWxhYmxlLXJlcXVpcmUiOlsiZmxleC1iYXNpcyJdLCJzdHlsZS1zaWduYXR1cmUiOiIiLCJ1bnN0eWxhYmxlIjpbIndpZHRoIl0sImhpZ2hsaWdodGFibGUiOnRydWUsImNvcHlhYmxlIjp0cnVlLCJyZXNpemFibGUiOnsidGwiOjAsInRjIjowLCJ0ciI6MCwiY2wiOjAsImNyIjoxLCJibCI6MCwiYnIiOjAsIm1pbkRpbSI6MSwiYmMiOjAsImN1cnJlbnRVbml0IjoxLCJzdGVwIjowLjIsImtleVdpZHRoIjoiZmxleC1iYXNpcyJ9LCJlZGl0YWJsZSI6ZmFsc2UsImxheWVyYWJsZSI6dHJ1ZSwic2VsZWN0YWJsZSI6dHJ1ZSwiaG92ZXJhYmxlIjp0cnVlLCJ2b2lkIjpmYWxzZSwic3RhdGUiOiIiLCJzdGF0dXMiOiIiLCJjb250ZW50IjoiIiwiaWNvbiI6IiIsInN0eWxlIjoiIiwiY2xhc3NlcyI6W3sibmFtZSI6ImNlbGwiLCJsYWJlbCI6ImNlbGwiLCJ0eXBlIjoxLCJhY3RpdmUiOnRydWUsInByaXZhdGUiOjEsInByb3RlY3RlZCI6ZmFsc2V9XSwic2NyaXB0IjoiIiwiYXR0cmlidXRlcyI6e30sInByb3BhZ2F0ZSI6IiIsImRtb2RlIjoiIiwiY29tcG9uZW50cyI6W3sidGFnTmFtZSI6ImRpdiIsInR5cGUiOiJzdHJpbmciLCJuYW1lIjoiIiwicmVtb3ZhYmxlIjp0cnVlLCJkcmFnZ2FibGUiOnRydWUsImRyb3BwYWJsZSI6ZmFsc2UsImJhZGdhYmxlIjp0cnVlLCJzdHlsYWJsZSI6ZmFsc2UsInN0eWxhYmxlLXJlcXVpcmUiOiIiLCJzdHlsZS1zaWduYXR1cmUiOiIiLCJ1bnN0eWxhYmxlIjoiIiwiaGlnaGxpZ2h0YWJsZSI6dHJ1ZSwiY29weWFibGUiOnRydWUsInJlc2l6YWJsZSI6ZmFsc2UsImVkaXRhYmxlIjpmYWxzZSwibGF5ZXJhYmxlIjp0cnVlLCJzZWxlY3RhYmxlIjp0cnVlLCJob3ZlcmFibGUiOmZhbHNlLCJ2b2lkIjpmYWxzZSwic3RhdGUiOiIiLCJzdGF0dXMiOiIiLCJjb250ZW50IjoiPCQgZmllbGRXcmFwcGVyLmZpZWxkd3JhcHBlcihkZWZpbml0aW9uX2N1c3RvbS50aXBvX2ZpZWxkc1sxNl0sXG4gICAgICAgICAgICBtb2RlLCAnJywgJycsIGRlZmluaXRpb25fY3VzdG9tLnRpcG9fbWV0YSkgJD4iLCJpY29uIjoiIiwic3R5bGUiOiIiLCJjbGFzc2VzIjpbXSwic2NyaXB0IjoiIiwiYXR0cmlidXRlcyI6eyJkYXRhLWluZGV4IjoxNiwiZmllbGRfdHlwZSI6InN0cmluZyIsImZpZWxkX25hbWUiOiJSZWdpb24ifSwicHJvcGFnYXRlIjoiIiwiZG1vZGUiOiIiLCJhY3RpdmVPblJlbmRlciI6MCwiY29tcG9uZW50cyI6W10sIm9wZW4iOmZhbHNlfV0sIm9wZW4iOmZhbHNlfSx7InRhZ05hbWUiOiJkaXYiLCJ0eXBlIjoiIiwibmFtZSI6IkNlbGwiLCJyZW1vdmFibGUiOnRydWUsImRyYWdnYWJsZSI6Ii5yb3ciLCJkcm9wcGFibGUiOnRydWUsImJhZGdhYmxlIjp0cnVlLCJzdHlsYWJsZSI6dHJ1ZSwic3R5bGFibGUtcmVxdWlyZSI6WyJmbGV4LWJhc2lzIl0sInN0eWxlLXNpZ25hdHVyZSI6IiIsInVuc3R5bGFibGUiOlsid2lkdGgiXSwiaGlnaGxpZ2h0YWJsZSI6dHJ1ZSwiY29weWFibGUiOnRydWUsInJlc2l6YWJsZSI6eyJ0bCI6MCwidGMiOjAsInRyIjowLCJjbCI6MCwiY3IiOjEsImJsIjowLCJiciI6MCwibWluRGltIjoxLCJiYyI6MCwiY3VycmVudFVuaXQiOjEsInN0ZXAiOjAuMiwia2V5V2lkdGgiOiJmbGV4LWJhc2lzIn0sImVkaXRhYmxlIjpmYWxzZSwibGF5ZXJhYmxlIjp0cnVlLCJzZWxlY3RhYmxlIjp0cnVlLCJob3ZlcmFibGUiOnRydWUsInZvaWQiOmZhbHNlLCJzdGF0ZSI6IiIsInN0YXR1cyI6IiIsImNvbnRlbnQiOiIiLCJpY29uIjoiIiwic3R5bGUiOiIiLCJjbGFzc2VzIjpbeyJuYW1lIjoiY2VsbCIsImxhYmVsIjoiY2VsbCIsInR5cGUiOjEsImFjdGl2ZSI6dHJ1ZSwicHJpdmF0ZSI6MSwicHJvdGVjdGVkIjpmYWxzZX1dLCJzY3JpcHQiOiIiLCJhdHRyaWJ1dGVzIjp7fSwicHJvcGFnYXRlIjoiIiwiZG1vZGUiOiIiLCJjb21wb25lbnRzIjpbeyJ0YWdOYW1lIjoiZGl2IiwidHlwZSI6ImRhdGVfdGltZSIsIm5hbWUiOiIiLCJyZW1vdmFibGUiOnRydWUsImRyYWdnYWJsZSI6dHJ1ZSwiZHJvcHBhYmxlIjpmYWxzZSwiYmFkZ2FibGUiOnRydWUsInN0eWxhYmxlIjpmYWxzZSwic3R5bGFibGUtcmVxdWlyZSI6IiIsInN0eWxlLXNpZ25hdHVyZSI6IiIsInVuc3R5bGFibGUiOiIiLCJoaWdobGlnaHRhYmxlIjp0cnVlLCJjb3B5YWJsZSI6dHJ1ZSwicmVzaXphYmxlIjpmYWxzZSwiZWRpdGFibGUiOmZhbHNlLCJsYXllcmFibGUiOnRydWUsInNlbGVjdGFibGUiOnRydWUsImhvdmVyYWJsZSI6ZmFsc2UsInZvaWQiOmZhbHNlLCJzdGF0ZSI6IiIsInN0YXR1cyI6IiIsImNvbnRlbnQiOiI8JCBmaWVsZFdyYXBwZXIuZmllbGR3cmFwcGVyKGRlZmluaXRpb25fY3VzdG9tLnRpcG9fZmllbGRzWzhdLFxuICAgICAgICAgICAgbW9kZSwgJycsICcnLCBkZWZpbml0aW9uX2N1c3RvbS50aXBvX21ldGEpICQ+IiwiaWNvbiI6IiIsInN0eWxlIjoiIiwiY2xhc3NlcyI6W10sInNjcmlwdCI6IiIsImF0dHJpYnV0ZXMiOnsiZGF0YS1pbmRleCI6OCwiZmllbGRfdHlwZSI6ImRhdGVfdGltZSIsImZpZWxkX25hbWUiOiJEYXRlIGFuZCB0aW1lIG9mIEluY2lkZW50In0sInByb3BhZ2F0ZSI6IiIsImRtb2RlIjoiIiwiYWN0aXZlT25SZW5kZXIiOjAsImNvbXBvbmVudHMiOltdLCJvcGVuIjpmYWxzZX1dLCJvcGVuIjpmYWxzZX1dLCJvcGVuIjpmYWxzZX1dLCJvcGVuIjpmYWxzZX0seyJ0YWdOYW1lIjoiZGl2IiwidHlwZSI6IiIsIm5hbWUiOiJDZWxsIiwicmVtb3ZhYmxlIjp0cnVlLCJkcmFnZ2FibGUiOiIucm93IiwiZHJvcHBhYmxlIjp0cnVlLCJiYWRnYWJsZSI6dHJ1ZSwic3R5bGFibGUiOnRydWUsInN0eWxhYmxlLXJlcXVpcmUiOlsiZmxleC1iYXNpcyJdLCJzdHlsZS1zaWduYXR1cmUiOiIiLCJ1bnN0eWxhYmxlIjpbIndpZHRoIl0sImhpZ2hsaWdodGFibGUiOnRydWUsImNvcHlhYmxlIjp0cnVlLCJyZXNpemFibGUiOnsidGwiOjAsInRjIjowLCJ0ciI6MCwiY2wiOjAsImNyIjoxLCJibCI6MCwiYnIiOjAsIm1pbkRpbSI6MSwiYmMiOjAsImN1cnJlbnRVbml0IjoxLCJzdGVwIjowLjIsImtleVdpZHRoIjoiZmxleC1iYXNpcyJ9LCJlZGl0YWJsZSI6ZmFsc2UsImxheWVyYWJsZSI6dHJ1ZSwic2VsZWN0YWJsZSI6dHJ1ZSwiaG92ZXJhYmxlIjp0cnVlLCJ2b2lkIjpmYWxzZSwic3RhdGUiOiIiLCJzdGF0dXMiOiIiLCJjb250ZW50IjoiIiwiaWNvbiI6IiIsInN0eWxlIjoiIiwiY2xhc3NlcyI6W3sibmFtZSI6ImNlbGwiLCJsYWJlbCI6ImNlbGwiLCJ0eXBlIjoxLCJhY3RpdmUiOnRydWUsInByaXZhdGUiOjEsInByb3RlY3RlZCI6ZmFsc2V9XSwic2NyaXB0IjoiIiwiYXR0cmlidXRlcyI6e30sInByb3BhZ2F0ZSI6IiIsImRtb2RlIjoiIiwiY29tcG9uZW50cyI6W3sidGFnTmFtZSI6ImRpdiIsInR5cGUiOiIiLCJuYW1lIjoiUm93IiwicmVtb3ZhYmxlIjp0cnVlLCJkcmFnZ2FibGUiOnRydWUsImRyb3BwYWJsZSI6Ii5jZWxsIiwiYmFkZ2FibGUiOnRydWUsInN0eWxhYmxlIjp0cnVlLCJzdHlsYWJsZS1yZXF1aXJlIjoiIiwic3R5bGUtc2lnbmF0dXJlIjoiIiwidW5zdHlsYWJsZSI6IiIsImhpZ2hsaWdodGFibGUiOnRydWUsImNvcHlhYmxlIjp0cnVlLCJyZXNpemFibGUiOnsidGwiOjAsInRjIjowLCJ0ciI6MCwiY2wiOjAsImNyIjowLCJibCI6MCwiYnIiOjAsIm1pbkRpbSI6MX0sImVkaXRhYmxlIjpmYWxzZSwibGF5ZXJhYmxlIjp0cnVlLCJzZWxlY3RhYmxlIjp0cnVlLCJob3ZlcmFibGUiOnRydWUsInZvaWQiOmZhbHNlLCJzdGF0ZSI6IiIsInN0YXR1cyI6IiIsImNvbnRlbnQiOiIiLCJpY29uIjoiIiwic3R5bGUiOiIiLCJjbGFzc2VzIjpbeyJuYW1lIjoicm93IiwibGFiZWwiOiJyb3ciLCJ0eXBlIjoxLCJhY3RpdmUiOnRydWUsInByaXZhdGUiOjEsInByb3RlY3RlZCI6ZmFsc2V9XSwic2NyaXB0IjoiIiwiYXR0cmlidXRlcyI6e30sInByb3BhZ2F0ZSI6IiIsImRtb2RlIjoiIiwiY29tcG9uZW50cyI6W3sidGFnTmFtZSI6ImRpdiIsInR5cGUiOiIiLCJuYW1lIjoiQ2VsbCIsInJlbW92YWJsZSI6dHJ1ZSwiZHJhZ2dhYmxlIjoiLnJvdyIsImRyb3BwYWJsZSI6dHJ1ZSwiYmFkZ2FibGUiOnRydWUsInN0eWxhYmxlIjp0cnVlLCJzdHlsYWJsZS1yZXF1aXJlIjpbImZsZXgtYmFzaXMiXSwic3R5bGUtc2lnbmF0dXJlIjoiIiwidW5zdHlsYWJsZSI6WyJ3aWR0aCJdLCJoaWdobGlnaHRhYmxlIjp0cnVlLCJjb3B5YWJsZSI6dHJ1ZSwicmVzaXphYmxlIjp7InRsIjowLCJ0YyI6MCwidHIiOjAsImNsIjowLCJjciI6MSwiYmwiOjAsImJyIjowLCJtaW5EaW0iOjEsImJjIjowLCJjdXJyZW50VW5pdCI6MSwic3RlcCI6MC4yLCJrZXlXaWR0aCI6ImZsZXgtYmFzaXMifSwiZWRpdGFibGUiOmZhbHNlLCJsYXllcmFibGUiOnRydWUsInNlbGVjdGFibGUiOnRydWUsImhvdmVyYWJsZSI6dHJ1ZSwidm9pZCI6ZmFsc2UsInN0YXRlIjoiIiwic3RhdHVzIjoiIiwiY29udGVudCI6IiIsImljb24iOiIiLCJzdHlsZSI6IiIsImNsYXNzZXMiOlt7Im5hbWUiOiJjZWxsIiwibGFiZWwiOiJjZWxsIiwidHlwZSI6MSwiYWN0aXZlIjp0cnVlLCJwcml2YXRlIjoxLCJwcm90ZWN0ZWQiOmZhbHNlfV0sInNjcmlwdCI6IiIsImF0dHJpYnV0ZXMiOnt9LCJwcm9wYWdhdGUiOiIiLCJkbW9kZSI6IiIsImNvbXBvbmVudHMiOlt7InRhZ05hbWUiOiJkaXYiLCJ0eXBlIjoic3RyaW5nIiwibmFtZSI6IiIsInJlbW92YWJsZSI6dHJ1ZSwiZHJhZ2dhYmxlIjp0cnVlLCJkcm9wcGFibGUiOmZhbHNlLCJiYWRnYWJsZSI6dHJ1ZSwic3R5bGFibGUiOmZhbHNlLCJzdHlsYWJsZS1yZXF1aXJlIjoiIiwic3R5bGUtc2lnbmF0dXJlIjoiIiwidW5zdHlsYWJsZSI6IiIsImhpZ2hsaWdodGFibGUiOnRydWUsImNvcHlhYmxlIjp0cnVlLCJyZXNpemFibGUiOmZhbHNlLCJlZGl0YWJsZSI6ZmFsc2UsImxheWVyYWJsZSI6dHJ1ZSwic2VsZWN0YWJsZSI6dHJ1ZSwiaG92ZXJhYmxlIjpmYWxzZSwidm9pZCI6ZmFsc2UsInN0YXRlIjoiIiwic3RhdHVzIjoiIiwiY29udGVudCI6IjwkIGZpZWxkV3JhcHBlci5maWVsZHdyYXBwZXIoZGVmaW5pdGlvbl9jdXN0b20udGlwb19maWVsZHNbNF0sXG4gICAgICAgICAgICBtb2RlLCAnJywgJycsIGRlZmluaXRpb25fY3VzdG9tLnRpcG9fbWV0YSkgJD4iLCJpY29uIjoiIiwic3R5bGUiOiIiLCJjbGFzc2VzIjpbXSwic2NyaXB0IjoiIiwiYXR0cmlidXRlcyI6eyJkYXRhLWluZGV4Ijo0LCJmaWVsZF90eXBlIjoic3RyaW5nIiwiZmllbGRfbmFtZSI6IlRvdGFsIEFjdGlvbnMifSwicHJvcGFnYXRlIjoiIiwiZG1vZGUiOiIiLCJhY3RpdmVPblJlbmRlciI6MCwiY29tcG9uZW50cyI6W10sIm9wZW4iOmZhbHNlfV0sIm9wZW4iOmZhbHNlfSx7InRhZ05hbWUiOiJkaXYiLCJ0eXBlIjoiIiwibmFtZSI6IkNlbGwiLCJyZW1vdmFibGUiOnRydWUsImRyYWdnYWJsZSI6Ii5yb3ciLCJkcm9wcGFibGUiOnRydWUsImJhZGdhYmxlIjp0cnVlLCJzdHlsYWJsZSI6dHJ1ZSwic3R5bGFibGUtcmVxdWlyZSI6WyJmbGV4LWJhc2lzIl0sInN0eWxlLXNpZ25hdHVyZSI6IiIsInVuc3R5bGFibGUiOlsid2lkdGgiXSwiaGlnaGxpZ2h0YWJsZSI6dHJ1ZSwiY29weWFibGUiOnRydWUsInJlc2l6YWJsZSI6eyJ0bCI6MCwidGMiOjAsInRyIjowLCJjbCI6MCwiY3IiOjEsImJsIjowLCJiciI6MCwibWluRGltIjoxLCJiYyI6MCwiY3VycmVudFVuaXQiOjEsInN0ZXAiOjAuMiwia2V5V2lkdGgiOiJmbGV4LWJhc2lzIn0sImVkaXRhYmxlIjpmYWxzZSwibGF5ZXJhYmxlIjp0cnVlLCJzZWxlY3RhYmxlIjp0cnVlLCJob3ZlcmFibGUiOnRydWUsInZvaWQiOmZhbHNlLCJzdGF0ZSI6IiIsInN0YXR1cyI6IiIsImNvbnRlbnQiOiIiLCJpY29uIjoiIiwic3R5bGUiOiIiLCJjbGFzc2VzIjpbeyJuYW1lIjoiY2VsbCIsImxhYmVsIjoiY2VsbCIsInR5cGUiOjEsImFjdGl2ZSI6dHJ1ZSwicHJpdmF0ZSI6MSwicHJvdGVjdGVkIjpmYWxzZX1dLCJzY3JpcHQiOiIiLCJhdHRyaWJ1dGVzIjp7fSwicHJvcGFnYXRlIjoiIiwiZG1vZGUiOiIiLCJjb21wb25lbnRzIjpbeyJ0YWdOYW1lIjoiZGl2IiwidHlwZSI6InN0cmluZyIsIm5hbWUiOiIiLCJyZW1vdmFibGUiOnRydWUsImRyYWdnYWJsZSI6dHJ1ZSwiZHJvcHBhYmxlIjpmYWxzZSwiYmFkZ2FibGUiOnRydWUsInN0eWxhYmxlIjpmYWxzZSwic3R5bGFibGUtcmVxdWlyZSI6IiIsInN0eWxlLXNpZ25hdHVyZSI6IiIsInVuc3R5bGFibGUiOiIiLCJoaWdobGlnaHRhYmxlIjp0cnVlLCJjb3B5YWJsZSI6dHJ1ZSwicmVzaXphYmxlIjpmYWxzZSwiZWRpdGFibGUiOmZhbHNlLCJsYXllcmFibGUiOnRydWUsInNlbGVjdGFibGUiOnRydWUsImhvdmVyYWJsZSI6ZmFsc2UsInZvaWQiOmZhbHNlLCJzdGF0ZSI6IiIsInN0YXR1cyI6IiIsImNvbnRlbnQiOiI8JCBmaWVsZFdyYXBwZXIuZmllbGR3cmFwcGVyKGRlZmluaXRpb25fY3VzdG9tLnRpcG9fZmllbGRzWzVdLFxuICAgICAgICAgICAgbW9kZSwgJycsICcnLCBkZWZpbml0aW9uX2N1c3RvbS50aXBvX21ldGEpICQ+IiwiaWNvbiI6IiIsInN0eWxlIjoiIiwiY2xhc3NlcyI6W10sInNjcmlwdCI6IiIsImF0dHJpYnV0ZXMiOnsiZGF0YS1pbmRleCI6NSwiZmllbGRfdHlwZSI6InN0cmluZyIsImZpZWxkX25hbWUiOiJJbmNvbXBsZXRlIEFjdGlvbnMifSwicHJvcGFnYXRlIjoiIiwiZG1vZGUiOiIiLCJhY3RpdmVPblJlbmRlciI6MCwiY29tcG9uZW50cyI6W10sIm9wZW4iOmZhbHNlfV0sIm9wZW4iOmZhbHNlfSx7InRhZ05hbWUiOiJkaXYiLCJ0eXBlIjoiIiwibmFtZSI6IkNlbGwiLCJyZW1vdmFibGUiOnRydWUsImRyYWdnYWJsZSI6Ii5yb3ciLCJkcm9wcGFibGUiOnRydWUsImJhZGdhYmxlIjp0cnVlLCJzdHlsYWJsZSI6dHJ1ZSwic3R5bGFibGUtcmVxdWlyZSI6WyJmbGV4LWJhc2lzIl0sInN0eWxlLXNpZ25hdHVyZSI6IiIsInVuc3R5bGFibGUiOlsid2lkdGgiXSwiaGlnaGxpZ2h0YWJsZSI6dHJ1ZSwiY29weWFibGUiOnRydWUsInJlc2l6YWJsZSI6eyJ0bCI6MCwidGMiOjAsInRyIjowLCJjbCI6MCwiY3IiOjEsImJsIjowLCJiciI6MCwibWluRGltIjoxLCJiYyI6MCwiY3VycmVudFVuaXQiOjEsInN0ZXAiOjAuMiwia2V5V2lkdGgiOiJmbGV4LWJhc2lzIn0sImVkaXRhYmxlIjpmYWxzZSwibGF5ZXJhYmxlIjp0cnVlLCJzZWxlY3RhYmxlIjp0cnVlLCJob3ZlcmFibGUiOnRydWUsInZvaWQiOmZhbHNlLCJzdGF0ZSI6IiIsInN0YXR1cyI6IiIsImNvbnRlbnQiOiIiLCJpY29uIjoiIiwic3R5bGUiOiIiLCJjbGFzc2VzIjpbeyJuYW1lIjoiY2VsbCIsImxhYmVsIjoiY2VsbCIsInR5cGUiOjEsImFjdGl2ZSI6dHJ1ZSwicHJpdmF0ZSI6MSwicHJvdGVjdGVkIjpmYWxzZX1dLCJzY3JpcHQiOiIiLCJhdHRyaWJ1dGVzIjp7fSwicHJvcGFnYXRlIjoiIiwiZG1vZGUiOiIiLCJjb21wb25lbnRzIjpbeyJ0YWdOYW1lIjoiZGl2IiwidHlwZSI6InN0cmluZyIsIm5hbWUiOiIiLCJyZW1vdmFibGUiOnRydWUsImRyYWdnYWJsZSI6dHJ1ZSwiZHJvcHBhYmxlIjpmYWxzZSwiYmFkZ2FibGUiOnRydWUsInN0eWxhYmxlIjpmYWxzZSwic3R5bGFibGUtcmVxdWlyZSI6IiIsInN0eWxlLXNpZ25hdHVyZSI6IiIsInVuc3R5bGFibGUiOiIiLCJoaWdobGlnaHRhYmxlIjp0cnVlLCJjb3B5YWJsZSI6dHJ1ZSwicmVzaXphYmxlIjpmYWxzZSwiZWRpdGFibGUiOmZhbHNlLCJsYXllcmFibGUiOnRydWUsInNlbGVjdGFibGUiOnRydWUsImhvdmVyYWJsZSI6ZmFsc2UsInZvaWQiOmZhbHNlLCJzdGF0ZSI6IiIsInN0YXR1cyI6IiIsImNvbnRlbnQiOiI8JCBmaWVsZFdyYXBwZXIuZmllbGR3cmFwcGVyKGRlZmluaXRpb25fY3VzdG9tLnRpcG9fZmllbGRzWzZdLFxuICAgICAgICAgICAgbW9kZSwgJycsICcnLCBkZWZpbml0aW9uX2N1c3RvbS50aXBvX21ldGEpICQ+IiwiaWNvbiI6IiIsInN0eWxlIjoiIiwiY2xhc3NlcyI6W10sInNjcmlwdCI6IiIsImF0dHJpYnV0ZXMiOnsiZGF0YS1pbmRleCI6NiwiZmllbGRfdHlwZSI6InN0cmluZyIsImZpZWxkX25hbWUiOiJDb21wbGV0ZWQgQWN0aW9ucyJ9LCJwcm9wYWdhdGUiOiIiLCJkbW9kZSI6IiIsImFjdGl2ZU9uUmVuZGVyIjowLCJjb21wb25lbnRzIjpbXSwib3BlbiI6ZmFsc2V9XSwib3BlbiI6ZmFsc2V9XSwib3BlbiI6ZmFsc2V9XSwib3BlbiI6ZmFsc2V9XSwib3BlbiI6ZmFsc2V9XSwib3BlbiI6ZmFsc2V9XSwib3BlbiI6ZmFsc2V9XQ=="},"tipo_detail":{"actions":[{"display_name___token":"TT___EDIT","display_name":"Edit","tipo_action":"edit","icon_labels":"edit","icon":"edit","highlight":true,"visibility_expression":"$tipo_root.overview_incident_status___token != 'TT___CLOSED' && $tipo_root.overview_incident_status___token != 'TT___FINAL'","javascript_code":"tipoHandle.toTipo('edit',data_handle.tipo_name, data_handle.selected_tipo_id);\nreturn true;","_ARRAY_META":{"_HASH":"2083694089"}},{"display_name___token":"TT___PRINT","display_name":"Print","tipo_action":"print","highlight":true,"javascript_code":"if (window.localStorage.getItem('TipotappIosMobileApp') || window.localStorage.getItem('TipotappAndroidMobileApp')) {\r\n    setTimeout(() => {\r\n        tipoHandle.showMessage(tipoHandle.getInstantTranslation('TT___THIS_FUNCTIONALITY_IS_NOT_ALLOWED_FROM_M'), '', 3000);\r\n    }, 100)\r\n    return true;\r\n}\r\ntipoHandle.getTipo('CreateIncident', data_handle.tipo.tipo_id, {}).then(async (res) => {\r\n    _.merge(data_handle.tipo, res);\r\n    if(data_handle.tipo.overview_incident_status___token == 'TT___REPORTED'){\r\n        if(!data_handle.tipo['physical_loc']){\r\n            Object.assign(data_handle.tipo, {physical_loc: ''});\r\n        }\r\n        var htmlfile = ` \r\n    <div class=\"content-header\">\r\n        <img  src=\"https://safetyplus.apps.dev.pluto.forwoodsafety.com/g/tipotapp/safetyplus/public/uploads/assets/images/logo.png?tipo_version_stamp=297fb8f858.1.0.8414723225D\"\r\n            alt=\"logo\" />\r\n        <h2  >${tipoHandle.getInstantTranslation('TT___INCIDENT_INVESTIGATION_REPORT_FORM')}</h2>\r\n    </div>\r\n      <table>\r\n        <tr class=\"header bg-light-blue\" class=\"header\">\r\n        <td>\r\n        ${tipoHandle.getInstantTranslation('TT___PROJECT')}\r\n    </td>\r\n      <td>\r\n        ${tipoHandle.getInstantTranslation('TT___LOCATION')}\r\n    </td>\r\n\r\n    <td>\r\n        ${tipoHandle.getInstantTranslation('TT___RESPONSIBLE_PERSON')}\r\n    </td>\r\n    <td>\r\n        ${tipoHandle.getInstantTranslation('TT___INCIDENT_TYPE')}\r\n    </td>\r\n        </tr>\r\n        <tr>\r\n            <td class=\"border-style\">\r\n                {{site_labels}}\r\n            </td>\r\n            <td class=\"border-style\">\r\n                {{physical_loc}}\r\n            </td>\r\n            <td class=\"border-style\">\r\n                {{who_Team.responsible_manager_labels}}\r\n            </td>\r\n            <td class=\"border-style\">\r\n                {{incident_type}}\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <br>\r\n    <table>\r\n        <tr class=\"header bg-light-blue\" class=\"header\">\r\n        <td>\r\n        ${tipoHandle.getInstantTranslation('TT___INCIDENT_STATUS')}\r\n      </td>\r\n    <td>\r\n        ${tipoHandle.getInstantTranslation('TT___RESTRICTED_ACCESS_INCIDENT')}\r\n    </td>\r\n    <td>\r\n        ${tipoHandle.getInstantTranslation('TT___TOTAL_ACTIONS')}\r\n    </td>\r\n    <td>\r\n        ${tipoHandle.getInstantTranslation('TT___HIGH_POTENTIAL')}\r\n    </td>\r\n        </tr>\r\n        <tr>\r\n            <td class=\"border-style\">\r\n                {{overview_incident_status}}\r\n            </td>\r\n            <td class=\"border-style\">\r\n                {{overview_restricted_access_incident}}\r\n            </td>\r\n            <td class=\"border-style\">\r\n               ${ data_handle.tipo['incident_action'] ? data_handle.tipo['incident_action'].length:''}\r\n            </td>\r\n            <td class=\"border-style\">\r\n                ${ data_handle.tipo.high_potential === true? tipoHandle.getInstantTranslation('TT___YES') : tipoHandle.getInstantTranslation('TT___NO')}\r\n            </td?\r\n          </tr>\r\n        </table>\r\n        <br>\r\n      <table>\r\n        <tr class=\"header bg-light-blue\" class=\"header\">\r\n        <td>\r\n        ${tipoHandle.getInstantTranslation('TT___DATE_OF_INCIDENT')}\r\n    </td >\r\n    <td>\r\n        ${tipoHandle.getInstantTranslation('TT___DAY_OF_THE_WEEK')}\r\n    </td>\r\n    <td>\r\n        ${tipoHandle.getInstantTranslation('TT___TIME_OF_THE_INCIDENT')}\r\n    </td>\r\n    <td>${tipoHandle.getInstantTranslation('TT___DATE_REPORTED')}</td>\r\n    <td>${tipoHandle.getInstantTranslation('TT___TIME_REPORTED')}</td>\r\n        </tr>\r\n        <tr>\r\n            <td class=\"border-style\">\r\n               ${data_handle.tipo.when_date_and_time_of_incident && tipoHandle.getDateUtil(data_handle.tipo.when_date_and_time_of_incident).format('MMM DD,YYYY')}\r\n                \r\n            </td>\r\n            <td class=\"border-style\">\r\n               ${data_handle.tipo.when_date_and_time_of_incident && tipoHandle.getDateUtil(data_handle.tipo.when_date_and_time_of_incident).format('dddd')} \r\n                \r\n            </td>\r\n            <td class=\"border-style\">\r\n                ${data_handle.tipo.when_date_and_time_of_incident && tipoHandle.getDateUtil(data_handle.tipo.when_date_and_time_of_incident).format('LT')} \r\n            </td>\r\n            <td class=\"border-style\">\r\n                ${data_handle.tipo.created_date && tipoHandle.getDateUtil(data_handle.tipo.created_date).format('MMM DD,YYYY')}\r\n                \r\n            </td>\r\n            <td class=\"border-style\">\r\n                 ${data_handle.tipo.created_date && tipoHandle.getDateUtil(data_handle.tipo.created_date).format('LT')} \r\n            </td>\r\n        </tr>\r\n    </table>\r\n           <table>\r\n        <tr>\r\n        <td colspan=\"3\" class=\"bg-light-blue\" style=\"text-transform: uppercase;\">\r\n        <b>${tipoHandle.getInstantTranslation('TT___BRIEF_INCIDENT_DESCRIPTION')}</b>\r\n    </td>\r\n        </tr>\r\n        <tr>\r\n            <td colspan=\"3\" style=\" padding-left: 0; padding-right: 0;\">\r\n                <div style=\"min-height: 50px;\">\r\n                   {{what_briefly_describe_the_incident}}\r\n                </div>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <table>\r\n     <tr>\r\n     <td colspan=\"3\" class=\"bg-light-blue\" style=\"text-transform: uppercase;\">\r\n     <b>${tipoHandle.getInstantTranslation('TT___EVENT_DESCRIPTION')}<b>\r\n </td>\r\n        </tr>\r\n        <tr>\r\n            <td colspan=\"3\" style=\" padding-left: 0; padding-right: 0;\">\r\n                <div style=\"min-height: 100px;\">\r\n                   {{what_event_description}}\r\n                </div>\r\n            </td>\r\n        </tr>\r\n        </table>\r\n        <table>\r\n     <tr>\r\n     <td colspan=\"3\" class=\"bg-light-blue\" style=\"text-transform: uppercase;\">\r\n     <b>${tipoHandle.getInstantTranslation('TT___IMMEDIATE_ACTIONS_TAKEN')}<b>\r\n </td>\r\n        </tr>\r\n        <tr>\r\n            <td colspan=\"3\" style=\" padding-left: 0; padding-right: 0;\">\r\n                <div style=\"min-height: 50px;\">\r\n                   {{what_immediate_actions_taken}}\r\n                </div>\r\n            </td>\r\n        </tr>\r\n        </table>\r\n        `} else {\r\n            if(!data_handle.tipo['physical_loc']){\r\n            Object.assign(data_handle.tipo, {physical_loc: ''});\r\n        }\r\n        var whysData;\r\n    var htmlfile = ` \r\n    <div class=\"content-header\">\r\n        <img src=\"https://safetyplus.apps.dev.pluto.forwoodsafety.com/g/tipotapp/safetyplus/public/uploads/assets/images/logo.png?tipo_version_stamp=297fb8f858.1.0.8414723225D\"\r\n            alt=\"logo\" />\r\n            <h2 style=\"text-transform: uppercase;\">${tipoHandle.getInstantTranslation('TT___INCIDENT_INVESTIGATION_REPORT_FORM')}</h2>    </div>\r\n      <table>\r\n        <tr class=\"header bg-light-blue\" class=\"header\">\r\n        <td>\r\n        ${tipoHandle.getInstantTranslation('TT___PROJECT')}\r\n    </td>\r\n      <td>\r\n        ${tipoHandle.getInstantTranslation('TT___LOCATION')}\r\n    </td>\r\n\r\n    <td>\r\n        ${tipoHandle.getInstantTranslation('TT___RESPONSIBLE_PERSON')}\r\n    </td>\r\n    <td>\r\n        ${tipoHandle.getInstantTranslation('TT___INCIDENT_TYPE')}\r\n    </td>\r\n        </tr>\r\n        <tr>\r\n            <td class=\"border-style\">\r\n                {{site_labels}}\r\n            </td>\r\n            <td class=\"border-style\">\r\n                {{physical_loc}}\r\n            </td>\r\n            <td class=\"border-style\">\r\n                {{who_Team.responsible_manager_labels}}\r\n            </td>\r\n            <td class=\"border-style\">\r\n                {{incident_type}}\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <br>\r\n    <table>\r\n        <tr class=\"header bg-light-blue\" class=\"header\">\r\n        <td>\r\n        ${tipoHandle.getInstantTranslation('TT___INCIDENT_STATUS')}\r\n      </td>\r\n    <td>\r\n        ${tipoHandle.getInstantTranslation('TT___RESTRICTED_ACCESS_INCIDENT')}\r\n    </td>\r\n    <td>\r\n        ${tipoHandle.getInstantTranslation('TT___TOTAL_ACTIONS')}\r\n    </td>\r\n    <td>\r\n        ${tipoHandle.getInstantTranslation('TT___HIGH_POTENTIAL')}\r\n    </td>\r\n        </tr>\r\n        <tr>\r\n            <td class=\"border-style\">\r\n                {{overview_incident_status}}\r\n            </td>\r\n            <td class=\"border-style\">\r\n                {{overview_restricted_access_incident}}\r\n            </td>\r\n            <td class=\"border-style\">\r\n              ${ data_handle.tipo['incident_action'] ? data_handle.tipo['incident_action'].length:''}\r\n            </td>\r\n            <td class=\"border-style\">\r\n                ${ data_handle.tipo.high_potential === true? tipoHandle.getInstantTranslation('TT___YES') : tipoHandle.getInstantTranslation('TT___NO')}\r\n            </td?\r\n          </tr>\r\n        </table>\r\n        <br>\r\n      <table>\r\n        <tr class=\"header bg-light-blue\" class=\"header\">\r\n        <td>\r\n        ${tipoHandle.getInstantTranslation('TT___DATE_OF_INCIDENT')}\r\n    </td >\r\n    <td>\r\n        ${tipoHandle.getInstantTranslation('TT___DAY_OF_THE_WEEK')}\r\n    </td>\r\n    <td>\r\n        ${tipoHandle.getInstantTranslation('TT___TIME_OF_THE_INCIDENT')}\r\n    </td>\r\n    <td>${tipoHandle.getInstantTranslation('TT___DATE_REPORTED')}</td>\r\n    <td>${tipoHandle.getInstantTranslation('TT___TIME_REPORTED')}</td>\r\n        </tr>\r\n        <tr>\r\n            <td class=\"border-style\">\r\n               ${data_handle.tipo.when_date_and_time_of_incident && tipoHandle.getDateUtil(data_handle.tipo.when_date_and_time_of_incident).format('MMM DD,YYYY')}\r\n                \r\n            </td>\r\n            <td class=\"border-style\">\r\n               ${data_handle.tipo.when_date_and_time_of_incident && tipoHandle.getDateUtil(data_handle.tipo.when_date_and_time_of_incident).format('dddd')} \r\n                \r\n            </td>\r\n            <td class=\"border-style\">\r\n                ${data_handle.tipo.when_date_and_time_of_incident && tipoHandle.getDateUtil(data_handle.tipo.when_date_and_time_of_incident).format('LT')} \r\n            </td>\r\n            <td class=\"border-style\">\r\n                ${data_handle.tipo.created_date && tipoHandle.getDateUtil(data_handle.tipo.created_date).format('MMM DD,YYYY')}\r\n                \r\n            </td>\r\n            <td class=\"border-style\">\r\n                 ${data_handle.tipo.created_date && tipoHandle.getDateUtil(data_handle.tipo.created_date).format('LT')} \r\n            </td>\r\n        </tr>\r\n    </table>\r\n           <table>\r\n        <tr>\r\n            <td colspan=\"3\" class=\"bg-light-blue\" style=\"text-transform: uppercase;\">\r\n            <b>${tipoHandle.getInstantTranslation('TT___BRIEF_INCIDENT_DESCRIPTION')}</b>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td colspan=\"3\" style=\" padding-left: 0; padding-right: 0;\">\r\n                <div style=\"min-height: 50px;\">\r\n                   {{what_briefly_describe_the_incident}}\r\n                </div>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n      <!--  <table>\r\n     <tr>\r\n            <td colspan=\"3\" class=\"bg-light-blue\">\r\n            ${tipoHandle.getInstantTranslation('TT___DESCRIBE_THE_AREA_WHERE_INCIDENT_OCCURRE')}\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td colspan=\"3\" style=\" padding-left: 0; padding-right: 0;\">\r\n                <div style=\"min-height: 245px;\">\r\n                  ${ data_handle.tipo.where_Area || 'N/A'}\r\n                </div>\r\n            </td>\r\n        </tr>\r\n        </table> --!>\r\n    <table>\r\n     <tr>\r\n            <td colspan=\"3\" class=\"bg-light-blue\" style=\"text-transform: uppercase;\">\r\n            <b>${tipoHandle.getInstantTranslation('TT___EVENT_DESCRIPTION')}<b>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td colspan=\"3\" style=\" padding-left: 0; padding-right: 0;\">\r\n                <div style=\"min-height: 100px;\">\r\n                   {{what_event_description}}\r\n                </div>\r\n            </td>\r\n        </tr>\r\n        </table>\r\n        <table>\r\n     <tr>\r\n            <td colspan=\"3\" class=\"bg-light-blue\" style=\"text-transform: uppercase;\">\r\n            <b>${tipoHandle.getInstantTranslation('TT___IMMEDIATE_ACTIONS_TAKEN')}<b>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td colspan=\"3\" style=\" padding-left: 0; padding-right: 0;\">\r\n                <div style=\"min-height: 50px;\">\r\n                   {{what_immediate_actions_taken}}\r\n                </div>\r\n            </td>\r\n        </tr>\r\n        </table>\r\n        ${await getPersonsData()}\r\n         <table>\r\n        <tr>\r\n            <td class=\"bg-light-blue border-style text-center\">\r\n            <b>${tipoHandle.getInstantTranslation('TT___CONSEQUENCE')}</b>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n        <td><b>${tipoHandle.getInstantTranslation('TT___HEALTH')}</b> ${tipoHandle.getInstantTranslation('TT___WHERE_THE_IMPACT_IS_ILLNESS_RELATED_FOR_')}\r\n        </td>\r\n       \r\n    </tr>\r\n    <tr>\r\n        <td><b>${tipoHandle.getInstantTranslation('TT___SAFETY')}</b> ${tipoHandle.getInstantTranslation('TT___WHERE_THE_IMPACT_IS_ON_PERSONAL_SAFETY_F')}\r\n        </td>\r\n        \r\n    </tr>\r\n    <tr>\r\n        <td><b>${tipoHandle.getInstantTranslation('TT___ENVIRONMENT')}</b> ${tipoHandle.getInstantTranslation('TT___WHERE_THE_IMPACT_IS_ON_THE_ENVIRONMENT_F')}\r\n        </td>\r\n        \r\n    </tr>\r\n    <tr>\r\n        <td><b>${tipoHandle.getInstantTranslation('TT___COMMUNITY')}</b> ${tipoHandle.getInstantTranslation('TT___WHERE_THE_IMPACT_IS_ON_THE_COMMUNITY_FOR')}\r\n        </td>\r\n        </tr>\r\n        \r\n    </table>\r\n     <br>\r\n    <table>\r\n    <tr>\r\n    <td class=\"bg-light-blue border-style text-center\">\r\n    <b>${tipoHandle.getInstantTranslation('TT___IMPACT_DESCRIPTORS')}</b>\r\n    </td>\r\n    \r\n</tr>\r\n    <tr>\r\n    <td><b>${tipoHandle.getInstantTranslation('TT___1_MINOR')}</b> ${tipoHandle.getInstantTranslation('TT___NO_INJURY_OR_ILLNESS_IMPACT_OF_1_K_LOSS_')} \r\n   <!--  <td><b>${tipoHandle.getInstantTranslation('TT___MINOR')}</b> ${tipoHandle.getInstantTranslation('TT___NO_INJURY_OR_ILLNESS_IMPACT_OF_1_K_LOSS_')} --!>\r\n   </td>\r\n  \r\n</tr>\r\n<tr>\r\n    <td><b>${tipoHandle.getInstantTranslation('TT___2_MEDIUM')}</b> ${tipoHandle.getInstantTranslation('TT___FIRST_AID_TREATMENT_NO_LAST_TIME_IMPACT_')} \r\n   <!-- <td><b>${tipoHandle.getInstantTranslation('TT___MEDIUM')}</b> ${tipoHandle.getInstantTranslation('TT___FIRST_AID_TREATMENT_NO_LAST_TIME_IMPACT_')} --!>\r\n   </td>\r\n  \r\n</tr>\r\n<tr>\r\n   <td><b>${tipoHandle.getInstantTranslation('TT___3_SERIOUS')}</b> ${tipoHandle.getInstantTranslation('TT___TEMPORARY_DISABILITY_LOST_TIME_INJURY_OR')} \r\n <!--   <td><b>${tipoHandle.getInstantTranslation('TT___SERIOUS')}</b> ${tipoHandle.getInstantTranslation('TT___TEMPORARY_DISABILITY_LOST_TIME_INJURY_OR')} --!>\r\n   </td>\r\n   \r\n</tr>\r\n<tr>\r\n  <td><b>${tipoHandle.getInstantTranslation('TT___4_MAJOR')}</b> ${tipoHandle.getInstantTranslation('TT___SERIOUS_EVENT_CRITICAL_INJURY_OR_CRITICA')} \r\n<!--   <td><b>${tipoHandle.getInstantTranslation('TT___MAJOR')}</b> ${tipoHandle.getInstantTranslation('TT___SERIOUS_EVENT_CRITICAL_INJURY_OR_CRITICA')} --!>\r\n   </td>\r\n   \r\n</tr>\r\n<tr>\r\n   <td><b>${tipoHandle.getInstantTranslation('TT___5_CATASTROPHIC_34')}</b> ${tipoHandle.getInstantTranslation('TT___FATALITY_OR_PERMANENT_DISABILITY_IMPACT_')} \r\n <!--   <td><b>${tipoHandle.getInstantTranslation('TT___CATASTROPHIC')}</b> ${tipoHandle.getInstantTranslation('TT___FATALITY_OR_PERMANENT_DISABILITY_IMPACT_')} --!>\r\n   </td>\r\n   \r\n</tr>\r\n        \r\n    </table>\r\n    <br>\r\n    <br>\r\n        <table>\r\n        <tr>\r\n            <td colspan=\"2\" style=\"vertical-align: top; width:33%\">\r\n            <table  class=\"text-center\">\r\n        <tr class=\"header bg-light-blue\">\r\n            <td colspan=\"2\">${tipoHandle.getInstantTranslation('TT___ACTUAL_SEVERITY')}</td>\r\n        </tr>\r\n          <tr  class=\"header\">\r\n            <td>\r\n            ${tipoHandle.getInstantTranslation('TT___ACTUAL_CONSEQUENCE')}\r\n            </td>\r\n            <td>\r\n            ${tipoHandle.getInstantTranslation('TT___ACTUAL_IMPACT')}\r\n            </td>\r\n                 \r\n          </tr>\r\n         ${await getTableRowdata('actual_severity',['actual_consequence_labels','actual_impact_labels'])} \r\n        </table>\r\n            </td> \r\n            <td colspan=\"2\" style=\"vertical-align:top; width:33%\">\r\n              \r\n    <table  class=\"text-center\">\r\n        <tr class=\"header bg-light-blue\">\r\n            <td colspan=\"2\"> ${tipoHandle.getInstantTranslation('TT___POTENTIAL_SEVERITY')} </td>\r\n        </tr>\r\n          <tr  class=\"header\">\r\n            <td>\r\n                ${tipoHandle.getInstantTranslation('TT___MAXIMUM_REASONABLE_OUTCOME')}\r\n            </td>\r\n            <td>\r\n               ${tipoHandle.getInstantTranslation('TT___POTENTIAL_IMPACT')}\r\n            </td>\r\n                 \r\n          </tr>\r\n         ${await getTableRowdata('analysis_potential_severity',['potential_maximum_reasonable_outcome_labels','potential_impact_labels'])} \r\n        </table>\r\n            \r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <br>\r\n    <table>\r\n    <td colspan=\"4\" style=\"vertical-align:top; width:66%\">\r\n            \r\n    <table  class=\"text-center\">\r\n        <tr class=\"header bg-light-blue\">\r\n            <td colspan=\"4\"> ${tipoHandle.getInstantTranslation('TT___CRITICAL_CONTROLS')} </td>\r\n        </tr>\r\n          <tr  class=\"header\">\r\n            <td>\r\n               ${tipoHandle.getInstantTranslation('TT___CRITICAL_RISKS')}\r\n            </td>\r\n            <td>\r\n               ${tipoHandle.getInstantTranslation('TT___CRITICAL_CONTROLS')}\r\n            </td>\r\n            <td>\r\n               ${tipoHandle.getInstantTranslation('TT___STATUS')}\r\n            </td> \r\n            \r\n          </tr>\r\n         ${await getTableRowdata('analysis_critical_risk_group',['criticalrisk_labels','criticalcontrol_labels','critical_control_status_labels'])} \r\n        </table>\r\n            <span colspan=\"4\" style=\"vertical-align: top;\">\r\n                <p style=\"font-size: 14px;\">${tipoHandle.getInstantTranslation('TT___NOTE_DESC')}</p>\r\n            </span>\r\n            <br>\r\n            ${await getFiveWhyTemplate()}\r\n            <br>\r\n            ${await getActionDetail()}\r\n        <br>\r\n     <table  class=\"text-center\">\r\n        <tr class=\"header bg-light-blue\">\r\n            <td colspan=\"4\"> ${tipoHandle.getInstantTranslation('TT___CONFIRMATIONS')} </td>\r\n        </tr>\r\n          <tr  class=\"header\">\r\n            <td>\r\n                ${tipoHandle.getInstantTranslation('TT___ROLE')}\r\n            </td>\r\n            <td>\r\n                ${tipoHandle.getInstantTranslation('TT___RESPONSIBLE_PERSON')}\r\n            </td>\r\n            <td>\r\n                 ${tipoHandle.getInstantTranslation('TT___FINAL')}\r\n            </td> \r\n            <td>\r\n                ${tipoHandle.getInstantTranslation('TT___DATE_LAST_UPDATED')}\r\n            </td>\r\n          </tr>\r\n         ${await getTableRowdata('confirmations',['addperson_Reported_by_labels','addperson_PersonDetails_labels',{name:'Investigation_finalised',type:'boolean'},{name:'date_signed_off',type:'date'}])} \r\n        </table>\r\n        <br>\r\n    <br>\r\n  <!--  <p style=\"page-break-after: always;\">&nbsp;</p> --!>\r\n  <!--  <p style=\"page-break-before: always;\">&nbsp;</p> --!>\r\n        <!-- <p style=\"page-break-after: always;\">&nbsp;</p> --!>\r\n        <!-- <p style=\"page-break-before: always;\">&nbsp;</p> --!>\r\n        <table>\r\n            <tr class=\"bg-light-blue\">\r\n                <td style=\"text-transform: uppercase;\">\r\n                    <b> ${tipoHandle.getInstantTranslation('TT___ATTACHMENTS_23')}</b>\r\n                </td>\r\n            </tr> \r\n            <tr>\r\n                <td>\r\n                    <div class=\"no-border\" style=\"width: 100%;\">\r\n                        ${getEvidence()}\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        </table>\r\n        <br>\r\n        <div>\r\n          ${tipoHandle.getInstantTranslation('TT___NOTE_TEXT')}\r\n            <ul style=\"list-style: decimal;\">\r\n                <li>   ${tipoHandle.getInstantTranslation('TT___REPORT_ALL')}</li>\r\n                <li>   ${tipoHandle.getInstantTranslation('TT___REPORT_IMMEDIATELY_BY_PHONE_ALL_FATAL_LI')}</li>\r\n                <li>   ${tipoHandle.getInstantTranslation('TT___COMPLETE_AND')}\r\n                </li>\r\n                <li>  ${tipoHandle.getInstantTranslation('TT___COMPLETE_AND_SUBMIT_THE_FINAL_INCIDENT_I')}</li>\r\n            </ul>\r\n        </div>\r\n\r\n`}\r\n\r\n    async function getPersonsData(){\r\n        if(data_handle.tipo && data_handle.tipo.who_Injured && data_handle.tipo.who_Injured.length > 0 ){\r\n        var html = `<br>\r\n        <div class=\"main_table\">\r\n        <table>\r\n           <tr class=\"header bg-light-blue\">\r\n        <td colspan=\"5\"> ${tipoHandle.getInstantTranslation('TT___INVOLVED_ROLE')}</td>\r\n        </tr>`;\r\n        for(let i=0; i< data_handle.tipo.who_Injured.length; i++){\r\n            const element = data_handle.tipo['who_Injured'][i];\r\n            html+= `\r\n            <table style=\"border-collapse: collapse;\">\r\n            <tr>\r\n            <td style=\"font-weight: bold;\">${tipoHandle.getInstantTranslation('TT___PERSON')} ${i+1}</td>\r\n            </tr>\r\n            </table>\r\n            <div style=\"padding:5px\">\r\n             <table style=\"border-collapse:collapse;\" id=\"customStyle\">\r\n        <tr class=\"header bg-light-blue\">\r\n            <td>  ${tipoHandle.getInstantTranslation('TT___PAYROLL')}</td>\r\n            <td> ${tipoHandle.getInstantTranslation('TT___OFF_SITE_MEDICAL_PROVIDER')}</td>\r\n            <td> ${tipoHandle.getInstantTranslation('TT___OFF_SITE_TAKEN_BY')}</td>\r\n        </tr>\r\n            <tr>\r\n                    <td class=\"border-style\">${element.injured_payroll}</td>\r\n                   <!-- <td class=\"border-style\">${element.injured_was_employee_taken_to_an_offsite_medical_provider_ === true ? 'YES' : 'NO'}  ${element.injured_off_site_medical_provider? '-'+ element.injured_off_site_medical_provider : ''}</td> --!>\r\n                    <td class=\"border-style\">${(element.injured_was_employee_taken_to_an_offsite_medical_provider_ === true || !element.injured_was_employee_taken_to_an_offsite_medical_provider_) ? tipoHandle.getInstantTranslation('TT___YES') : tipoHandle.getInstantTranslation('TT___NO')}  ${element.injured_off_site_medical_provider? '-'+ element.injured_off_site_medical_provider : ''}</td>\r\n                     <td class=\"border-style\">${element.injured_off_site_taken_by || ''} ${element.injured_off_site_when ? '- @'+ tipoHandle.getDateUtil(element.injured_off_site_when).format('MMM DD,YYYY h:mm:ss a') : ''}</td>\r\n                </tr>\r\n        <tr class=\"header bg-light-blue\">\r\n                <td class=\"border-style\">\r\n                     ${tipoHandle.getInstantTranslation('TT___IS_FOLLOW_UP_MEDICAL_CARE_REQUIRED')}\r\n                </td>\r\n                <td class=\"border-style\">\r\n                    ${tipoHandle.getInstantTranslation('TT___WAS_WORKER_PROVIDED_WITH_A_FUNCTIONAL_AB')}\r\n                </td>\r\n                <td class=\"border-style\">\r\n                    ${tipoHandle.getInstantTranslation('TT___WAS_MODIFIED_WORK_OFFERED_TO_EMPLOYEE')}\r\n                </td>\r\n            </tr>\r\n                <tr>\r\n              <!--   <td class=\"border-style\">${element.injured_is_follow_up_medical_care_required_ === 'Yes' ? 'YES' : (element.injured_is_follow_up_medical_care_required_ === 'No'? 'NO': (element.injured_is_follow_up_medical_care_required_ === 'Not Applicable'? 'NOT APPLICABLE': ''))}</td> \r\n                    <td class=\"border-style\">${element.injured_was_worker_provided_with_a_functional_abilities_form_work_release_ === 'Yes' ? 'YES' : (element.injured_was_worker_provided_with_a_functional_abilities_form_work_release_ === 'No'? 'NO': (element.injured_was_worker_provided_with_a_functional_abilities_form_work_release_ === 'Not Applicable'? 'NOT APPLICABLE': ''))}</td>\r\n                    <td class=\"border-style\">${element.injured_was_modified_work_offered_to_employee_ === 'Yes' ? 'YES' : (element.injured_was_modified_work_offered_to_employee_ === 'No'? 'NO': (element.injured_was_modified_work_offered_to_employee_ === 'Not Applicable'? 'NOT APPLICABLE': ''))}</td> --!>\r\n                    <td class=\"border-style\">${(element.injured_is_follow_up_medical_care_required_ === 'Yes' || element.injured_is_follow_up_medical_care_required_ === '')?tipoHandle.getInstantTranslation('TT___YES') : ((element.injured_is_follow_up_medical_care_required_ === 'No' || element.injured_is_follow_up_medical_care_required_ === '')? tipoHandle.getInstantTranslation('TT___NO'): ((element.injured_is_follow_up_medical_care_required_ === 'Not Applicable' || element.injured_is_follow_up_medical_care_required_ === '  N/A')? tipoHandle.getInstantTranslation('TT___NOT_APPLICABLE'): ''))}</td> \r\n                    <td class=\"border-style\">${(element.injured_was_worker_provided_with_a_functional_abilities_form_work_release_ === 'Yes' || element.injured_was_worker_provided_with_a_functional_abilities_form_work_release_ === '')?tipoHandle.getInstantTranslation('TT___YES') : ((element.injured_was_worker_provided_with_a_functional_abilities_form_work_release_ === 'No' || element.injured_was_worker_provided_with_a_functional_abilities_form_work_release_ === '')? tipoHandle.getInstantTranslation('TT___NO'): ((element.injured_was_worker_provided_with_a_functional_abilities_form_work_release_ === 'Not Applicable' || element.injured_was_worker_provided_with_a_functional_abilities_form_work_release_ === '  N/A')? tipoHandle.getInstantTranslation('TT___NOT_APPLICABLE'): ''))}</td>\r\n                    <td class=\"border-style\">${(element.injured_was_modified_work_offered_to_employee_ === 'Yes' || element.injured_was_modified_work_offered_to_employee_ === '')?tipoHandle.getInstantTranslation('TT___YES') : ((element.injured_was_modified_work_offered_to_employee_ === 'No' || element.injured_was_modified_work_offered_to_employee_ === '')? tipoHandle.getInstantTranslation('TT___NO'): ((element.injured_was_modified_work_offered_to_employee_ === 'Not Applicable' || element.injured_was_modified_work_offered_to_employee_ === '  N/A')? tipoHandle.getInstantTranslation('TT___NOT_APPLICABLE'): ''))}</td>\r\n                </tr>\r\n        <tr class=\"header bg-light-blue\">\r\n                <td class=\"border-style\">\r\n                     ${tipoHandle.getInstantTranslation('TT___BODY_PART')}\r\n                </td>\r\n                <td class=\"border-style\">\r\n                     ${tipoHandle.getInstantTranslation('TT___MECHANISM_OF_INJURY')}\r\n                </td>\r\n                <td class=\"border-style\">\r\n                    ${tipoHandle.getInstantTranslation('TT___NATURE_OF_INJURY')}\r\n                </td>\r\n            </tr>\r\n                <tr>\r\n                 <td class=\"border-style\">${element.injured_body_part_labels || ''}</td>\r\n                    <td class=\"border-style\">${element.injured_mechanism_of_injury_labels || ''}</td>\r\n                    <td class=\"border-style\">${element.injured_nature_of_injury_labels || ''}</td>\r\n                </tr>\r\n                </table>\r\n                </div>\r\n                <!-- <br> --!>\r\n                `;\r\n        }\r\n        html += '</table> </div><br>'\r\n        return html;\r\n        } else {\r\n            return '<div></div><br>';\r\n        }\r\n    }\r\n\r\n\r\n\r\n    async function getTableRowdata(key,td){\r\n        let html = \"\";\r\n        if(!data_handle.tipo[key]) return html;\r\n        for (let i = 0; i < data_handle.tipo[key].length; i++) {\r\n            html += '<tr>';\r\n            for(let j=0; j < td.length; j++){\r\n                html += '<td class=\"border-style\">';\r\n                if(typeof(td[j])=='string'){\r\n                    html += data_handle.tipo[key][i][td[j]] || ''\r\n                }else{\r\n                    let obj = td[j];\r\n                    if(obj.type ==\"date\"){\r\n                    html += ` <div class=\"no-border\">${data_handle.tipo[key][i][obj.name] ? tipoHandle.getDateUtil(data_handle.tipo[key][i][obj.name]).format(obj.format || 'MMM DD,YYYY'): ''}</div>`  \r\n                    }else if(obj.type == \"boolean\"){\r\n                    html += ` <div class=\"no-border\">${data_handle.tipo[key][i][obj.name] ? 'YES' : 'NO'}</div>`  \r\n                    }else{\r\n                        html += ` <div class=\"no-border\">${data_handle.tipo[key][i][obj.name] ? data_handle.tipo[key][i][obj.name]: ''}</div>`  \r\n                    }\r\n                }\r\n                html += '</td>';\r\n            } \r\n            html += '</tr>'; \r\n        }\r\n        return html;\r\n    }\r\n    function getLoopdata(key1, key2, datatype = 'string', format = null) {\r\n        let html = '';\r\n        if(data_handle.tipo[key1]) {\r\n        for (let i = 0; i < data_handle.tipo[key1].length; i++) {\r\n            if (data_handle.tipo[key1] && data_handle.tipo[key1][i] && data_handle.tipo[key1][i][key2]) {\r\n                if (datatype == 'date') {\r\n                    html += ` <div>${tipoHandle.getDateUtil(data_handle.tipo[key1][i][key2]).format(format || 'MMM DD,YYYY')}</div>`\r\n                } else {\r\n                    html += ` <div style=\"height: 20px; font-size:15px\">${data_handle.tipo[key1][i][key2]}</div>`\r\n                }\r\n            } else {\r\n                html += ` <div style=\"height: 20px\"> </div>`\r\n            }\r\n        }\r\n        }\r\n        return html;\r\n    }\r\n    function getLoopdataFromArray(key1, datatype = 'string', format = null) {\r\n        let html = '';\r\n        if(data_handle.tipo[key1]) {\r\n        for (let i = 0; i < data_handle.tipo[key1].length; i++) {\r\n            if (data_handle.tipo[key1] && data_handle.tipo[key1][i]) {\r\n                if (datatype == 'date') {\r\n                    html += ` <div>${tipoHandle.getDateUtil(data_handle.tipo[key1][i]).format(format || 'MMM DD,YYYY')}</div>`\r\n                } else {\r\n                    html += ` <div>${data_handle.tipo[key1][i]}</div>`\r\n                }\r\n            } else {\r\n                html += ` <div>N/A</div>`\r\n            }\r\n        }\r\n        }\r\n        return html;\r\n    }\r\n    function getBooleanValue(key) {\r\n        return data_handle.tipo[key] == true ? 'Yes' : 'No'\r\n    }\r\n    function getLoopdataWithoutBorder(key1, key2, datatype = 'string', format = null) {\r\n        let html = '';\r\n        if(data_handle.tipo[key1]) {\r\n        for (let i = 0; i < data_handle.tipo[key1].length; i++) {\r\n            if (data_handle.tipo[key1] && data_handle.tipo[key1][i] && data_handle.tipo[key1][i][key2]) {\r\n                if (datatype == 'date') {\r\n                    html += ` <div class=\"no-border\">${tipoHandle.getDateUtil(data_handle.tipo[key1][i][key2]).format(format || 'MMM DD,YYYY')}</div>`\r\n                } else {\r\n                    html += ` <div class=\"no-border\">${data_handle.tipo[key1][i][key2]}</div>`\r\n                }\r\n            } else {\r\n                html += ` <div class=\"no-border\">N/A</div>`\r\n            }\r\n        }\r\n        }\r\n        return html;\r\n    }\r\n    function employeePayrol() {\r\n        let html = '';\r\n        if (!data_handle.tipo.who_Team || !data_handle.tipo.who_Team.others_involved) return html;\r\n        for (let i = 0; i < data_handle.tipo.who_Team.others_involved.length; i++) {\r\n            html += ` <div>\r\n                    <span>${i + 1}.</span>\r\n                    <span>${data_handle.tipo.who_Team.others_involved[i].involved_other_person_team || ''}</span>\r\n                </div>`;\r\n        }\r\n        return html;\r\n    }\r\n    function getEvidence() {\r\n        let html = \"\";\r\n        console.log(\"loop fuction call\");\r\n        if (!data_handle.tipo.what_evidence_attach_ || data_handle.tipo.what_evidence_attach_.length < 1 ) return html;\r\n        for (let i = 0; i < data_handle.tipo.what_evidence_attach_.length; i++) {\r\n            let file = data_handle.tipo.what_evidence_attach_[i];\r\n            try {\r\n                html += `\r\n            <div class=\"image-container border-style\">\r\n            <img src=\"${getEvidenceAttachPath(file.key)}\" />\r\n        </div>\r\n            `\r\n\r\n            }\r\n            catch (err) {\r\n                console.log(err);\r\n            }\r\n        }\r\n        return html;\r\n    }\r\n    function getEvidenceAttachPath(key) {\r\n        // return tipoHandle.application_meta.TipoConfiguration.aws_settings.s3_url + '/' + tipoHandle.application_meta.TipoConfiguration.aws_settings.upload_bucket + '/g/tipotapp/safetyplus/' + key;\r\n                return 'https://safetyplus.apps.dev.pluto.forwoodsafety.com/g/tipotapp/safetyplus/' + key;\r\n\r\n    }\r\n    function getDateString(date,format=null){\r\n        if(!date) return '';     \r\n        return tipoHandle.getDateUtil(date).format(format || 'MMM DD,YYYY')\r\n    }\r\n    async function getActionDetail(){\r\n        let html='';\r\n        if(!data_handle.tipo['incident_action'] || data_handle.tipo['incident_action'].length==0) return html;\r\n        html = `<table class=\"text-center\">\r\n        <tr class=\"header bg-light-blue\">\r\n        <td colspan=\"6\"> ${tipoHandle.getInstantTranslation('TT___ACTION_PLANS')} </td>\r\n        </tr>\r\n        <tr  class=\"header\">\r\n            <td class=\"border-style\">\r\n                ${tipoHandle.getInstantTranslation('TT___RECOMMENDATION_68')}\r\n            </td>\r\n            <td class=\"border-style\">\r\n                ${tipoHandle.getInstantTranslation('TT___ACTION_PLAN_TYPE')}\r\n            </td>\r\n            <td class=\"border-style\">\r\n                ${tipoHandle.getInstantTranslation('TT___ACTION_BY_CLASS')}\r\n            </td>\r\n            <td class=\"border-style\">\r\n               ${tipoHandle.getInstantTranslation('TT___RESPONSIBLE_PERSON')} \r\n            </td>\r\n            <td class=\"border-style\">\r\n                ${tipoHandle.getInstantTranslation('TT___DATE_AND_TIME_INCIDENT_87')}\r\n            </td>\r\n            <td class=\"border-style\">\r\n                ${tipoHandle.getInstantTranslation('TT___DATE_LAST_UPDATED')}\r\n            </td>\r\n        </tr>`;\r\n\r\n        for (let i = 0; i < data_handle.tipo['incident_action'].length; i++) {\r\n            const element = data_handle.tipo['incident_action'][i];\r\n            try{\r\n                let data = await tipoHandle.getTipo('ActionPlan',element.action_plan,{})\r\n                console.log(data);\r\n                html += `<tr>\r\n                    <td class=\"border-style\">${data.action || ''}</td> \r\n                    <td class=\"border-style\">${data.action_plan_type || ''}</td>\r\n                    <td class=\"border-style\">${data.action_class || ''}</td>\r\n                    <td class=\"border-style\">${data.responsible_person__labels || ''}</td>\r\n                    <td class=\"border-style\">${getDateString(data.end_date)}</td>\r\n                    <td class=\"border-style\">${getDateString(data.complete_date || '')}</td>\r\n                </tr>`;\r\n            }finally{\r\n                    \r\n            }            \r\n        }\r\n        html += '</table>'\r\n        return html;\r\n    }\r\n\r\n     async function getFiveWhyTemplate(){\r\n        let html='';\r\n        if(!data_handle.tipo['analysis_root_cause_analysis_smy'] || data_handle.tipo['analysis_root_cause_analysis_smy'].length==0) return html;\r\n        html = `<table class=\"text-center\">\r\n        <tr class=\"header bg-light-blue\">\r\n        <td colspan=\"5\"> ${tipoHandle.getInstantTranslation('TT___ROOT_CAUSE_ANALYSIS')} </td>\r\n        </tr>\r\n        </table>`;\r\n\r\n        for (let i = 0; i < data_handle.tipo['analysis_root_cause_analysis_smy'].length; i++) {\r\n            const element = data_handle.tipo['analysis_root_cause_analysis_smy'][i];\r\n            try{\r\n                whysData = await tipoHandle.getTipo('RootCauseAnalysis',element.root_cause_plugin,{})\r\n                html += `<div style=\"border-bottom: 1px solid\">\r\n                <span style=\"display: flex;\">\r\n                                <label class=\"problemStatementLabel\">\r\n                                ${tipoHandle.getInstantTranslation('TT___PROBLEM_STATEMENT')}</label>\r\n                                <div class=\"text-area\">\r\n                                    <span>\r\n                                        ${whysData.problem_statemnet}\r\n                                    </span>\r\n\r\n                                </div>\r\n                        </span>\r\n                        <br>\r\n                        ${await getWhysTemplate()}\r\n                        <br>\r\n                         <span style=\"display: flex;\">\r\n                                <label class=\"problemStatementLabel\">\r\n                                    ${tipoHandle.getInstantTranslation('TT___ROOT_CAUSE')}</label>\r\n                                <div class=\"text-area\">\r\n                                    <span>\r\n                                        ${whysData.root_cause}\r\n                                    </span>\r\n                                </div>\r\n                            </span>\r\n                            <br>\r\n                            <span style=\"display: flex;\">\r\n                                <label class=\"problemStatementLabel\">\r\n                                    ${tipoHandle.getInstantTranslation('TT___RECURRENCE_PREVENTION')}</label>\r\n                                <div class=\"text-area\">\r\n                                    <span>\r\n                                        ${whysData.recurrence_prevention}\r\n                                    </span>\r\n\r\n                                </div>\r\n                            </span>\r\n                            </div>`;\r\n            }finally{\r\n                    \r\n            }            \r\n        }\r\n        return html;\r\n    }\r\n\r\n    async function getWhysTemplate(){\r\n        let html='';\r\n        for(let j=0; j<whysData.whys.length; j++){\r\n            html += `<span style=\"display: flex;\">\r\n            <label class=\"whyslabel\">\r\n            ${tipoHandle.getInstantTranslation('TT___WHY')}</label>\r\n                <div style=\"display:flex;flex:1;position:relative\" class=${j === whysData.whys.length-1 ? '' : 'why-textarea-arrow'}>\r\n                  <span class=\"whyTextarea\">\r\n                        ${whysData.whys[j]}\r\n                    </span>\r\n                </div>\r\n                </span>`;\r\n        }\r\n        return html;\r\n    }\r\n\r\n\r\n    _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\r\n    var compiled = _.template(htmlfile);\r\n    compiled = compiled(data_handle.tipo);\r\n    let printWindow = window.open('', '', 'height=1000,width=1000');\r\n\r\n    printWindow.document.write(`<html><head><title>${tipoHandle.getInstantTranslation('TT___INCIDENT_INVESTIGATION_REPORT_FORM')} - ${data_handle.tipo.tipo_id}</title>\r\n <style>\r\n        body{\r\n            font-size: 14px;\r\n            margin: 0px;\r\n        }\r\n        @media print {\r\n            body {-webkit-print-color-adjust: exact;}\r\n            tr    { page-break-inside:avoid; page-break-after:auto; }\r\n            table {page-break-inside:avoid; page-break-after:auto; }\r\n        }\r\n\r\n        .content-header {\r\n            display: flex;\r\n            flex-direction: row;\r\n            align-items: center;\r\n            background-color: #01619E;\r\n            color: #fff;\r\n        }\r\n        .content-header img{\r\n            background-color: #01619E;\r\n            padding: 5px;\r\n            width:20%;\r\n        }\r\n        .content-header h2{\r\n            background-color: #01619E;\r\n            text-align: center;\r\n            font-size: 18px;\r\n            text-transform: uppercase;\r\n            width:93%;\r\n        }\r\n\r\n        .content-header button {\r\n            height: 50px;\r\n        }\r\n\r\n        table {\r\n            width: 100%;\r\n            border-collapse: collapse;\r\n        }\r\n\r\n        table tr.header {\r\n            font-size: 14px;\r\n            text-align: center;\r\n            text-transform: uppercase;\r\n            font-weight: bold;\r\n            padding: 10px 0;\r\n        }\r\n\r\n        .bg-light-blue {\r\n            background-color: #cee3f0;\r\n        }\r\n\r\n        table tr.header td {\r\n            border: 1px solid black;\r\n        }\r\n\r\n        table tr td {\r\n            padding: 5px;\r\n        }\r\n\r\n        .no-padding {\r\n            padding: 0px !important;\r\n        }\r\n\r\n        table tr td.nested {\r\n            vertical-align: top;\r\n            padding: 0 !important;\r\n        }\r\n\r\n        table tr td.nested div span:first-child {\r\n            border-right: 1px solid black;\r\n            padding: 6px 7px;\r\n        }\r\n\r\n        table tr td div {\r\n            padding: 5px;\r\n            border: 1px solid black;\r\n            border-bottom: none;\r\n        }\r\n\r\n        table tr td div:last-child {\r\n            border-bottom: 1px solid black;\r\n        }\r\n\r\n        table tr td.nested div {\r\n        }\r\n\r\n        .border-style {\r\n            border: 1px solid black;\r\n        }\r\n\r\n        .border-bottom {\r\n            border-bottom: 1px solid black;\r\n        }\r\n\r\n        .seprator {\r\n            height: 0;\r\n            padding: 0;\r\n            margin: 10px -10px;\r\n        }\r\n\r\n        .no-padding-vertical {\r\n            padding-top: 0 !important;\r\n            padding-bottom: 0 !important;\r\n        }\r\n\r\n        .no-border {\r\n            border: none !important;\r\n        }\r\n\r\n        .text-center {\r\n            text-align: center;\r\n        }\r\n\r\n        .bg-green {\r\n            background-color: #69aa42;\r\n        }\r\n\r\n        .bg-yellow {\r\n            background-color: #dad23b;\r\n        }\r\n\r\n        .bg-skin {\r\n            background-color: #e5c16b;\r\n        }\r\n\r\n        .bg-orange {\r\n            background-color: #e58b59;\r\n        }\r\n\r\n        .bg-red {\r\n            background-color: #d54a52;\r\n        }\r\n\r\n        .action {\r\n            color: blue;\r\n            text-decoration: underline;\r\n        }\r\n        .image-container{\r\n            width: 48%;\r\n            padding: 5px;\r\n            float: left;\r\n            text-align: center;\r\n        }\r\n        .image-container img{\r\n            width: 100%;\r\n        }\r\n        .text-area{\r\n            flex: 20%;\r\n        }\r\n        .problemStatementLabel{\r\n            font-size: 16px;\r\n            padding-left: 15px;\r\n            display: flex;\r\n            align-items: center;\r\n            flex: 0.16;\r\n        }\r\n        .whyslabel{\r\n            font-size: 16px;\r\n            padding-left: 15px;\r\n            display: flex;\r\n            align-items: center;\r\n            flex: 0.12;\r\n        }\r\n        .whys-text-area{\r\n           padding: 10px 3px;\r\n            flex: 20%; \r\n        }\r\n        .why-textarea-arrow {\r\n            position: relative;\r\n            display: flex;\r\n            flex: 1;\r\n            margin-bottom: 25px;\r\n        }\r\n\r\n        .why-textarea-arrow:before {\r\n            content: '';\r\n            position: absolute;\r\n            border-top: 8px solid #686868;\r\n            border-left: 7px solid transparent;\r\n            border-right: 7px solid transparent;\r\n            bottom: -25px;\r\n            left: calc(50% - 7px);\r\n        }\r\n\r\n        .why-textarea-arrow:after {\r\n            content: '';\r\n            position: absolute;\r\n            bottom: -25px;\r\n            width: 2px;\r\n            height: 25px;\r\n            left: calc(50% - 1px);\r\n            background: #686868;\r\n            border-radius: 5px;\r\n        }\r\n        div.main_table {border: 1px solid black;}\r\n        #customStyle{\r\n            border-spacing: 20px 20px 20px 20px;\r\n        }\r\n    </style>\r\n         \r\n    `);\r\n    printWindow.document.write('</head><body>');\r\n    printWindow.document.write(compiled);\r\n    printWindow.document.write('</body></html>');\r\n    // exhartsImg(printWindow.document);\r\n    printWindow.document.close();\r\n    setTimeout(() => {\r\n        printWindow.print();\r\n    }, 500);\r\n});\r\nreturn true;","_ARRAY_META":{"_HASH":"6081755161"}}]},"tipo_create":{"hide_clone_option":false},"tipo_event_js":[{"event_name":"OnList (data_handle)","javascript_code":"// console.log(data_handle);\r\n// let page = tipoHandle.tipoInternalHandleService.getCurrentState().params && tipoHandle.tipoInternalHandleService.getCurrentState().params.page\r\n// let filter_str = tipoHandle.tipoInternalHandleService.getCurrentState().url_filter;\r\n// if(filter_str){\r\n//     let update_str = filter_str.replace('Reported', 'TT___REPORTED').replace(' ', 'TT___REPORTED').replace('Under Investigation','TT___UNDER_INVESTIGATION').replace(' ', 'TT___UNDER_INVESTIGATION').replace('Under Review', 'TT___UNDER_REVIEW').replace(' ', 'TT___UNDER_REVIEW').replace('Final', 'TT___FINAL').replace('', 'TT___FINAL').replace('Closed', 'TT___CLOSED').replace('', 'TT___CLOSED').replace('\\\\\\\\!true', 'false').replace('Health','TT___HEALTH').replace('Salud', 'TT___HEALTH').replace('Safety','TT___SAFETY').replace('Seguridad','TT___SAFETY').replace('Community','TT___COMMUNITY').replace('Comunidad','TT___COMMUNITY').replace('Reputation','TT___REPUTATION').replace('Reputacin','TT___REPUTATION').replace('Environment','TT___ENVIRONMENT_48').replace('Financial', 'TT___FINANCIAL').replace('Financiero','TT___FINANCIAL').replace('Legal', 'TT___LEGAL').replace('Legal','TT___LEGAL').replace('Security','TT___SECURITY').replace('Seguridad','TT___SECURITY').replace('Cyber','TT___CYBER').replace('Ciberntico', 'TT___CYBER');\r\n//     let final_str = update_str.replace('Medio Ambiente','TT___ENVIRONMENT');\r\n//     tipoHandle.routeTo('/tipo/CreateIncident', {filter: final_str, page: page});\r\n// }","_ARRAY_META":{"_HASH":"0345897399"}},{"event_name":"PostServerSave (data_handle)","javascript_code":"function htmlencode(str) {\n    var buf = [];\n    for (var i=str.length-1;i>=0;i--) {\n                    buf.unshift(['&#', str[i].charCodeAt(), ';'].join(''));\n                }\n    return buf.join('');\n}\n\ntipoHandle.tipoInternalHandleService.tipoDataService.getTipo('CreateIncident', data_handle.tipo.tipo_id, {}, true, undefined, undefined, true, true).subscribe();\n//Below added code is to send Email Notifications to the respective users for create incident\nconst domain = window.localStorage.getItem('server_url') ? window.localStorage.getItem('server_url') : window.location.origin +'/';\n   const INCIDENT_LINK = domain +'#/tipo/CreateIncident/'+ data_handle.tipo.tipo_id;\n   const APP_LINK = domain +'#/login';\n   const Incident_Number = data_handle.tipo.tipo_id;\n   const Incident_Status = data_handle.tipo.overview_incident_status;\n   const Incident_Type = data_handle.tipo.incident_type_labels.toString();\n   const Short_Description = data_handle.tipo.what_briefly_describe_the_incident;\n   const Investigation_Completed = data_handle.tipo.investigation_completed_ ? 'Yes' : 'No';\n//    const Company = data_handle.tipo.client_labels;\n   const Region = data_handle.tipo.company_labels;\n   const Area = data_handle.tipo.structure_level_1_labels;\n   const dt = data_handle.tipo.when_date_and_time_of_incident;\n   const Date = dt ? tipoHandle.getDateUtil(dt).toString() : '';\n   if(data_handle.mode === 'create' ) {\n   let filter = `(site_or_company:${data_handle.tipo.where_incidentlocn.company[0]} AND status:ACTIVE AND (jobRoleCategory.keyword:(Manager) OR (roles.keyword:SiteAdmin)))`;\n     //  let filter = `(jobRoleCategory.keyword:(Manager) OR (roles.keyword:SiteAdmin))`;\n    tipoHandle.getTipos('TipoFIDUser', { tipo_filter: filter }).then((res) => {\n  console.log(res, '=====');\n  let updatedUsers, allUsers= [];\n  const users = res.count > 0 ? res.map(t => t.email) : [];\n  if (data_handle.tipo.who_Team.notify_responsible_persons) {\n            updatedUsers = data_handle.tipo.who_Team.responsible_manager;\n            allUsers = [...users, updatedUsers];\n        } else {\n            allUsers = [...users];\n        }\n        const subject = 'New '+Incident_Type+' Incident Number '+Incident_Number+' is created';\n    const body = '<html> <head> <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /> </head> <body> <div> <p style=\"font-size: 11pt; font-family: Calibri, sans-serif; margin: 0\"> <h4>Incident Details:</h4> <div> Incident Number: ' + Incident_Number + '</div> <div> Incident Status: ' + Incident_Status + '</div><div>Incident Type: '+Incident_Type+'</div> <div> Region: ' + Region + '</div><div> Area: ' + htmlencode(Area) + '</div> <div>Date: ' + Date + '</div> <div> Description: ' + Short_Description + '</div> <p> <div>Review the incident and reflect on the content. </div> <div>If you are part of the investigation, update \"Incident Status\" and other fields as required.</div> </p> You can view the incident details <a href=\"' + INCIDENT_LINK + '\" target=\"_blank\" rel=\"noopener noreferrer\" data-auth=\"NotApplicable\" data-linkindex=\"5\" >here</a >.</span > </p> <br> <p> <span style=\"color: black; font-size: 9pt; font-family: Tahoma, sans-serif\" >Kind regards,</span > </p> <p> <span style=\"color: black; font-size: 9pt; font-family: Tahoma, sans-serif\" >Forwood Safety Team</span > </p> <p> <span style=\"color: black; font-size: 9pt; font-family: Tahoma, sans-serif\" ><a href=\"' + APP_LINK + '\" target=\"_blank\" rel=\"noopener noreferrer\" data-auth=\"NotApplicable\" data-linkindex=\"6\" >Forwood Safety Portal</a ></span > </p> <br> <hr/> <p style=\"font-size: 11pt; font-family: Calibri, sans-serif; margin: 0\"> <span style=\"color: black\" ><br />Please note that for security reasons <b>you need to be logged into the portal</b> in order to use any direct links presented in this email.<br />After logging into the portal you can click on the link(s) to access the respective page(s).<br /><br />This is an automated message from the Forwood Safety Portal.<br />Please do not reply to this message. </span> </p> </div> </body></html>'\n    sendEmail(allUsers, subject, body);\n});\n   }\n   \n   function sendEmail(users, subject, body) {\n       console.log(users, subject, body);\n       const recipents_limit = 50;\n           var a = _.uniq(users);\n           while(a.length) {\n               let recipents = a.splice(0,recipents_limit);\n               console.log(recipents.toString());\n               tipoHandle.sendEmail(recipents.toString(), subject, body);\n           }\n   }","_ARRAY_META":{"_HASH":"2605860069"}},{"event_name":"OnView (data_handle)","javascript_code":"console.log(tipoHandle.tipoInternalHandleService.getInstantTranslation('TT___PROJECT'), tipoHandle.tipoInternalHandleService.getInstantTranslation('TT___PRINT'))\nif(data_handle.tipo.analysis_required){\n    data_handle.tipo.overview_analysis_due = data_handle.tipo.analysis_due_date;\n}\n\nreturn tipoHandle.getTipo('CreateIncident', data_handle.tipo.tipo_id, {}).then((result) => {\n        return tipoHandle.getTipos('ActionPlan', {'tipo_filter': 'parent_tipo_id:'+data_handle.tipo.tipo_id}, true).then((res) => {\n            data_handle.tipo = {...data_handle.tipo, ...result};\n            if(res && res.count > 0) { \n                if(result.incident_action){\n                    data_handle.tipo.overview_total_actions = result.incident_action.length;\n                    let actionPlans = res.filter(item => result.incident_action.some(itemToBeRemoved => itemToBeRemoved.action_plan === item.tipo_id))\n                    console.log(actionPlans)\n                    data_handle.tipo.overview_outstanding_actions = actionPlans.filter(t => t && t.status_ap___token === 'TT___INCOMPLETE').length;\n                    data_handle.tipo.completed_actions = actionPlans.filter(t => t && t.status_ap___token === 'TT___COMPLETE').length;\n                } else {\n                    data_handle.tipo.overview_total_actions = 0;\n                    data_handle.tipo.overview_outstanding_actions = 0;\n                    data_handle.tipo.completed_actions = 0;\n                }\n                //data_handle.tipo.overview_outstanding_actions \n        } else {\n            data_handle.tipo.overview_total_actions = 0;\n            data_handle.tipo.overview_outstanding_actions = 0;\n            data_handle.tipo.completed_actions = 0;\n        }\n        //This piece of code is to check the investigation finalised are disable then make the allInvestigationFinalised toggle are true otherwise false to show the finalise button\n        if(data_handle.tipo.confirmations && data_handle.tipo.confirmations.length >0){   \n            let check = result.confirmations.some((ele) => ele.Investigation_finalised == \"\" || ele.Investigation_finalised == false);\n            if(check){\n                data_handle.tipo.overview_AllInvestigationFinalisedSelected = false;\n            } else {\n                data_handle.tipo.overview_AllInvestigationFinalisedSelected = true; \n            }\n        }\n            let add_person = (data_handle.tipo.confirmations||[]).filter(item => item.Investigation_finalised != true);\n                data_handle.tipo.approver_lists = _.map(add_person, 'addperson_PersonDetails');\n     //return false;\n    });\n    });\nreturn true;","_ARRAY_META":{"_HASH":"7794905235"}},{"event_name":"OnSave (data_handle)","javascript_code":"if(data_handle.mode === 'create' && tipoHandle.user_meta.user_attributes.user.employmentStatus === 'Contractor'){\r\n    data_handle.tipo.created_by_team_hierarchy_key = tipoHandle.user_meta.user_attributes.user.contractor_company.team_hierarchy_key;\r\n}\r\nif(data_handle.mode === 'create'){\r\n            if(data_handle.tipo.incident_type && data_handle.tipo.incident_type.length > 0) { \r\n\r\n                data_handle.tipo.incident_type___token = data_handle.tipo.incident_type___token;\r\n                data_handle.tipo.incident_type_labels___token = data_handle.tipo.incident_type___token;\r\n                data_handle.tipo.incident_categories_labels = data_handle.tipo.incident_categories_labels;\r\n                data_handle.tipo.incident_categories = data_handle.tipo.incident_categories;\r\n                data_handle.tipo.incident_categories_labels___token = data_handle.tipo.incident_categories_labels___token;\r\n                data_handle.tipo.incident_type_labels = data_handle.tipo.incident_type_labels;\r\n                data_handle.tipo.incident_type = data_handle.tipo.incident_type;\r\n        }\r\n    }\r\n\r\nif(data_handle.mode === 'edit'){\r\n    if(data_handle.lookup_options){\r\n        const selectedTipoIds = data_handle.tipo.incident_categories;\r\n        const filteredOptions = data_handle.lookup_options.filter(option => selectedTipoIds.includes(option.tipo_id));\r\n        data_handle.tipo.incident_categories = filteredOptions.map(val => val.tipo_id);\r\n        data_handle.tipo.incident_categories_labels = filteredOptions.map(val => val.name);\r\n        data_handle.tipo.incident_type = [...new Set(filteredOptions.map(val => val.parent))];\r\n        data_handle.tipo.incident_type_labels = [...new Set(filteredOptions.map(val => val.parent_labels))];\r\n        data_handle.tipo.incident_categories_labels___token = filteredOptions.map(val => val.name___token);\r\n        data_handle.tipo.incident_type___token = [...new Set(filteredOptions.map(val => `TT___${val.parent_labels}`))];\r\n    }else{\r\n        data_handle.tipo.incident_type___token = data_handle.tipo.incident_type___token;\r\n        data_handle.tipo.incident_type_labels___token = data_handle.tipo.incident_type___token;\r\n        data_handle.tipo.incident_categories_labels = data_handle.tipo.incident_categories_labels;\r\n        data_handle.tipo.incident_categories = data_handle.tipo.incident_categories;\r\n        data_handle.tipo.incident_categories_labels___token = data_handle.tipo.incident_categories_labels___token;\r\n        data_handle.tipo.incident_type_labels = data_handle.tipo.incident_type_labels;\r\n        data_handle.tipo.incident_type =  data_handle.tipo.incident_type;\r\n    }\r\n}\r\nif(data_handle.formControl.valid){\r\n  \r\nconst removeNullKeys = data => {\r\n    const isArray = data instanceof Array;\r\n    const deleteKeysFromObj = val => {\r\n        Object.keys(val).forEach(key => {\r\n            if (val[key] === undefined || val[key] === null) {\r\n                delete val[key];\r\n            } else if (typeof val[key] === 'object') {\r\n                if(val[key] instanceof Array && !val[key].length){\r\n                    delete val[key];\r\n                } else {\r\n                     val[key] = removeNullKeys(val[key]);\r\n\r\n                }\r\n            }\r\n        });\r\n    };\r\n    if (isArray) {\r\n        data.forEach(item => deleteKeysFromObj(data))\r\n    } else {\r\n        deleteKeysFromObj(data);\r\n    }\r\n    return data;\r\n};\r\nremoveNullKeys(data_handle.tipo);\r\n//Do not allow to edit when status is closed\r\nif(data_handle.tipo.overview_incident_status___token === 'TT___CLOSED') {\r\n    setTimeout(() => {\r\n            tipoHandle.showMessage(tipoHandle.getInstantTranslation('TT___THE_INCIDENT_IS_ALREADY_CLOSED_PLEASE_RE'));\r\n            tipoHandle.toTipo('view','CreateIncident',data_handle.tipo.tipo_id);\r\n    }, 10);\r\n    return true;\r\n}\r\n\r\n//Change confirmations -> Investigation finalised date\r\n_.forEach(data_handle.tipo.confirmations, function(val, index) {\r\n    if(!val.Investigation_finalised) {\r\n        delete val.date_signed_off;\r\n        delete val.date_signed_off_dtnumber;\r\n    }\r\n});\r\n\r\nif (data_handle.tipo.overview_restricted_access_incident___token === 'TT___RESTRICTED_ACCESS') {\r\n        setTimeout(() => {\r\n            tipoHandle.showMessage(tipoHandle.getInstantTranslation('TT___INCIDENT_IS_MARKED_AS_RESTRICTED'));\r\n            tipoHandle.toTipo('list','CreateIncident',undefined);\r\n        }, 10);\r\n}     \r\n}\r\n\r\n if(data_handle.tipo.analysis_required){\r\n    // data_handle.tipo.analysis_due = data_handle.tipo.analysis_due;\r\n    data_handle.tipo.analysistoggle = false;\r\n }\r\nif(data_handle.tipo.what_review_required){\r\n    data_handle.tipo.reviewtoggle = false;\r\n}\r\n return tipoHandle.getTipos('ActionPlan', {'tipo_filter': 'parent_tipo_id:'+data_handle.tipo.tipo_id}).then((res) => {\r\n   return tipoHandle.getTipo('CreateIncident', data_handle.tipo.tipo_id, {}).then((result) => {\r\n                if(data_handle.tipo.incident_action){\r\n                    data_handle.tipo.overview_total_actions = data_handle.tipo.incident_action.length;\r\n                    //To remove the null when we initially save the first approver list\r\n                    var filtered = res.filter(function (el) {\r\n                        return el != null;\r\n                    });\r\n                    let actionPlans = filtered.filter(item => data_handle.tipo.incident_action.some(itemToBeRemoved => itemToBeRemoved.action_plan === item.tipo_id))\r\n                    console.log(actionPlans)\r\n                    data_handle.tipo.overview_outstanding_actions = actionPlans.filter(t => t && t.status_ap___token === 'TT___INCOMPLETE').length;\r\n                    data_handle.tipo.completed_actions = actionPlans.filter(t => t && t.status_ap___token === 'TT___COMPLETE').length;\r\n                } else {\r\n                    data_handle.tipo.overview_total_actions = 0;\r\n                    data_handle.tipo.overview_outstanding_actions = 0;\r\n                    data_handle.tipo.completed_actions = 0;\r\n                }\r\n\r\n        if(data_handle.tipo){   \r\n         let add_person = (data_handle.tipo.confirmations||[]).filter(item => item.Investigation_finalised != true);\r\n         data_handle.tipo.approver_lists = _.map(add_person, 'addperson_PersonDetails');\r\n//This piece of code is to check the investigation finalised are disable then make the allInvestigationFinalised toggle are true otherwise false to show the finalise button         \r\n        if(data_handle && data_handle.tipo && data_handle.tipo.confirmations && data_handle.tipo.confirmations.length > 0){\r\n            let check = data_handle.tipo.confirmations.some((ele) => ele.Investigation_finalised == \"\" || ele.Investigation_finalised == false);\r\n            if(check){\r\n                data_handle.tipo.overview_AllInvestigationFinalisedSelected = false;\r\n            } else{\r\n            data_handle.tipo.overview_AllInvestigationFinalisedSelected = true; \r\n            }\r\n        } else {\r\n            return false;\r\n        }  \r\n    } \r\n    else {\r\n        return false;\r\n    }\r\n    })\r\n })\r\nreturn true;\r\n\r\n\r\n\r\n\r\n// if(data_handle.formControl.valid){\r\n//      const data = data_handle.tipo.incident_type;\r\n//     data_handle.tipo.incident_categories = Array.from(new Set(data.map(item => item.tipo_id)));\r\n//     data_handle.tipo.incident_type_labels = Array.from(new Set(data.map(item => item.parent_labels)));\r\n//     data_handle.tipo.incident_categories_labels = Array.from(new Set(data.map(item => item.name)));\r\n//     data_handle.tipo.incident_categories_labels_token = Array.from(new Set(data.map(item => item.name___token)));\r\n//     data_handle.tipo.incident_type___token = Array.from(new Set(data.map(item => `TT___${item.parent_labels}`)));\r\n//     data_handle.tipo.incident_type = Array.from(new Set(data.map(item => item.parent)));\r\n    \r\n// const removeNullKeys = data => {\r\n//     const isArray = data instanceof Array;\r\n//     const deleteKeysFromObj = val => {\r\n//         Object.keys(val).forEach(key => {\r\n//             if (val[key] === undefined || val[key] === null) {\r\n//                 delete val[key];\r\n//             } else if (typeof val[key] === 'object') {\r\n//                 if(val[key] instanceof Array && !val[key].length){\r\n//                     delete val[key];\r\n//                 } else {\r\n//                      val[key] = removeNullKeys(val[key]);\r\n\r\n//                 }\r\n//             }\r\n//         });\r\n//     };\r\n//     if (isArray) {\r\n//         data.forEach(item => deleteKeysFromObj(data))\r\n//     } else {\r\n//         deleteKeysFromObj(data);\r\n//     }\r\n//     return data;\r\n// };\r\n// removeNullKeys(data_handle.tipo);\r\n// //Do not allow to edit when status is closed\r\n// if(data_handle.tipo.overview_incident_status___token === 'TT___CLOSED') {\r\n//     setTimeout(() => {\r\n//             tipoHandle.showMessage(tipoHandle.getInstantTranslation('TT___THE_INCIDENT_IS_ALREADY_CLOSED_PLEASE_RE'));\r\n//             tipoHandle.toTipo('view','CreateIncident',data_handle.tipo.tipo_id);\r\n//     }, 10);\r\n//     return true;\r\n// }\r\n\r\n// //Change confirmations -> Investigation finalised date\r\n// _.forEach(data_handle.tipo.confirmations, function(val, index) {\r\n//     if(!val.Investigation_finalised) {\r\n//         delete val.date_signed_off;\r\n//         delete val.date_signed_off_dtnumber;\r\n//     }\r\n// });\r\n\r\n// if (data_handle.tipo.overview_restricted_access_incident___token === 'TT___RESTRICTED_ACCESS') {\r\n//         setTimeout(() => {\r\n//             tipoHandle.showMessage(tipoHandle.getInstantTranslation('TT___INCIDENT_IS_MARKED_AS_RESTRICTED'));\r\n//             tipoHandle.toTipo('list','CreateIncident',undefined);\r\n//         }, 10);\r\n// }     \r\n// }\r\n\r\n//  if(data_handle.tipo.analysis_required){\r\n//     // data_handle.tipo.analysis_due = data_handle.tipo.analysis_due;\r\n//     data_handle.tipo.analysistoggle = false;\r\n//  }\r\n// if(data_handle.tipo.what_review_required){\r\n//     data_handle.tipo.reviewtoggle = false;\r\n// }\r\n//  return tipoHandle.getTipos('ActionPlan', {'tipo_filter': 'parent_tipo_id:'+data_handle.tipo.tipo_id}).then((res) => {\r\n//    return tipoHandle.getTipo('CreateIncident', data_handle.tipo.tipo_id, {}).then((result) => {\r\n//                 if(data_handle.tipo.incident_action){\r\n//                     data_handle.tipo.overview_total_actions = data_handle.tipo.incident_action.length;\r\n//                     //To remove the null when we initially save the first approver list\r\n//                     var filtered = res.filter(function (el) {\r\n//                         return el != null;\r\n//                     });\r\n//                     let actionPlans = filtered.filter(item => data_handle.tipo.incident_action.some(itemToBeRemoved => itemToBeRemoved.action_plan === item.tipo_id))\r\n//                     console.log(actionPlans)\r\n//                     data_handle.tipo.overview_outstanding_actions = actionPlans.filter(t => t && t.status_ap___token === 'TT___INCOMPLETE').length;\r\n//                     data_handle.tipo.completed_actions = actionPlans.filter(t => t && t.status_ap___token === 'TT___COMPLETE').length;\r\n//                 } else {\r\n//                     data_handle.tipo.overview_total_actions = 0;\r\n//                     data_handle.tipo.overview_outstanding_actions = 0;\r\n//                     data_handle.tipo.completed_actions = 0;\r\n//                 }\r\n\r\n//         if(data_handle.tipo){   \r\n//          let add_person = (data_handle.tipo.confirmations||[]).filter(item => item.Investigation_finalised != true);\r\n//          data_handle.tipo.approver_lists = _.map(add_person, 'addperson_PersonDetails');\r\n// //This piece of code is to check the investigation finalised are disable then make the allInvestigationFinalised toggle are true otherwise false to show the finalise button         \r\n//         if(data_handle && data_handle.tipo && data_handle.tipo.confirmations && data_handle.tipo.confirmations.length > 0){\r\n//             let check = data_handle.tipo.confirmations.some((ele) => ele.Investigation_finalised == \"\" || ele.Investigation_finalised == false);\r\n//             if(check){\r\n//                 data_handle.tipo.overview_AllInvestigationFinalisedSelected = false;\r\n//             } else{\r\n//             data_handle.tipo.overview_AllInvestigationFinalisedSelected = true; \r\n//             }\r\n//         } else {\r\n//             return false;\r\n//         }  \r\n//     } \r\n//     else {\r\n//         return false;\r\n//     }\r\n//     })\r\n//  })\r\n// return true;","_ARRAY_META":{"_HASH":"9200128077"}}],"updated_dt":1725251831742,"updated_by_labels":"indrayani rahangdale","updated_date":"2024-09-02T04:37:11.742Z","created_by":"saadmin@forwoodsafety.com","created_dt":"1682419585029","created_date":"2023-04-25T10:46:25.029Z","application_owner_account":"2000000001","account":"2000000001","tipo_name":"TipoDefinition","hash_key":"2000000001.0443429762.2000000001.TipoDefinition.CreateIncident","updated_by":"devops@forwoodsafety.com","el_index":true}}
